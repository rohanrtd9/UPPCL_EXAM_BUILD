"use strict";(self.webpackChunkuppcl_test=self.webpackChunkuppcl_test||[]).push([[179],{58:(xa,mi,Ot)=>{Ot.d(mi,{BH:()=>zn,G6:()=>Ho,L:()=>en,LL:()=>de,Pz:()=>Sn,Sg:()=>ss,UG:()=>Ae,ZB:()=>ut,ZR:()=>De,aH:()=>Jn,b$:()=>jr,eu:()=>ue,hl:()=>se,jU:()=>cr,m9:()=>Pu,ne:()=>wa,pd:()=>ff,r3:()=>$i,ru:()=>er,tV:()=>Ce,uI:()=>ri,vZ:()=>Ea,w1:()=>jo,xO:()=>lf,xb:()=>Ms,z$:()=>$t,zd:()=>mo});const St=function(U){const F=[];let j=0;for(let ye=0;ye<U.length;ye++){let Q=U.charCodeAt(ye);Q<128?F[j++]=Q:Q<2048?(F[j++]=Q>>6|192,F[j++]=63&Q|128):55296==(64512&Q)&&ye+1<U.length&&56320==(64512&U.charCodeAt(ye+1))?(Q=65536+((1023&Q)<<10)+(1023&U.charCodeAt(++ye)),F[j++]=Q>>18|240,F[j++]=Q>>12&63|128,F[j++]=Q>>6&63|128,F[j++]=63&Q|128):(F[j++]=Q>>12|224,F[j++]=Q>>6&63|128,F[j++]=63&Q|128)}return F},ar={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let Q=0;Q<U.length;Q+=3){const me=U[Q],Nt=Q+1<U.length,yn=Nt?U[Q+1]:0,Qt=Q+2<U.length,lr=Qt?U[Q+2]:0;let oi=(15&yn)<<2|lr>>6,On=63&lr;Qt||(On=64,Nt||(oi=64)),ye.push(j[me>>2],j[(3&me)<<4|yn>>4],j[oi],j[On])}return ye.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(St(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let j=0,ye=0;for(;j<U.length;){const Q=U[j++];if(Q<128)F[ye++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const me=U[j++];F[ye++]=String.fromCharCode((31&Q)<<6|63&me)}else if(Q>239&&Q<365){const Qt=((7&Q)<<18|(63&U[j++])<<12|(63&U[j++])<<6|63&U[j++])-65536;F[ye++]=String.fromCharCode(55296+(Qt>>10)),F[ye++]=String.fromCharCode(56320+(1023&Qt))}else{const me=U[j++],Nt=U[j++];F[ye++]=String.fromCharCode((15&Q)<<12|(63&me)<<6|63&Nt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const j=F?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let Q=0;Q<U.length;){const me=j[U.charAt(Q++)],yn=Q<U.length?j[U.charAt(Q)]:0;++Q;const lr=Q<U.length?j[U.charAt(Q)]:64;++Q;const ht=Q<U.length?j[U.charAt(Q)]:64;if(++Q,null==me||null==yn||null==lr||null==ht)throw new Er;ye.push(me<<2|yn>>4),64!==lr&&(ye.push(yn<<4&240|lr>>2),64!==ht&&ye.push(lr<<6&192|ht))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Er extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const en=function(U){return function(U){const F=St(U);return ar.encodeByteArray(F,!0)}(U).replace(/\./g,"")},Ce=function(U){try{return ar.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function ut(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const j in F)!F.hasOwnProperty(j)||!Yt(j)||(U[j]=ut(U[j],F[j]));return U}function Yt(U){return"__proto__"!==U}const Ht=()=>{try{return function wn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&Ce(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Jn=()=>{var U;return null===(U=Ht())||void 0===U?void 0:U.config},Sn=U=>{var F;return null===(F=Ht())||void 0===F?void 0:F[`_${U}`]};class zn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,j)=>{this.resolve=F,this.reject=j})}wrapCallback(F){return(j,ye)=>{j?this.reject(j):this.resolve(ye),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(j):F(j,ye))}}}function ss(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=F||"demo-project",Q=U.iat||0,me=U.sub||U.user_id;if(!me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:Q,exp:Q+3600,auth_time:Q,sub:me,user_id:me,firebase:{sign_in_provider:"custom",identities:{}}},U);return[en(JSON.stringify({alg:"none",type:"JWT"})),en(JSON.stringify(Nt)),""].join(".")}function $t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ri(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Ae(){var U;const F=null===(U=Ht())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function cr(){return"object"==typeof self&&self.self===self}function er(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function jr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jo(){const U=$t();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ho(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((U,F)=>{try{let j=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(ye);Q.onsuccess=()=>{Q.result.close(),j||self.indexedDB.deleteDatabase(ye),U(!0)},Q.onupgradeneeded=()=>{j=!1},Q.onerror=()=>{var me;F((null===(me=Q.error)||void 0===me?void 0:me.message)||"")}}catch(j){F(j)}})}class De extends Error{constructor(F,j,ye){super(j),this.code=F,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(F,j,ye){this.service=F,this.serviceName=j,this.errors=ye}create(F,...j){const ye=j[0]||{},Q=`${this.service}/${F}`,me=this.errors[F],Nt=me?function tt(U,F){return U.replace(an,(j,ye)=>{const Q=F[ye];return null!=Q?String(Q):`<${ye}?>`})}(me,ye):"Error";return new De(Q,`${this.serviceName}: ${Nt} (${Q}).`,ye)}}const an=/\{\$([^}]+)}/g;function $i(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function Ms(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function Ea(U,F){if(U===F)return!0;const j=Object.keys(U),ye=Object.keys(F);for(const Q of j){if(!ye.includes(Q))return!1;const me=U[Q],Nt=F[Q];if(Hr(me)&&Hr(Nt)){if(!Ea(me,Nt))return!1}else if(me!==Nt)return!1}for(const Q of ye)if(!j.includes(Q))return!1;return!0}function Hr(U){return null!==U&&"object"==typeof U}function lf(U){const F=[];for(const[j,ye]of Object.entries(U))Array.isArray(ye)?ye.forEach(Q=>{F.push(encodeURIComponent(j)+"="+encodeURIComponent(Q))}):F.push(encodeURIComponent(j)+"="+encodeURIComponent(ye));return F.length?"&"+F.join("&"):""}function mo(U){const F={};return U.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[Q,me]=ye.split("=");F[decodeURIComponent(Q)]=decodeURIComponent(me)}}),F}function ff(U){const F=U.indexOf("?");if(!F)return"";const j=U.indexOf("#",F);return U.substring(F,j>0?j:void 0)}function wa(U,F){const j=new Wa(U,F);return j.subscribe.bind(j)}class Wa{constructor(F,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{F(this)}).catch(ye=>{this.error(ye)})}next(F){this.forEachObserver(j=>{j.next(F)})}error(F){this.forEachObserver(j=>{j.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,j,ye){let Q;if(void 0===F&&void 0===j&&void 0===ye)throw new Error("Missing Observer.");Q=function Fc(U,F){if("object"!=typeof U||null===U)return!1;for(const j of F)if(j in U&&"function"==typeof U[j])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:j,complete:ye},void 0===Q.next&&(Q.next=tr),void 0===Q.error&&(Q.error=tr),void 0===Q.complete&&(Q.complete=tr);const me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),me}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,F)}sendOne(F,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{j(this.observers[F])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tr(){}function Pu(U){return U&&U._delegate?U._delegate:U}},528:(xa,mi,Ot)=>{function b(e){return"function"==typeof e}function Tt(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fe=Tt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function St(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class En{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(b(r))try{r()}catch(s){t=s instanceof fe?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_i(s)}catch(o){t=t??[],o instanceof fe?t=[...t,...o.errors]:t.push(o)}}if(t)throw new fe(t)}}add(t){var n;if(t&&t!==this)if(this.closed)_i(t);else{if(t instanceof En){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&St(n,t)}remove(t){const{_finalizers:n}=this;n&&St(n,t),t instanceof En&&t._removeParent(this)}}En.EMPTY=(()=>{const e=new En;return e.closed=!0,e})();const ar=En.EMPTY;function Er(e){return e instanceof En||e&&"closed"in e&&b(e.remove)&&b(e.add)&&b(e.unsubscribe)}function _i(e){b(e)?e():e.unsubscribe()}const en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ce={setTimeout(e,t,...n){const{delegate:r}=Ce;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Ce;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Oe(e){Ce.setTimeout(()=>{const{onUnhandledError:t}=en;if(!t)throw e;t(e)})}function ut(){}const Yt=Cn("C",void 0,void 0);function Cn(e,t,n){return{kind:e,value:t,error:n}}let kt=null;function Ht(e){if(en.useDeprecatedSynchronousErrorHandling){const t=!kt;if(t&&(kt={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=kt;if(kt=null,n)throw r}}else e()}class xi extends En{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Er(t)&&t.add(this)):this.destination=cr}static create(t,n,r){return new ss(t,n,r)}next(t){this.isStopped?Ae(function vi(e){return Cn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ae(function wn(e){return Cn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ae(Yt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jn=Function.prototype.bind;function Sn(e,t){return Jn.call(e,t)}class zn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){$t(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){$t(r)}else $t(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){$t(n)}}}class ss extends xi{constructor(t,n,r){let i;if(super(),b(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&en.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Sn(t.next,s),error:t.error&&Sn(t.error,s),complete:t.complete&&Sn(t.complete,s)}):i=t}this.destination=new zn(i)}}function $t(e){en.useDeprecatedSynchronousErrorHandling?function yi(e){en.useDeprecatedSynchronousErrorHandling&&kt&&(kt.errorThrown=!0,kt.error=e)}(e):Oe(e)}function Ae(e,t){const{onStoppedNotification:n}=en;n&&Ce.setTimeout(()=>n(e,t))}const cr={closed:!0,next:ut,error:function ri(e){throw e},complete:ut},er="function"==typeof Symbol&&Symbol.observable||"@@observable";function jr(e){return e}function jo(e){return 0===e.length?jr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let pn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function se(e){return e&&e instanceof xi||function Ho(e){return e&&b(e.next)&&b(e.error)&&b(e.complete)}(e)&&Er(e)}(n)?n:new ss(n,r,i);return Ht(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Mc(r))((i,s)=>{const o=new ss({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[er](){return this}pipe(...n){return jo(n)(this)}toPromise(n){return new(n=Mc(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function Mc(e){var t;return null!==(t=e??en.Promise)&&void 0!==t?t:Promise}const ue=Tt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let he=(()=>{class e extends pn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ee(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ue}next(n){Ht(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ht(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ht(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ar:(this.currentObservers=null,s.push(n),new En(()=>{this.currentObservers=null,St(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new pn;return n.source=this,n}}return e.create=(t,n)=>new Ee(t,n),e})();class Ee extends he{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:ar}}function De(e){return b(e?.lift)}function de(e){return t=>{if(De(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(e,t,n,r,i){return new an(e,t,n,r,i)}class an extends xi{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function dt(e,t){return de((n,r)=>{let i=0;n.subscribe(tt(r,s=>{r.next(e.call(t,s,i++))}))})}var gt=Ot(582);const vn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ur(e){return b(e?.then)}function Zn(e){return b(e[er])}function Ai(e){return Symbol.asyncIterator&&b(e?.[Symbol.asyncIterator])}function ii(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const os=function $i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ms(e){return b(e?.[os])}function uf(e){return(0,gt.FC)(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield(0,gt.qq)(n.read());if(i)return yield(0,gt.qq)(void 0);yield yield(0,gt.qq)(r)}}finally{n.releaseLock()}})}function Ea(e){return b(e?.getReader)}function Hr(e){if(e instanceof pn)return e;if(null!=e){if(Zn(e))return function Su(e){return new pn(t=>{const n=e[er]();if(b(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(vn(e))return function lf(e){return new pn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ur(e))return function mo(e){return new pn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Oe)})}(e);if(Ai(e))return as(e);if(Ms(e))return function ff(e){return new pn(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ea(e))return function wa(e){return as(uf(e))}(e)}throw ii(e)}function as(e){return new pn(t=>{(function Wa(e,t){var n,r,i,s;return(0,gt.mG)(this,void 0,void 0,function*(){try{for(n=(0,gt.KL)(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ci(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function tr(e,t,n=1/0){return b(t)?tr((r,i)=>dt((s,o)=>t(r,s,i,o))(Hr(e(r,i))),n):("number"==typeof t&&(n=t),de((r,i)=>function Fc(e,t,n,r,i,s,o,a){const c=[];let u=0,l=0,h=!1;const g=()=>{h&&!c.length&&!u&&t.complete()},_=v=>u<r?y(v):c.push(v),y=v=>{s&&t.next(v),u++;let x=!1;Hr(n(v,l++)).subscribe(tt(t,T=>{i?.(T),s?_(T):t.next(T)},()=>{x=!0},void 0,()=>{if(x)try{for(u--;c.length&&u<r;){const T=c.shift();o?Ci(t,o,()=>y(T)):y(T)}g()}catch(T){t.error(T)}}))};return e.subscribe(tt(t,_,()=>{h=!0,g()})),()=>{a?.()}}(r,i,e,n)))}function _o(e=1/0){return tr(jr,e)}const si=new pn(e=>e.complete());function za(e){return e[e.length-1]}function bu(e){return b(za(e))?e.pop():void 0}function qa(e){return function no(e){return e&&b(e.schedule)}(za(e))?e.pop():void 0}function Gi(e,t=0){return de((n,r)=>{n.subscribe(tt(r,i=>Ci(r,e,()=>r.next(i),t),()=>Ci(r,e,()=>r.complete(),t),i=>Ci(r,e,()=>r.error(i),t)))})}function cs(e,t=0){return de((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Pu(e,t){if(!e)throw new Error("Iterable cannot be null");return new pn(n=>{Ci(n,t,()=>{const r=e[Symbol.asyncIterator]();Ci(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function j(e,t){return t?function F(e,t){if(null!=e){if(Zn(e))return function Ka(e,t){return Hr(e).pipe(cs(t),Gi(t))}(e,t);if(vn(e))return function th(e,t){return new pn(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(ur(e))return function Ru(e,t){return Hr(e).pipe(cs(t),Gi(t))}(e,t);if(Ai(e))return Pu(e,t);if(Ms(e))return function df(e,t){return new pn(n=>{let r;return Ci(n,t,()=>{r=e[os](),Ci(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>b(r?.return)&&r.return()})}(e,t);if(Ea(e))return function U(e,t){return Pu(uf(e),t)}(e,t)}throw ii(e)}(e,t):Hr(e)}function ye(...e){const t=qa(e),n=function ku(e,t){return"number"==typeof za(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Hr(r[0]):_o(n)(j(r,t)):si}class Q extends he{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function me(...e){return j(e,qa(e))}function Nt(e={}){const{connector:t=(()=>new he),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,c,u=0,l=!1,h=!1;const g=()=>{a?.unsubscribe(),a=void 0},_=()=>{g(),o=c=void 0,l=h=!1},y=()=>{const v=o;_(),v?.unsubscribe()};return de((v,x)=>{u++,!h&&!l&&g();const T=c=c??t();x.add(()=>{u--,0===u&&!h&&!l&&(a=yn(y,i))}),T.subscribe(x),!o&&u>0&&(o=new ss({next:w=>T.next(w),error:w=>{h=!0,g(),a=yn(_,n,w),T.error(w)},complete:()=>{l=!0,g(),a=yn(_,r),T.complete()}}),Hr(v).subscribe(o))})(s)}}function yn(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ss({next:()=>{r.unsubscribe(),e()}});return Hr(t(...n)).subscribe(r)}function Qt(e,t){return de((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(tt(r,c=>{i?.unsubscribe();let u=0;const l=s++;Hr(e(c,l)).subscribe(i=tt(r,h=>r.next(t?t(c,h,l,u++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function lr(e,t=jr){return e=e??Fs,de((n,r)=>{let i,s=!0;n.subscribe(tt(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}function Fs(e,t){return e===t}function ht(e){for(let t in e)if(e[t]===ht)return t;throw Error("Could not find renamed property on target object.")}function oi(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function On(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(On).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ia(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Oc=ht({__forward_ref__:ht});function J(e){return e.__forward_ref__=J,e.toString=function(){return On(this())},e}function W(e){return Ne(e)?e():e}function Ne(e){return"function"==typeof e&&e.hasOwnProperty(Oc)&&e.__forward_ref__===J}function mt(e){return e&&!!e.\u0275providers}const Xt="https://g.co/ng/security#xss";class ge extends Error{constructor(t,n){super(function $r(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function lt(e){return"string"==typeof e?e:null==e?"":String(e)}function q0(e,t){throw new ge(-201,!1)}function us(e,t){null==e&&function At(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function yt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ls(e){return{providers:e.providers||[],imports:e.imports||[]}}function pf(e){return Lc(e,gf)||Lc(e,fy)}function Lc(e,t){return e.hasOwnProperty(t)?e[t]:null}function Nu(e){return e&&(e.hasOwnProperty(mf)||e.hasOwnProperty(Y0))?e[mf]:null}const gf=ht({\u0275prov:ht}),mf=ht({\u0275inj:ht}),fy=ht({ngInjectableDef:ht}),Y0=ht({ngInjectorDef:ht});var nn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(nn||{});let _f;function Si(e){const t=_f;return _f=e,t}function dy(e,t,n){const r=pf(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&nn.Optional?null:void 0!==t?t:void q0(On(e))}const qn=globalThis;class Ye{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=yt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wf={},If="__NG_DI_FLAG__",rh="ngTempTokenPath",DI=/\n/gm,_y="__source";let Mu;function ls(e){const t=Mu;return Mu=e,t}function bI(e,t=nn.Default){if(void 0===Mu)throw new ge(-203,!1);return null===Mu?dy(e,void 0,t):Mu.get(e,t&nn.Optional?null:void 0,t)}function Be(e,t=nn.Default){return(function vf(){return _f}()||bI)(W(e),t)}function ft(e,t=nn.Default){return Be(e,Ou(t))}function Ou(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vo(e){const t=[];for(let n=0;n<e.length;n++){const r=W(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ge(900,!1);let i,s=nn.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Lu(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}t.push(Be(i,s))}else t.push(Be(r))}return t}function $o(e,t){return e[If]=t,e.prototype[If]=t,e}function Lu(e){return e[If]}function Go(e){return{toString:e}.toString()}var ih=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ih||{}),Di=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Di||{});const Wo={},cn=[],Tf=ht({\u0275cmp:ht}),sh=ht({\u0275dir:ht}),Af=ht({\u0275pipe:ht}),Vs=ht({\u0275mod:ht}),zo=ht({\u0275fac:ht}),Cf=ht({__NG_ELEMENT_ID__:ht}),oh=ht({__NG_ENV_ID__:ht});function Sf(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function ah(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];xy(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function tg(e){return 3===e||4===e||6===e}function xy(e){return 64===e.charCodeAt(0)}function Vc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||ch(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function ch(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const uh="ng-template";function lh(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==Sf(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function fh(e){return 4===e.type&&e.value!==uh}function Ey(e,t,n){return t===(4!==e.type||n?e.value:uh)}function ng(e,t,n){let r=4;const i=e.attrs||[],s=function wy(e){for(let t=0;t<e.length;t++)if(tg(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Ey(e,c,n)||""===c&&1===t.length){if(ro(r))return!1;o=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!lh(e.attrs,u,n)){if(ro(r))return!1;o=!0}continue}const h=rg(8&r?"class":c,i,fh(e),n);if(-1===h){if(ro(r))return!1;o=!0;continue}if(""!==u){let g;g=h>s?"":i[h+1].toLowerCase();const _=8&r?g:null;if(_&&-1!==Sf(_,u,0)||2&r&&u!==g){if(ro(r))return!1;o=!0}}}}else{if(!o&&!ro(r)&&!ro(c))return!1;if(o&&ro(c))continue;o=!1,r=c|1&r}}return ro(r)||o}function ro(e){return 0==(1&e)}function rg(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function sg(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Df(e,t,n=!1){for(let r=0;r<t.length;r++)if(ng(e,t[r],n))return!0;return!1}function dh(e,t){return e?":not("+t.trim()+")":t}function kI(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ro(o)&&(t+=dh(s,i),i=""),r=o,s=s||!ro(r);n++}return""!==i&&(t+=dh(s,i)),t}function Sr(e){return Go(()=>{const t=ph(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ih.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Di.Emulated,styles:e.styles||cn,_:null,schemas:e.schemas||null,tView:null,id:""};Ty(n);const r=e.dependencies;return n.directiveDefs=Vu(r,!1),n.pipeDefs=Vu(r,!0),n.id=function lg(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function ag(e){return gn(e)||Gr(e)}function cg(e){return null!==e}function Wi(e){return Go(()=>({type:e.type,bootstrap:e.bootstrap||cn,declarations:e.declarations||cn,imports:e.imports||cn,exports:e.exports||cn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function hh(e,t){if(null==e)return Wo;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function Dt(e){return Go(()=>{const t=ph(e);return Ty(t),t})}function bi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function gn(e){return e[Tf]||null}function Gr(e){return e[sh]||null}function zi(e){return e[Af]||null}function fs(e,t){const n=e[Vs]||null;if(!n&&!0===t)throw new Error(`Type ${On(e)} does not have '\u0275mod' property.`);return n}function ph(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Wo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||cn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hh(e.inputs,t),outputs:hh(e.outputs)}}function Ty(e){e.features?.forEach(t=>t(e))}function Vu(e,t){if(!e)return null;const n=t?zi:ag;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(cg)}const wr=0,Je=1,Mt=2,nr=3,yo=4,Bc=5,ki=6,Qa=7,Dr=8,qo=9,Bu=10,bt=11,kf=12,gh=13,Uu=14,dr=15,Rf=16,Xa=17,Ko=18,Pf=19,fg=20,Zo=21,Ca=22,Yo=23,ju=24,rn=25,dg=1,Ay=2,Qo=7,Nf=9,Wr=11;function ds(e){return Array.isArray(e)&&"object"==typeof e[dg]}function hs(e){return Array.isArray(e)&&!0===e[dg]}function Cy(e){return 0!=(4&e.flags)}function Hu(e){return e.componentOffset>-1}function pg(e){return 1==(1&e.flags)}function Xo(e){return!!e.template}function Mf(e){return 0!=(512&e[Mt])}function xo(e,t){return e.hasOwnProperty(zo)?e[zo]:null}let qr=null,_h=!1;function ps(e){const t=qr;return qr=e,t}const by={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _g(e){if(!Of(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Py(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function vg(e){e.dirty=!0,function Ry(e){if(void 0===e.liveConsumerNode)return;const t=_h;_h=!0;try{for(const n of e.liveConsumerNode)n.dirty||vg(n)}finally{_h=t}}(e),e.consumerMarkedDirty?.(e)}function Hc(e){return e&&(e.nextProducerIndex=0),ps(e)}function Gu(e,t){if(ps(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Of(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Wu(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Py(e){ec(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(_g(n),r!==n.version))return!0}return!1}function vh(e){if(ec(e),Of(e))for(let t=0;t<e.producerNode.length;t++)Wu(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Wu(e,t){if(function xg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ec(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Wu(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ec(i),i.producerIndexOfThis[r]=t}}function Of(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ec(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ny=null;const Ly=()=>{},$I=(()=>({...by,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Ly}))();class wg{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function io(){return xh}function xh(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ig),GI}function GI(){const e=Eh(this),t=e?.current;if(t){const n=e.previous;if(n===Wo)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ig(e,t,n,r){const i=this.declaredInputs[n],s=Eh(e)||function wh(e,t){return e[Vy]=t}(e,{previous:Wo,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new wg(c&&c.currentValue,t,a===Wo),e[r]=t}io.ngInherit=!0;const Vy="__ngSimpleChanges__";function Eh(e){return e[Vy]||null}const so=function(e,t,n){};function Rn(e){for(;Array.isArray(e);)e=e[wr];return e}function Ih(e,t){return Rn(t[e])}function gs(e,t){return Rn(t[e.index])}function Cg(e,t){return e.data[t]}function Zu(e,t){return e[t]}function Bs(e,t){const n=t[e];return ds(n)?n:n[wr]}function nc(e,t){return null==t?null:e[t]}function Th(e){e[Xa]=0}function bg(e){1024&e[Mt]||(e[Mt]|=1024,Yu(e,1))}function By(e){1024&e[Mt]&&(e[Mt]&=-1025,Yu(e,-1))}function Yu(e,t){let n=e[nr];if(null===n)return;n[Bc]+=t;let r=n;for(n=n[nr];null!==n&&(1===t&&1===r[Bc]||-1===t&&0===r[Bc]);)n[Bc]+=t,r=n,n=n[nr]}const wt={lFrame:zy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rg(){return wt.bindingsEnabled}function be(){return wt.lFrame.lView}function mn(){return wt.lFrame.tView}function Sa(e){return wt.lFrame.contextLView=e,e[Dr]}function $c(e){return wt.lFrame.contextLView=null,e}function Kr(){let e=Vf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Vf(){return wt.lFrame.currentTNode}function Eo(e,t){const n=wt.lFrame;n.currentTNode=e,n.isParent=t}function Bf(){return wt.lFrame.isParent}function Mg(){wt.lFrame.isParent=!1}function qi(){const e=wt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xu(){return wt.lFrame.bindingIndex++}function Da(e){const t=wt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function eT(e,t){const n=wt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Dh(t)}function Dh(e){wt.lFrame.currentDirectiveIndex=e}function Lg(e){wt.lFrame.currentQueryIndex=e}function nT(e){const t=e[Je];return 2===t.type?t.declTNode:1===t.type?e[ki]:null}function Gy(e,t,n){if(n&nn.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&nn.Host||(i=nT(s),null===i||(s=s[Uu],10&i.type))););if(null===i)return!1;t=i,e=s}const r=wt.lFrame=Wy();return r.currentTNode=t,r.lView=e,!0}function Vg(e){const t=Wy(),n=e[Je];wt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Wy(){const e=wt.lFrame,t=null===e?null:e.child;return null===t?zy(e):t}function zy(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function qy(){const e=wt.lFrame;return wt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ky=qy;function jf(){const e=qy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ki(){return wt.lFrame.selectedIndex}function Wc(e){wt.lFrame.selectedIndex=e}function hr(){const e=wt.lFrame;return Cg(e.tView,e.selectedIndex)}let Qy=!0;function Ju(){return Qy}function ea(e){Qy=e}function el(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=l&&(e.destroyHooks??=[]).push(n,l)}}function bh(e,t,n){kh(e,t,3,n)}function Hf(e,t,n,r){(3&e[Mt])===n&&kh(e,t,n,r)}function Bg(e,t){let n=e[Mt];(3&n)===t&&(n&=8191,n+=1,e[Mt]=n)}function kh(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Xa]:0;c<o;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Xa]+=65536),(a<s||-1==s)&&(KR(e,n,t,c),e[Xa]=(4294901760&e[Xa])+c+2),c++}function Xy(e,t){so(4,e,t);const n=ps(null);try{t.call(e)}finally{ps(n),so(5,e,t)}}function KR(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[Mt]>>13<e[Xa]>>16&&(3&e[Mt])===t&&(e[Mt]+=8192,Xy(a,s)):Xy(a,s)}const rc=-1;class tl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Nh(e){return e!==rc}function $f(e){return 32767&e}function wo(e,t){let n=function XR(e){return e>>16}(e),r=t;for(;n>0;)r=r[Uu],n--;return r}let Ug=!0;function Mh(e){const t=Ug;return Ug=e,t}const e1=255,Fh=5;let dT=0;const ta={};function Oh(e,t){const n=Lh(e,t);if(-1!==n)return n;const r=t[Je];r.firstCreatePass&&(e.injectorIndex=t.length,Hg(r.data,e),Hg(t,null),Hg(r.blueprint,null));const i=Vh(e,t),s=e.injectorIndex;if(Nh(i)){const o=$f(i),a=wo(i,t),c=a[Je].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|c[o+u]}return t[s+8]=i,s}function Hg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Lh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Vh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=s1(i),null===r)return rc;if(n++,i=i[Uu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return rc}function $g(e,t,n){!function jg(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Cf)&&(r=n[Cf]),null==r&&(r=n[Cf]=dT++);const i=r&e1;t.data[e+(i>>Fh)]|=1<<i}(e,t,n)}function t1(e,t,n){if(n&nn.Optional||void 0!==e)return e;q0()}function n1(e,t,n,r){if(n&nn.Optional&&void 0===r&&(r=null),!(n&(nn.Self|nn.Host))){const i=e[qo],s=Si(void 0);try{return i?i.get(t,r,n&nn.Optional):dy(t,r,n&nn.Optional)}finally{Si(s)}}return t1(r,0,n)}function Gg(e,t,n,r=nn.Default,i){if(null!==e){if(2048&t[Mt]&&!(r&nn.Self)){const o=function _T(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[Mt]&&!(512&o[Mt]);){const a=Bh(s,o,n,r|nn.Self,ta);if(a!==ta)return a;let c=s.parent;if(!c){const u=o[fg];if(u){const l=u.get(n,ta,r);if(l!==ta)return l}c=s1(o),o=o[Uu]}s=c}return i}(e,t,n,r,ta);if(o!==ta)return o}const s=Bh(e,t,n,r,ta);if(s!==ta)return s}return n1(t,n,r,i)}function Bh(e,t,n,r,i){const s=function Wg(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Cf)?e[Cf]:void 0;return"number"==typeof t?t>=0?t&e1:mT:t}(n);if("function"==typeof s){if(!Gy(t,e,r))return r&nn.Host?t1(i,0,r):n1(t,n,r,i);try{let o;if(o=s(r),null!=o||r&nn.Optional)return o;q0()}finally{Ky()}}else if("number"==typeof s){let o=null,a=Lh(e,t),c=rc,u=r&nn.Host?t[dr][ki]:null;for((-1===a||r&nn.SkipSelf)&&(c=-1===a?Vh(e,t):t[a+8],c!==rc&&i1(r,!1)?(o=t[Je],a=$f(c),t=wo(c,t)):a=-1);-1!==a;){const l=t[Je];if(r1(s,a,l.data)){const h=pT(a,t,n,o,r,u);if(h!==ta)return h}c=t[a+8],c!==rc&&i1(r,t[Je].data[a+8]===u)&&r1(s,a,t)?(o=l,a=$f(c),t=wo(c,t)):a=-1}}return i}function pT(e,t,n,r,i,s){const o=t[Je],a=o.data[e+8],l=function Uh(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,c=e.directiveStart,l=s>>20,g=i?a+l:e.directiveEnd;for(let _=r?a:a+l;_<g;_++){const y=o[_];if(_<c&&n===y||_>=c&&y.type===n)return _}if(i){const _=o[c];if(_&&Xo(_)&&_.type===n)return c}return null}(a,o,n,null==r?Hu(a)&&Ug:r!=o&&0!=(3&a.type),i&nn.Host&&s===a);return null!==l?ba(t,o,l,a):ta}function ba(e,t,n,r){let i=e[n];const s=t.data;if(function Rh(e){return e instanceof tl}(i)){const o=i;o.resolving&&function hf(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ge(-200,`Circular dependency in DI detected for ${e}${n}`)}(function tn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():lt(e)}(s[n]));const a=Mh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Si(o.injectImpl):null;Gy(e,r,nn.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function cT(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=xh(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==u&&Si(u),Mh(a),o.resolving=!1,Ky()}}return i}function r1(e,t,n){return!!(n[t+(e>>Fh)]&1<<e)}function i1(e,t){return!(e&nn.Self||e&nn.Host&&t)}class Zi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Gg(this._tNode,this._lView,t,Ou(r),n)}}function mT(){return new Zi(Kr(),be())}function ai(e){return Go(()=>{const t=e.prototype.constructor,n=t[zo]||zg(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[zo]||zg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function zg(e){return Ne(e)?()=>{const t=zg(W(e));return t&&t()}:xo(e)}function s1(e){const t=e[Je],n=t.type;return 2===n?t.declTNode:1===n?e[ki]:null}const nl="__parameters__";function rl(e,t,n){return Go(()=>{const r=function qg(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const h=c.hasOwnProperty(nl)?c[nl]:Object.defineProperty(c,nl,{value:[]})[nl];for(;h.length<=l;)h.push(null);return(h[l]=h[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function il(e,t){e.forEach(n=>Array.isArray(n)?il(n,t):t(n))}function ka(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Wf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Yi(e,t,n){let r=sl(e,t);return r>=0?e[1|r]=n:(r=~r,function d1(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function qf(e,t){const n=sl(e,t);if(n>=0)return e[1|n]}function sl(e,t){return function ol(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const f=$o(rl("Optional"),8),m=$o(rl("SkipSelf"),4);function I1(e){return 128==(128&e.flags)}var al=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(al||{});const IH=/^>|^->|<!--|-->|--!>|<!-$/g,TH=/(<|>)/g,AH="\u200b$1\u200b";const ST=new Map;let CH=0;const bT="__ngContext__";function ms(e,t){ds(t)?(e[bT]=t[Pf],function DH(e){ST.set(e[Pf],e)}(t)):e[bT]=t}let kT;function RT(e,t){return kT(e,t)}function nm(e){const t=e[nr];return hs(t)?t[nr]:t}function mP(e){return vP(e[kf])}function _P(e){return vP(e[yo])}function vP(e){for(;null!==e&&!hs(e);)e=e[yo];return e}function Wh(e,t,n,r,i){if(null!=r){let s,o=!1;hs(r)?s=r:ds(r)&&(o=!0,r=r[wr]);const a=Rn(r);0===e&&null!==n?null==i?wP(t,n,a):Zf(t,n,a,i||null,!0):1===e&&null!==n?Zf(t,n,a,i||null,!0):2===e?function k1(e,t,n){const r=D1(e,t);r&&function qH(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function YH(e,t,n,r,i){const s=n[Qo];s!==Rn(n)&&Wh(t,e,r,s,i);for(let a=Wr;a<n.length;a++){const c=n[a];im(c[Je],c,e,t,r,s)}}(t,e,s,n,i)}}function PT(e,t){return e.createComment(function cP(e){return e.replace(IH,t=>t.replace(TH,AH))}(t))}function C1(e,t,n){return e.createElement(t,n)}function xP(e,t){const n=e[Nf],r=n.indexOf(t);By(t),n.splice(r,1)}function S1(e,t){if(e.length<=Wr)return;const n=Wr+t,r=e[n];if(r){const i=r[Rf];null!==i&&i!==e&&xP(i,r),t>0&&(e[n-1][yo]=r[yo]);const s=Wf(e,Wr+t);!function BH(e,t){im(e,t,t[bt],2,null,null),t[wr]=null,t[ki]=null}(r[Je],r);const o=s[Ko];null!==o&&o.detachView(s[Je]),r[nr]=null,r[yo]=null,r[Mt]&=-129}return r}function NT(e,t){if(!(256&t[Mt])){const n=t[bt];t[Yo]&&vh(t[Yo]),t[ju]&&vh(t[ju]),n.destroyNode&&im(e,t,n,3,null,null),function HH(e){let t=e[kf];if(!t)return MT(e[Je],e);for(;t;){let n=null;if(ds(t))n=t[kf];else{const r=t[Wr];r&&(n=r)}if(!n){for(;t&&!t[yo]&&t!==e;)ds(t)&&MT(t[Je],t),t=t[nr];null===t&&(t=e),ds(t)&&MT(t[Je],t),n=t&&t[yo]}t=n}}(t)}}function MT(e,t){if(!(256&t[Mt])){t[Mt]&=-129,t[Mt]|=256,function zH(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof tl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];so(4,a,c);try{c.call(a)}finally{so(5,a,c)}}else{so(4,i,s);try{s.call(i)}finally{so(5,i,s)}}}}}(e,t),function WH(e,t){const n=e.cleanup,r=t[Qa];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Qa]=null);const i=t[Zo];if(null!==i){t[Zo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[Je].type&&t[bt].destroy();const n=t[Rf];if(null!==n&&hs(t[nr])){n!==t[nr]&&xP(n,t);const r=t[Ko];null!==r&&r.detachView(e)}!function bH(e){ST.delete(e[Pf])}(t)}}function FT(e,t,n){return function EP(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[wr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Di.None||s===Di.Emulated)return null}return gs(r,n)}}(e,t.parent,n)}function Zf(e,t,n,r,i){e.insertBefore(t,n,r,i)}function wP(e,t,n){e.appendChild(t,n)}function IP(e,t,n,r,i){null!==r?Zf(e,t,n,r,i):wP(e,t,n)}function D1(e,t){return e.parentNode(t)}let OT,UT,P1,CP=function AP(e,t,n){return 40&e.type?gs(e,n):null};function b1(e,t,n,r){const i=FT(e,r,t),s=t[bt],a=function TP(e,t,n){return CP(e,t,n)}(r.parent||t[ki],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)IP(s,i,n[c],a,!1);else IP(s,i,n,a,!1);void 0!==OT&&OT(s,r,t,n,i)}function rm(e,t){if(null!==t){const n=t.type;if(3&n)return gs(t,e);if(4&n)return LT(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return rm(e,r);{const i=e[t.index];return hs(i)?LT(-1,i):Rn(i)}}if(32&n)return RT(t,e)()||Rn(e[t.index]);{const r=DP(e,t);return null!==r?Array.isArray(r)?r[0]:rm(nm(e[dr]),r):rm(e,t.next)}}return null}function DP(e,t){return null!==t?e[dr][ki].projection[t.projection]:null}function LT(e,t){const n=Wr+e+1;if(n<t.length){const r=t[n],i=r[Je].firstChild;if(null!==i)return rm(r,i)}return t[Qo]}function VT(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&ms(Rn(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)VT(e,t,n.child,r,i,s,!1),Wh(t,e,i,a,s);else if(32&c){const u=RT(n,r);let l;for(;l=u();)Wh(t,e,i,l,s);Wh(t,e,i,a,s)}else 16&c?kP(e,t,r,n,i,s):Wh(t,e,i,a,s);n=o?n.projectionNext:n.next}}function im(e,t,n,r,i,s){VT(n,r,e.firstChild,t,i,s,!1)}function kP(e,t,n,r,i,s){const o=n[dr],c=o[ki].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Wh(t,e,i,c[u],s);else{let u=c;const l=o[nr];I1(r)&&(u.flags|=128),VT(e,t,u,l,i,s,!0)}}function RP(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function PP(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&ah(e,t,r),null!==i&&RP(e,t,i),null!==s&&function XH(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function FP(e){return function jT(){if(void 0===P1&&(P1=null,qn.trustedTypes))try{P1=qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return P1}()?.createScriptURL(e)||e}class OP{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xt})`}}function cl(e){return e instanceof OP?e.changingThisBreaksApplicationSecurity:e}function sm(e,t){const n=function c$(e){return e instanceof OP&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Xt})`)}return n===t}const d$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Kh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Kh||{});function $P(e){const t=am();return t?t.sanitize(Kh.URL,e)||"":sm(e,"URL")?cl(e):function HT(e){return(e=String(e)).match(d$)?e:"unsafe:"+e}(lt(e))}function GP(e){const t=am();if(t)return FP(t.sanitize(Kh.RESOURCE_URL,e)||"");if(sm(e,"ResourceURL"))return FP(cl(e));throw new ge(904,!1)}function am(){const e=be();return e&&e[Bu].sanitizer}const cm=new Ye("ENVIRONMENT_INITIALIZER"),zP=new Ye("INJECTOR",-1),qP=new Ye("INJECTOR_DEF_TYPES");class zT{get(t,n=wf){if(n===wf){const r=new Error(`NullInjectorError: No provider for ${On(t)}!`);throw r.name="NullInjectorError",r}return n}}function A$(...e){return{\u0275providers:ZP(0,e),\u0275fromNgModule:!0}}function ZP(e,...t){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return il(t,o=>{const a=o;M1(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&YP(i,s),n}function YP(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];qT(i,s=>{t(s,r)})}}function M1(e,t,n,r){if(!(e=W(e)))return!1;let i=null,s=Nu(e);const o=!s&&gn(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const c=e.ngModule;if(s=Nu(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)M1(u,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{il(s.imports,l=>{M1(l,t,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&YP(u,t)}if(!a){const u=xo(i)||(()=>new i);t({provide:i,useFactory:u,deps:cn},i),t({provide:qP,useValue:i,multi:!0},i),t({provide:cm,useValue:()=>Be(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=e;qT(c,l=>{t(l,u)})}}}return i!==e&&void 0!==e.providers}function qT(e,t){for(let n of e)mt(n)&&(n=n.\u0275providers),Array.isArray(n)?qT(n,t):t(n)}const C$=ht({provide:String,useValue:ht});function KT(e){return null!==e&&"object"==typeof e&&C$ in e}function Yf(e){return"function"==typeof e}const ZT=new Ye("Set Injector scope."),F1={},D$={};let YT;function O1(){return void 0===YT&&(YT=new zT),YT}class ra{}class Zh extends ra{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,XT(t,o=>this.processProvider(o)),this.records.set(zP,Yh(void 0,this)),i.has("environment")&&this.records.set(ra,Yh(void 0,this));const s=this.records.get(ZT);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qP.multi,cn,nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ls(this),r=Si(void 0);try{return t()}finally{ls(n),Si(r)}}get(t,n=wf,r=nn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(oh))return t[oh](this);r=Ou(r);const s=ls(this),o=Si(void 0);try{if(!(r&nn.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function N$(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ye}(t)&&pf(t);c=u&&this.injectableDefInScope(u)?Yh(QT(t),F1):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&nn.Self?O1():this.parent).get(t,n=r&nn.Optional&&n===wf?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[rh]=a[rh]||[]).unshift(On(t)),s)throw a;return function vy(e,t,n,r){const i=e[rh];throw t[_y]&&i.unshift(t[_y]),e.message=function yy(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=On(t);if(Array.isArray(t))i=t.map(On).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):On(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(DI,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[rh]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Si(o),ls(s)}}resolveInjectorInitializers(){const t=ls(this),n=Si(void 0);try{const i=this.get(cm.multi,cn,nn.Self);for(const s of i)s()}finally{ls(t),Si(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(On(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(t){let n=Yf(t=W(t))?t:W(t&&t.provide);const r=function k$(e){return KT(e)?Yh(void 0,e.useValue):Yh(JP(e),F1)}(t);if(Yf(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Yh(void 0,F1,!0),i.factory=()=>vo(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===F1&&(n.value=D$,n.value=n.factory()),"object"==typeof n.value&&n.value&&function P$(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=W(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function QT(e){const t=pf(e),n=null!==t?t.factory:xo(e);if(null!==n)return n;if(e instanceof Ye)throw new ge(204,!1);if(e instanceof Function)return function b$(e){const t=e.length;if(t>0)throw function zf(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new ge(204,!1);const n=function ly(e){return e&&(e[gf]||e[fy])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ge(204,!1)}function JP(e,t,n){let r;if(Yf(e)){const i=W(e);return xo(i)||QT(i)}if(KT(e))r=()=>W(e.useValue);else if(function XP(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...vo(e.deps||[]));else if(function QP(e){return!(!e||!e.useExisting)}(e))r=()=>Be(W(e.useExisting));else{const i=W(e&&(e.useClass||e.provide));if(!function R$(e){return!!e.deps}(e))return xo(i)||QT(i);r=()=>new i(...vo(e.deps))}return r}function Yh(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function XT(e,t){for(const n of e)Array.isArray(n)?XT(n,t):n&&mt(n)?XT(n.\u0275providers,t):t(n)}const L1=new Ye("AppId",{providedIn:"root",factory:()=>M$}),M$="ng",eN=new Ye("Platform Initializer"),Zc=new Ye("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tN=new Ye("CSP nonce",{providedIn:"root",factory:()=>function qh(){if(void 0!==UT)return UT;if(typeof document<"u")return document;throw new ge(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nN=(e,t,n)=>null;function oA(e,t,n=!1){return nN(e,t,n)}class G${}class sN{}class z${resolveComponentFactory(t){throw function W$(e){const t=Error(`No component factory found for ${On(e)}.`);return t.ngComponent=e,t}(t)}}let $1=(()=>{class e{static#e=this.NULL=new z$}return e})();function q$(){return Jh(Kr(),be())}function Jh(e,t){return new To(gs(e,t))}let To=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=q$}return e})();class aN{}let Yc=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Z$(){const e=be(),n=Bs(Kr().index,e);return(ds(n)?n:e)[bt]}()}return e})(),Y$=(()=>{class e{static#e=this.\u0275prov=yt({token:e,providedIn:"root",factory:()=>null})}return e})();class ep{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cN=new ep("16.2.11"),uA={};function dN(e,t=null,n=null,r){const i=hN(e,t,n,r);return i.resolveInjectorInitializers(),i}function hN(e,t=null,n=null,r,i=new Set){const s=[n||cn,A$(e)];return r=r||("object"==typeof e?void 0:On(e)),new Zh(s,t||O1(),r||null,i)}let Ao=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=wf;static#t=this.NULL=new zT;static create(n,r){if(Array.isArray(n))return dN({name:""},r,n,"");{const i=n.name??"";return dN({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=yt({token:e,providedIn:"any",factory:()=>Be(zP)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function fA(e){return e.ngOriginalError}class Qc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&fA(t);for(;n&&fA(n);)n=fA(n);return n||null}}function hA(e){return t=>{setTimeout(e,void 0,t)}}const kr=class rG extends he{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=hA(s),i&&(i=hA(i)),o&&(o=hA(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof En&&t.add(a),a}};function gN(...e){}class Pn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kr(!1),this.onMicrotaskEmpty=new kr(!1),this.onStable=new kr(!1),this.onError=new kr(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function iG(){const e="function"==typeof qn.requestAnimationFrame;let t=qn[e?"requestAnimationFrame":"setTimeout"],n=qn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function aG(e){const t=()=>{!function oG(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(qn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,gA(e),e.isCheckStableRunning=!0,pA(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),gA(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function uG(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return mN(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),_N(e)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return mN(e),n.invoke(i,s,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),_N(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,gA(e),pA(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pn.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(Pn.isInAngularZone())throw new ge(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,sG,gN,gN);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const sG={};function pA(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function gA(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function mN(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _N(e){e._nesting--,pA(e)}class cG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kr,this.onMicrotaskEmpty=new kr,this.onStable=new kr,this.onError=new kr}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const vN=new Ye("",{providedIn:"root",factory:yN});function yN(){const e=ft(Pn);let t=!0;return ye(new pn(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new pn(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Nt()))}function Xc(e){return e instanceof Function?e():e}let mA=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=yt({token:e,providedIn:"root",factory:()=>new e})}return e})();function fm(e){for(;e;){e[Mt]|=64;const t=nm(e);if(Mf(e)&&!t)return e;e=t}return null}const TN=new Ye("",{providedIn:"root",factory:()=>!1});let W1=null;function DN(e,t){return e[t]??RN()}function bN(e,t){const n=RN();n.producerNode?.length&&(e[t]=W1,n.lView=e,W1=kN())}const yG={...by,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fm(e.lView)},lView:null};function kN(){return Object.create(yG)}function RN(){return W1??=kN(),W1}const Bt={};function st(e){PN(mn(),be(),Ki()+e,!1)}function PN(e,t,n,r){if(!r)if(3==(3&t[Mt])){const s=e.preOrderCheckHooks;null!==s&&bh(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Hf(t,s,0,n)}Wc(n)}function Se(e,t=nn.Default){const n=be();return null===n?Be(e,t):Gg(Kr(),n,W(e),t)}function z1(e,t,n,r,i,s,o,a,c,u,l){const h=t.blueprint.slice();return h[wr]=i,h[Mt]=140|r,(null!==u||e&&2048&e[Mt])&&(h[Mt]|=2048),Th(h),h[nr]=h[Uu]=e,h[Dr]=n,h[Bu]=o||e&&e[Bu],h[bt]=a||e&&e[bt],h[qo]=c||e&&e[qo]||null,h[ki]=s,h[Pf]=function SH(){return CH++}(),h[Ca]=l,h[fg]=u,h[dr]=2==t.type?e[dr]:h,h}function rp(e,t,n,r,i){let s=e.data[t];if(null===s)s=function _A(e,t,n,r,i){const s=Vf(),o=Bf(),c=e.data[t]=function SG(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return function Qu(){return null!==wt.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,i),function JI(){return wt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Gc(){const e=wt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Eo(s,!0),s}function dm(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function MN(e,t,n,r,i){const s=DN(t,Yo),o=Ki(),a=2&r;try{Wc(-1),a&&t.length>rn&&PN(e,t,rn,!1),so(a?2:0,i);const u=a?s:null,l=Hc(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Gu(u,l)}}finally{a&&null===t[Yo]&&bN(t,Yo),Wc(o),so(a?3:1,i)}}function vA(e,t,n){if(Cy(t)){const r=ps(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ps(r)}}}function yA(e,t,n){Rg()&&(function MG(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;Hu(n)&&function jG(e,t,n){const r=gs(t,e),i=FN(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=q1(e,z1(e,i,null,o,r,t,null,e[Bu].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Oh(n,t),ms(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const c=e.data[a],u=ba(t,e,a,n);ms(u,t),null!==o&&HG(0,a-i,u,c,0,o),Xo(c)&&(Bs(n.index,t)[Dr]=ba(t,e,a,n))}}(e,t,n,gs(n,t)),64==(64&n.flags)&&UN(e,t,n))}function xA(e,t,n=gs){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function FN(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=EA(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function EA(e,t,n,r,i,s,o,a,c,u,l){const h=rn+r,g=h+i,_=function EG(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Bt);return n}(h,g),y="function"==typeof u?u():u;return _[Je]={type:e,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}let ON=e=>null;function LN(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?VN(n,t,i,s):r.hasOwnProperty(i)&&VN(n,t,r[i],s)}return n}function VN(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function wA(e,t,n,r){if(Rg()){const i=null===r?null:{"":-1},s=function OG(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Df(t,o.selectors,!1))if(r||(r=[]),Xo(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),IA(e,t,a.length)}else r.unshift(o),IA(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&BN(e,t,n,o,i,a),i&&function LG(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new ge(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Vc(n.mergedAttrs,n.attrs)}function BN(e,t,n,r,i,s){for(let u=0;u<r.length;u++)$g(Oh(n,t),e,r[u].type);!function BG(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=dm(e,t,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Vc(n.mergedAttrs,l.hostAttrs),UG(e,n,t,c,l),VG(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const h=l.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function DG(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let c=null,u=null;for(let l=t.directiveStart;l<i;l++){const h=s[l],g=n?n.get(h):null,y=g?g.outputs:null;c=LN(h.inputs,l,c,g?g.inputs:null),u=LN(h.outputs,l,u,y);const v=null===c||null===o||fh(t)?null:$G(c,l,o);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}(e,n,s)}function UN(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function tT(){return wt.lFrame.currentDirectiveIndex}();try{Wc(s);for(let a=r;a<i;a++){const c=e.data[a],u=t[a];Dh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FG(c,u)}}finally{Wc(-1),Dh(o)}}function FG(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function IA(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function VG(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Xo(t)&&(n[""]=e)}}function UG(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=xo(i.type)),o=new tl(s,Xo(i),Se);e.blueprint[r]=o,n[r]=o,function PG(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function NG(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,dm(e,n,i.hostVars,Bt),i)}function oc(e,t,n,r,i,s){const o=gs(e,t);!function TA(e,t,n,r,i,s,o){if(null==s)e.removeAttribute(t,i,n);else{const a=null==o?lt(s):o(s,r||"",i);e.setAttribute(t,i,a,n)}}(t[bt],o,s,e.value,n,r,i)}function HG(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)jN(r,n,o[a++],o[a++],o[a++])}function jN(e,t,n,r,i){const s=ps(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{ps(s)}}function $G(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function HN(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function $N(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];Lg(n[r]),o.contentQueries(2,t[s],s)}}}function q1(e,t){return e[kf]?e[gh][yo]=t:e[kf]=t,e[gh]=t,t}function AA(e,t,n){Lg(0);const r=ps(null);try{t(e,n)}finally{ps(r)}}function qN(e,t){const n=e[qo],r=n?n.get(Qc,null):null;r&&r.handleError(t)}function CA(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];jN(e.data[o],t[o],r,a,i)}}function Jc(e,t,n){const r=Ih(t,e);!function yP(e,t,n){e.setValue(t,n)}(e[bt],r,n)}function GG(e,t){const n=Bs(t,e),r=n[Je];!function WG(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[wr];null!==i&&null===n[Ca]&&(n[Ca]=oA(i,n[qo])),SA(r,n,n[Dr])}function SA(e,t,n){Vg(t);try{const r=e.viewQuery;null!==r&&AA(1,r,n);const i=e.template;null!==i&&MN(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&$N(e,t),e.staticViewQueries&&AA(2,e.viewQuery,n);const s=e.components;null!==s&&function zG(e,t){for(let n=0;n<t.length;n++)GG(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Mt]&=-5,jf()}}let KN=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Oy(e,t,n){const r=Object.create($I);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>vg(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Py(r))return;r.hasRun=!0;const o=Hc(r);try{r.cleanupFn(),r.cleanupFn=Ly,r.fn(i)}finally{Gu(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=yt({token:e,providedIn:"root",factory:()=>new e})}return e})();function K1(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Ia(i,a):2==s&&(r=Ia(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function hm(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(Rn(s)),hs(s)&&ZN(s,r);const o=n.type;if(8&o)hm(e,t,n.child,r);else if(32&o){const a=RT(n,t);let c;for(;c=a();)r.push(c)}else if(16&o){const a=DP(t,n);if(Array.isArray(a))r.push(...a);else{const c=nm(t[dr]);hm(c[Je],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZN(e,t){for(let n=Wr;n<e.length;n++){const r=e[n],i=r[Je].firstChild;null!==i&&hm(r[Je],r,i,t)}e[Qo]!==e[wr]&&t.push(e[Qo])}function Z1(e,t,n,r=!0){const i=t[Bu],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{YN(e,t,e.template,n)}catch(c){throw r&&qN(t,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function YN(e,t,n,r){const i=t[Mt];if(256!=(256&i)){t[Bu].effectManager?.flush(),Vg(t);try{Th(t),function Ch(e){return wt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&MN(e,t,n,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&bh(t,u,null)}else{const u=e.preOrderHooks;null!==u&&Hf(t,u,0,null),Bg(t,0)}if(function ZG(e){for(let t=mP(e);null!==t;t=_P(t)){if(!t[Ay])continue;const n=t[Nf];for(let r=0;r<n.length;r++){bg(n[r])}}}(t),QN(t,2),null!==e.contentQueries&&$N(e,t),o){const u=e.contentCheckHooks;null!==u&&bh(t,u)}else{const u=e.contentHooks;null!==u&&Hf(t,u,1),Bg(t,1)}!function xG(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=DN(t,ju);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Wc(~s);else{const o=s,a=n[++i],c=n[++i];eT(a,o),r.dirty=!1;const u=Hc(r);try{c(2,t[o])}finally{Gu(r,u)}}}}finally{null===t[ju]&&bN(t,ju),Wc(-1)}}(e,t);const a=e.components;null!==a&&JN(t,a,0);const c=e.viewQuery;if(null!==c&&AA(2,c,r),o){const u=e.viewCheckHooks;null!==u&&bh(t,u)}else{const u=e.viewHooks;null!==u&&Hf(t,u,2),Bg(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Mt]&=-73,By(t)}finally{jf()}}}function QN(e,t){for(let n=mP(e);null!==n;n=_P(n))for(let r=Wr;r<n.length;r++)XN(n[r],t)}function YG(e,t,n){XN(Bs(t,e),n)}function XN(e,t){if(!function zI(e){return 128==(128&e[Mt])}(e))return;const n=e[Je],r=e[Mt];if(80&r&&0===t||1024&r||2===t)YN(n,e,n.template,e[Dr]);else if(e[Bc]>0){QN(e,1);const i=n.components;null!==i&&JN(e,i,1)}}function JN(e,t,n){for(let r=0;r<t.length;r++)YG(e,t[r],n)}class pm{get rootNodes(){const t=this._lView,n=t[Je];return hm(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dr]}set context(t){this._lView[Dr]=t}get destroyed(){return 256==(256&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[nr];if(hs(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(S1(t,r),Wf(n,r))}this._attachedToViewContainer=!1}NT(this._lView[Je],this._lView)}onDestroy(t){!function Uy(e,t){if(256==(256&e[Mt]))throw new ge(911,!1);null===e[Zo]&&(e[Zo]=[]),e[Zo].push(t)}(this._lView,t)}markForCheck(){fm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-129}reattach(){this._lView[Mt]|=128}detectChanges(){Z1(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jH(e,t){im(e,t,t[bt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=t}}class QG extends pm{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Z1(t[Je],t,t[Dr],!1)}checkNoChanges(){}get context(){return null}}class eM extends $1{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=gn(t);return new gm(n,this.ngModule)}}function tM(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class JG{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ou(r);const i=this.injector.get(t,uA,r);return i!==uA||n===uA?i:this.parentInjector.get(t,n,r)}}class gm extends sN{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=tM(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tM(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function og(e){return e.map(kI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof ra?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new JG(t,s):t,a=o.get(aN,null);if(null===a)throw new ge(407,!1);const h={rendererFactory:a,sanitizer:o.get(Y$,null),effectManager:o.get(KN,null),afterRenderEventManager:o.get(mA,null)},g=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",y=r?function wG(e,t,n,r){const s=r.get(TN,!1)||n===Di.ShadowDom,o=e.selectRootElement(t,s);return function IG(e){ON(e)}(o),o}(g,r,this.componentDef.encapsulation,o):C1(g,_,function XG(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(_)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==y&&(w=oA(y,o,!0));const I=EA(0,null,null,1,0,null,null,null,null,null,null),k=z1(null,I,null,T,null,null,h,g,o,null,w);let O,q;Vg(k);try{const N=this.componentDef;let z,K=null;N.findHostDirectiveDefs?(z=[],K=new Map,N.findHostDirectiveDefs(N,z,K),z.push(N)):z=[N];const le=function tW(e,t){const n=e[Je],r=rn;return e[r]=t,rp(n,r,2,"#host",null)}(k,y),pe=function nW(e,t,n,r,i,s,o){const a=i[Je];!function rW(e,t,n,r){for(const i of e)t.mergedAttrs=Vc(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(K1(t,t.mergedAttrs,!0),null!==n&&PP(r,n,t))}(r,e,t,o);let c=null;null!==t&&(c=oA(t,i[qo]));const u=s.rendererFactory.createRenderer(t,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const h=z1(i,FN(n),null,l,i[e.index],e,s,u,null,null,c);return a.firstCreatePass&&IA(a,e,r.length-1),q1(i,h),i[e.index]=h}(le,y,N,z,k,h,g);q=Cg(I,rn),y&&function sW(e,t,n,r){if(r)ah(e,n,["ng-version",cN.full]);else{const{attrs:i,classes:s}=function RI(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ro(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&ah(e,n,i),s&&s.length>0&&RP(e,n,s.join(" "))}}(g,N,y,r),void 0!==n&&function oW(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(q,this.ngContentSelectors,n),O=function iW(e,t,n,r,i,s){const o=Kr(),a=i[Je],c=gs(o,i);BN(a,i,o,n,null,r);for(let l=0;l<n.length;l++)ms(ba(i,a,o.directiveStart+l,o),i);UN(a,i,o),c&&ms(c,i);const u=ba(i,a,o.directiveStart+o.componentOffset,o);if(e[Dr]=i[Dr]=u,null!==s)for(const l of s)l(u,t);return vA(a,o,e),u}(pe,N,z,K,k,[aW]),SA(I,k,null)}finally{jf()}return new eW(this.componentType,O,Jh(q,k),k,q)}}class eW extends G${constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new QG(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;CA(s[Je],s,i,t,n),this.previousInputValues.set(t,n),fm(Bs(this._tNode.index,s))}}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function aW(){const e=Kr();el(be()[Je],e)}function Vn(e){let t=function nM(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Xo(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ge(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const o=e;o.inputs=Y1(e.inputs),o.inputTransforms=Y1(e.inputTransforms),o.declaredInputs=Y1(e.declaredInputs),o.outputs=Y1(e.outputs);const a=i.hostBindings;a&&fW(e,a);const c=i.viewQuery,u=i.contentQueries;if(c&&uW(e,c),u&&lW(e,u),oi(e.inputs,i.inputs),oi(e.declaredInputs,i.declaredInputs),oi(e.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),oi(o.inputTransforms,i.inputTransforms)),Xo(i)&&i.data.animation){const l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Vn&&(n=!1)}}t=Object.getPrototypeOf(t)}!function cW(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Vc(i.hostAttrs,n=Vc(n,i.hostAttrs))}}(r)}function Y1(e){return e===Wo?{}:e===cn?[]:e}function uW(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function lW(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,s)=>{t(r,i,s),n(r,i,s)}:t}function fW(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function oM(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function Q1(e){return!!DA(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function DA(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ac(e,t,n){return e[t]=n}function _s(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Qf(e,t,n,r){const i=_s(e,t,n);return _s(e,t+1,r)||i}function cc(e,t,n,r){const i=be();return _s(i,Xu(),t)&&(mn(),oc(hr(),i,e,t,n,r)),cc}function sp(e,t,n,r){return _s(e,Xu(),n)?t+lt(n)+r:Bt}function op(e,t,n,r,i,s){const a=Qf(e,function Jo(){return wt.lFrame.bindingIndex}(),n,i);return Da(2),a?t+lt(n)+r+lt(i)+s:Bt}function ao(e,t,n,r,i,s,o,a){const c=be(),u=mn(),l=e+rn,h=u.firstCreatePass?function OW(e,t,n,r,i,s,o,a,c){const u=t.consts,l=rp(t,e,4,o||null,nc(u,a));wA(t,n,l,nc(u,c)),el(t,l);const h=l.tView=EA(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,n,r,i,s,o):u.data[l];Eo(h,!1);const g=yM(u,c,h,e);Ju()&&b1(u,c,g,h),ms(g,c),q1(c,c[l]=HN(g,c,g,h)),pg(h)&&yA(u,c,h),null!=o&&xA(c,h,a)}let yM=function xM(e,t,n,r){return ea(!0),t[bt].createComment("")};function MA(e){return Zu(function $y(){return wt.lFrame.contextLView}(),rn+e)}function un(e,t,n){const r=be();return _s(r,Xu(),t)&&function Co(e,t,n,r,i,s,o,a){const c=gs(t,n);let l,u=t.inputs;!a&&null!=u&&(l=u[r])?(CA(e,n,l,r,i),Hu(t)&&function kG(e,t){const n=Bs(t,e);16&n[Mt]||(n[Mt]|=64)}(n,t.index)):3&t.type&&(r=function bG(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(c,r,i))}(mn(),hr(),r,e,t,r[bt],n,!1),un}function FA(e,t,n,r,i){const o=i?"class":"style";CA(e,n,t.inputs[o],o,r)}function oe(e,t,n,r){const i=be(),s=mn(),o=rn+e,a=i[bt],c=s.firstCreatePass?function UW(e,t,n,r,i,s){const o=t.consts,c=rp(t,e,2,r,nc(o,i));return wA(t,n,c,nc(o,s)),null!==c.attrs&&K1(c,c.attrs,!1),null!==c.mergedAttrs&&K1(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,t,n,r):s.data[o],u=EM(s,i,c,a,t,e);i[o]=u;const l=pg(c);return Eo(c,!0),PP(a,u,c),32!=(32&c.flags)&&Ju()&&b1(s,i,u,c),0===function KI(){return wt.lFrame.elementDepthCount}()&&ms(u,i),function kg(){wt.lFrame.elementDepthCount++}(),l&&(yA(s,i,c),vA(s,c,i)),null!==r&&xA(i,c),oe}function re(){let e=Kr();Bf()?Mg():(e=e.parent,Eo(e,!1));const t=e;(function ZI(e){return wt.skipHydrationRootTNode===e})(t)&&function Ng(){wt.skipHydrationRootTNode=null}(),function Hy(){wt.lFrame.elementDepthCount--}();const n=mn();return n.firstCreatePass&&(el(n,e),Cy(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function lT(e){return 0!=(8&e.flags)}(t)&&FA(n,t,be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function fT(e){return 0!=(16&e.flags)}(t)&&FA(n,t,be(),t.stylesWithoutHost,!1),re}function vs(e,t,n,r){return oe(e,t,n,r),re(),vs}let EM=(e,t,n,r,i,s)=>(ea(!0),C1(r,i,function Yy(){return wt.lFrame.currentNamespace}()));function xm(e,t,n){const r=be(),i=mn(),s=e+rn,o=i.firstCreatePass?function $W(e,t,n,r,i){const s=t.consts,o=nc(s,r),a=rp(t,e,8,"ng-container",o);return null!==o&&K1(a,o,!0),wA(t,n,a,nc(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];Eo(o,!0);const a=IM(i,r,o,e);return r[s]=a,Ju()&&b1(i,r,a,o),ms(a,r),pg(o)&&(yA(i,r,o),vA(i,o,r)),null!=n&&xA(r,o),xm}function Em(){let e=Kr();const t=mn();return Bf()?Mg():(e=e.parent,Eo(e,!1)),t.firstCreatePass&&(el(t,e),Cy(e)&&t.queries.elementEnd(e)),Em}let IM=(e,t,n,r)=>(ea(!0),PT(t[bt],""));function Xf(){return be()}function wm(e){return!!e&&"function"==typeof e.then}function TM(e){return!!e&&"function"==typeof e.subscribe}function Gt(e,t,n,r){const i=be(),s=mn(),o=Kr();return function CM(e,t,n,r,i,s,o){const a=pg(r),u=e.firstCreatePass&&function WN(e){return e.cleanup||(e.cleanup=[])}(e),l=t[Dr],h=function GN(e){return e[Qa]||(e[Qa]=[])}(t);let g=!0;if(3&r.type||o){const v=gs(r,t),x=o?o(v):v,T=h.length,w=o?k=>o(Rn(k[r.index])):r.index;let I=null;if(!o&&a&&(I=function zW(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[Qa],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,g=!1;else{s=DM(r,t,l,s,!1);const k=n.listen(x,i,s);h.push(s,k),u&&u.push(i,w,T,T+1)}}else s=DM(r,t,l,s,!1);const _=r.outputs;let y;if(g&&null!==_&&(y=_[i])){const v=y.length;if(v)for(let x=0;x<v;x+=2){const O=t[y[x]][y[x+1]].subscribe(s),q=h.length;h.push(s,O),u&&u.push(i,r.index,q,-(q+1))}}}(s,i,i[bt],o,e,t,r),Gt}function SM(e,t,n,r){try{return so(6,t,n),!1!==n(r)}catch(i){return qN(e,i),!1}finally{so(7,t,n)}}function DM(e,t,n,r,i){return function s(o){if(o===Function)return r;fm(e.componentOffset>-1?Bs(e.index,t):t);let c=SM(t,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=SM(t,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function ul(e=1){return function rT(e){return(wt.lFrame.contextLView=function iT(e,t){for(;e>0;)t=t[Uu],e--;return t}(e,wt.lFrame.contextLView))[Dr]}(e)}function nx(e,t){return e<<17|t<<2}function ll(e){return e>>17&32767}function LA(e){return 2|e}function Jf(e){return(131068&e)>>2}function VA(e,t){return-131069&e|t<<2}function BA(e){return 1|e}function VM(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?ll(s):Jf(s),c=!1;for(;0!==a&&(!1===c||o);){const l=e[a+1];tz(e[a],t)&&(c=!0,e[a+1]=r?BA(l):LA(l)),a=r?ll(l):Jf(l)}c&&(e[n+1]=r?LA(s):BA(s))}function tz(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&sl(e,t)>=0}const Ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BM(e){return e.substring(Ei.key,Ei.keyEnd)}function UM(e,t){const n=Ei.textEnd;return n===t?-1:(t=Ei.keyEnd=function sz(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Ei.key=t,n),hp(e,t,n))}function hp(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function pp(e,t){return function Ra(e,t,n,r){const i=be(),s=mn(),o=Da(2);s.firstUpdatePass&&qM(s,e,o,r),t!==Bt&&_s(i,o,t)&&ZM(s,s.data[Ki()],i,i[bt],e,i[o+1]=function _z(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=On(cl(e)))),e}(t,n),r,o)}(e,t,null,!0),pp}function lc(e,t){for(let n=function rz(e){return function HM(e){Ei.key=0,Ei.keyEnd=0,Ei.value=0,Ei.valueEnd=0,Ei.textEnd=e.length}(e),UM(e,hp(e,0,Ei.textEnd))}(t);n>=0;n=UM(t,n))Yi(e,BM(t),!0)}function zM(e,t){return t>=e.expandoStartIndex}function qM(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Ki()],o=zM(e,n);QM(s,r)&&null===t&&!o&&(t=!1),t=function lz(e,t,n,r){const i=function Og(e){const t=wt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Im(n=UA(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=UA(i,e,t,n,r),null===s){let c=function fz(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Jf(r))return e[ll(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=UA(null,e,t,c[1],r),c=Im(c,t.attrs,r),function dz(e,t,n,r){e[ll(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function hz(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Im(r,e[s].hostAttrs,n);return Im(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function JW(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=ll(o),c=Jf(o);e[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||sl(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const g=ll(e[a+1]);e[r+1]=nx(g,a),0!==g&&(e[g+1]=VA(e[g+1],r)),e[a+1]=function QW(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=nx(a,0),0!==a&&(e[a+1]=VA(e[a+1],r)),a=r;else e[r+1]=nx(c,0),0===a?a=r:e[c+1]=VA(e[c+1],r),c=r;u&&(e[r+1]=LA(e[r+1])),VM(e,l,r,!0),VM(e,l,r,!1),function ez(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&sl(s,t)>=0&&(n[r+1]=BA(n[r+1]))}(t,l,e,r,s),o=nx(a,c),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function UA(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Im(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Im(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Yi(e,o,!!n||t[++s]))}return void 0===e?null:e}function ZM(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const c=e.data,u=c[a+1],l=function XW(e){return 1==(1&e)}(u)?YM(c,t,n,i,Jf(u),o):void 0;rx(l)||(rx(s)||function YW(e){return 2==(2&e)}(u)&&(s=YM(c,null,n,i,a,o)),function QH(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:al.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=al.Important),e.setStyle(n,r,i,s))}}(r,o,Ih(Ki(),n),i,s))}function YM(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const c=e[i],u=Array.isArray(c),l=u?c[1]:c,h=null===l;let g=n[i+1];g===Bt&&(g=h?cn:void 0);let _=h?qf(g,r):l===r?g:void 0;if(u&&!rx(_)&&(_=qf(c,r)),rx(_)&&(a=_,o))return a;const y=e[i+1];i=o?ll(y):Jf(y)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=qf(c,r))}return a}function rx(e){return void 0!==e}function QM(e,t){return 0!=(e.flags&(t?8:16))}function we(e,t=""){const n=be(),r=mn(),i=e+rn,s=r.firstCreatePass?rp(r,i,1,t,null):r.data[i],o=XM(r,n,s,t,e);n[i]=o,Ju()&&b1(r,n,o,s),Eo(s,!1)}let XM=(e,t,n,r,i)=>(ea(!0),function A1(e,t){return e.createText(t)}(t[bt],r));function Nn(e){return fl("",e,""),Nn}function fl(e,t,n){const r=be(),i=sp(r,e,t,n);return i!==Bt&&Jc(r,Ki(),i),fl}function jA(e,t,n,r,i){const s=be(),o=op(s,e,t,n,r,i);return o!==Bt&&Jc(s,Ki(),o),jA}function oF(e,t,n){!function Pa(e,t,n,r){const i=mn(),s=Da(2);i.firstUpdatePass&&qM(i,null,s,r);const o=be();if(n!==Bt&&_s(o,s,n)){const a=i.data[Ki()];if(QM(a,r)&&!zM(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Ia(c,n||"")),FA(i,a,o,n,r)}else!function mz(e,t,n,r,i,s,o,a){i===Bt&&(i=cn);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const g=c<i.length?i[c+1]:void 0,_=u<s.length?s[u+1]:void 0;let v,y=null;l===h?(c+=2,u+=2,g!==_&&(y=h,v=_)):null===h||null!==l&&l<h?(c+=2,y=l):(u+=2,y=h,v=_),null!==y&&ZM(e,t,n,r,y,v,o,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[bt],o[s+1],o[s+1]=function pz(e,t,n){if(null==n||""===n)return cn;const r=[],i=cl(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}(Yi,lc,sp(be(),e,t,n),!0)}const ed=void 0;var Vz=["en",[["a","p"],["AM","PM"],ed],[["AM","PM"],ed,ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ed,"{1} 'at' {0}",ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Lz(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let gp={};function Hs(e){const t=function Bz(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=yF(t);if(n)return n;const r=t.split("-")[0];if(n=yF(r),n)return n;if("en"===r)return Vz;throw new ge(701,!1)}function yF(e){return e in gp||(gp[e]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[e]),gp[e]}var rr=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(rr||{});const mp="en-US";let xF=mp;function GA(e,t,n,r,i){if(e=W(e),Array.isArray(e))for(let s=0;s<e.length;s++)GA(e[s],t,n,r,i);else{const s=mn(),o=be(),a=Kr();let c=Yf(e)?e:W(e.provide);const u=JP(e),l=1048575&a.providerIndexes,h=a.directiveStart,g=a.providerIndexes>>20;if(Yf(e)||!e.multi){const _=new tl(u,i,Se),y=zA(c,t,i?l:l+g,h);-1===y?($g(Oh(a,o),s,c),WA(s,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)):(n[y]=_,o[y]=_)}else{const _=zA(c,t,l+g,h),y=zA(c,t,l,l+g),x=y>=0&&n[y];if(i&&!x||!i&&!(_>=0&&n[_])){$g(Oh(a,o),s,c);const T=function Lq(e,t,n,r,i){const s=new tl(e,n,Se);return s.multi=[],s.index=t,s.componentProviders=0,WF(s,i,r&&!n),s}(i?Oq:Fq,n.length,i,r,u);!i&&x&&(n[y].providerFactory=T),WA(s,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else WA(s,e,_>-1?_:y,WF(n[i?y:_],u,!i&&r));!i&&r&&x&&n[y].componentProviders++}}}function WA(e,t,n,r){const i=Yf(t),s=function S$(e){return!!e.useClass}(t);if(i||s){const c=(s?W(t.useClass):t).prototype.ngOnDestroy;if(c){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function WF(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function zA(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Fq(e,t,n,r){return qA(this.multi,[])}function Oq(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ba(n,n[Je],this.providerFactory.index,r);s=a.slice(0,o),qA(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],qA(i,s);return s}function qA(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ir(e,t=[]){return n=>{n.providersResolver=(r,i)=>function Mq(e,t,n){const r=mn();if(r.firstCreatePass){const i=Xo(e);GA(n,r.data,r.blueprint,i,!0),GA(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class td{}class zF{}class KA extends td{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eM(this);const i=fs(t);this._bootstrapComponents=Xc(i.bootstrap),this._r3Injector=hN(t,n,[{provide:td,useValue:this},{provide:$1,useValue:this.componentFactoryResolver},...r],On(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ZA extends zF{constructor(t){super(),this.moduleType=t}create(t){return new KA(this.moduleType,t,[])}}class qF extends td{constructor(t){super(),this.componentFactoryResolver=new eM(this),this.instance=null;const n=new Zh([...t.providers,{provide:td,useValue:this},{provide:$1,useValue:this.componentFactoryResolver}],t.parent||O1(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function YA(e,t,n=null){return new qF({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Uq=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=ZP(0,n.type),i=r.length>0?YA([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yt({token:e,providedIn:"environment",factory:()=>new e(Be(ra))})}return e})();function KF(e){e.getStandaloneInjector=t=>t.get(Uq).getOrCreateStandaloneInjector(e)}function _p(e,t,n){const r=qi()+e,i=be();return i[r]===Bt?ac(i,r,n?t.call(n):t()):function mm(e,t){return e[t]}(i,r)}function tO(e,t,n,r){return function nO(e,t,n,r,i,s){const o=t+n;return _s(e,o,i)?ac(e,o+1,s?r.call(s,i):r(i)):bm(e,o+1)}(be(),qi(),e,t,n,r)}function XA(e,t,n,r,i){return rO(be(),qi(),e,t,n,r,i)}function bm(e,t){const n=e[t];return n===Bt?void 0:n}function rO(e,t,n,r,i,s,o){const a=t+n;return Qf(e,a,i,s)?ac(e,a+2,o?r.call(o,i,s):r(i,s)):bm(e,a+2)}function cO(e,t,n,r){const i=e+rn,s=be(),o=Zu(s,i);return function km(e,t){return e[Je].data[t].pure}(s,i)?rO(s,qi(),t,o.transform,n,r,o):o.transform(n,r)}function uK(e,t,n,r=!0){const i=t[Je];if(function $H(e,t,n,r){const i=Wr+r,s=n.length;r>0&&(n[i-1][yo]=t),r<s-Wr?(t[yo]=n[i],ka(n,Wr+r,t)):(n.push(t),t[yo]=null),t[nr]=n;const o=t[Rf];null!==o&&n!==o&&function GH(e,t){const n=e[Nf];t[dr]!==t[nr][nr][dr]&&(e[Ay]=!0),null===n?e[Nf]=[t]:n.push(t)}(o,t);const a=t[Ko];null!==a&&a.insertView(e),t[Mt]|=128}(i,t,e,n),r){const s=LT(n,e),o=t[bt],a=D1(o,e[Qo]);null!==a&&function UH(e,t,n,r,i,s){r[wr]=i,r[ki]=t,im(e,r,n,1,i,s)}(i,e[ki],o,t,a,s)}}Symbol;let eu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=dK}return e})();const lK=eu,fK=class extends lK{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function cK(e,t,n,r){const i=t.tView,a=z1(e,i,n,4096&e[Mt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Rf]=e[t.index];const u=e[Ko];return null!==u&&(a[Ko]=u.createEmbeddedView(i)),SA(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new pm(i)}};function dK(){return cx(Kr(),be())}function cx(e,t){return 4&e.type?new fK(t,e,Jh(e,t)):null}let Na=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=vK}return e})();function vK(){return function gO(e,t){let n;const r=t[e.index];return hs(r)?n=r:(n=HN(r,t,null,e),t[e.index]=n,q1(t,n)),mO(n,t,e,r),new hO(n,e,t)}(Kr(),be())}const yK=Na,hO=class extends yK{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Jh(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vh(this._hostTNode,this._hostLView);if(Nh(t)){const n=wo(t,this._hostLView),r=$f(t);return new Zi(n[Je].data[r+8],n)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=pO(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Wr}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,s){const o=t&&!function qc(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}const c=o?t:new gm(gn(t)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const x=(o?u:this.parentInjector).get(ra,null);x&&(s=x)}gn(c.componentType??{});const _=c.create(u,i,null,s);return this.insertImpl(_.hostView,a,false),_}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function Dg(e){return hs(e[nr])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const u=i[nr],l=new hO(u,u[ki],u[nr]);l.detach(l.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;return uK(a,i,o,!r),t.attachToViewContainerRef(),ka(eC(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=pO(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=S1(this._lContainer,n);r&&(Wf(eC(this._lContainer),n),NT(r[Je],r))}detach(t){const n=this._adjustIndex(t,-1),r=S1(this._lContainer,n);return r&&null!=Wf(eC(this._lContainer),n)?new pm(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function pO(e){return e[8]}function eC(e){return e[8]||(e[8]=[])}let mO=function _O(e,t,n,r){if(e[Qo])return;let i;i=8&n.type?Rn(r):function xK(e,t){const n=e[bt],r=n.createComment(""),i=gs(t,e);return Zf(n,D1(n,i),r,function KH(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Qo]=i};function CO(e,t){return cx(e,t)}const fC=new Ye("Application Initializer");let dC=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ft(fC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(wm(s))n.push(s);else if(TM(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$O=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const tu=new Ye("LocaleId",{providedIn:"root",factory:()=>ft(tu,nn.Optional|nn.SkipSelf)||function YK(){return typeof $localize<"u"&&$localize.locale||mp}()});let GO=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Q(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class JK{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let WO=(()=>{class e{compileModuleSync(n){return new ZA(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Xc(fs(n).declarations).reduce((o,a)=>{const c=gn(a);return c&&o.push(new gm(c)),o},[]);return new JK(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZO=new Ye(""),dx=new Ye("");let _C,gC=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_C||(function EZ(e){_C=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Pn),Be(mC),Be(dx))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})(),mC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return _C?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),dl=null;const YO=new Ye("AllowMultipleToken"),vC=new Ye("PlatformDestroyListeners"),yC=new Ye("appBootstrapListener");class XO{constructor(t,n){this.name=t,this.token=n}}function eL(e,t,n=[]){const r=`Platform: ${t}`,i=new Ye(r);return(s=[])=>{let o=xC();if(!o||o.injector.get(YO,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function TZ(e){if(dl&&!dl.get(YO,!1))throw new ge(400,!1);(function QO(){!function VI(e){Ny=e}(()=>{throw new ge(600,!1)})})(),dl=e;const t=e.get(nL);(function JO(e){e.get(eN,null)?.forEach(n=>n())})(e)}(function tL(e=[],t){return Ao.create({name:t,providers:[{provide:ZT,useValue:"platform"},{provide:vC,useValue:new Set([()=>dl=null])},...e]})}(a,r))}return function CZ(e){const t=xC();if(!t)throw new ge(401,!1);return t}()}}function xC(){return dl?.get(nL)??null}let nL=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function SZ(e="zone.js",t){return"noop"===e?new cG:"zone.js"===e?new Pn(t):e}(r?.ngZone,function rL(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Bq(e,t,n){return new KA(e,t,n)}(n.moduleType,this.injector,function cL(e){return[{provide:Pn,useFactory:e},{provide:cm,multi:!0,useFactory:()=>{const t=ft(bZ,{optional:!0});return()=>t.initialize()}},{provide:aL,useFactory:DZ},{provide:vN,useFactory:yN}]}(()=>i)),o=s.injector.get(Qc,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{hx(this._modules,s),a.unsubscribe()})}),function iL(e,t,n){try{const r=n();return wm(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(dC);return a.runInitializers(),a.donePromise.then(()=>(function EF(e){us(e,"Expected localeId to be defined"),"string"==typeof e&&(xF=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(tu,mp)||mp),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=sL({},r);return function wZ(e,t,n){const r=new ZA(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(xp);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ge(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(vC,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Ao))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function sL(e,t){return Array.isArray(t)?t.reduce(sL,e):{...e,...t}}let xp=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ft(aL),this.zoneIsStable=ft(vN),this.componentTypes=[],this.components=[],this.isStable=ft(GO).hasPendingTasks.pipe(Qt(n=>n?me(!1):this.zoneIsStable),lr(),Nt()),this._injector=ft(ra)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof sN;if(!this._injector.get(dC).done)throw!i&&function Ya(e){const t=gn(e)||Gr(e)||zi(e);return null!==t&&t.standalone}(n),new ge(405,!1);let o;o=i?n:this._injector.get($1).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function IZ(e){return e.isBoundToModule}(o)?void 0:this._injector.get(td),u=o.create(Ao.NULL,[],r||o.selector,a),l=u.location.nativeElement,h=u.injector.get(ZO,null);return h?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),hx(this.components,u),h?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;hx(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(yC,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hx(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ge(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const aL=new Ye("",{providedIn:"root",factory:()=>ft(Qc).handleError.bind(void 0)});function DZ(){const e=ft(Pn),t=ft(Qc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let bZ=(()=>{class e{constructor(){this.zone=ft(Pn),this.applicationRef=ft(xp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let px=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=RZ}return e})();function RZ(e){return function PZ(e,t,n){if(Hu(e)&&!n){const r=Bs(e.index,t);return new pm(r,r)}return 47&e.type?new pm(t[dr],t):null}(Kr(),be(),16==(16&e))}class hL{constructor(){}supports(t){return Q1(t)}create(t){return new VZ(t)}}const LZ=(e,t)=>t;class VZ{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||LZ}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<gL(r,i,s)?n:r,a=gL(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let g=0;g<u;g++){const _=g<s.length?s[g]:s[g]=0,y=_+g;l<=y&&y<u&&(s[g]=_+1)}s[o.previousIndex]=l-u}}a!==c&&t(o,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Q1(t))throw new ge(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function vW(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new BZ(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new pL),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pL),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class BZ{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UZ{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class pL{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new UZ,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gL(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class mL{constructor(){}supports(t){return t instanceof Map||DA(t)}create(){return new jZ}}class jZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||DA(t)))throw new ge(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new HZ(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class HZ{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _L(){return new _x([new hL])}let _x=(()=>{class e{static#e=this.\u0275prov=yt({token:e,providedIn:"root",factory:_L});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||_L()),deps:[[e,new m,new f]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ge(901,!1)}}return e})();function vL(){return new Nm([new mL])}let Nm=(()=>{class e{static#e=this.\u0275prov=yt({token:e,providedIn:"root",factory:vL});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||vL()),deps:[[e,new m,new f]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new ge(901,!1)}}return e})();const WZ=eL(null,"core",[]);let zZ=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(Be(xp))};static#t=this.\u0275mod=Wi({type:e});static#n=this.\u0275inj=Ls({})}return e})();function Ep(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let CC=null;function hl(){return CC}class oY{}const sa=new Ye("DocumentToken");let SC=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:function(){return ft(cY)},providedIn:"platform"})}return e})();const aY=new Ye("Location Initialized");let cY=(()=>{class e extends SC{constructor(){super(),this._doc=ft(sa),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hl().getBaseHref(this._doc)}onPopState(n){const r=hl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=hl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function DC(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function SL(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function nu(e){return e&&"?"!==e[0]?"?"+e:e}let rd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:function(){return ft(bL)},providedIn:"root"})}return e})();const DL=new Ye("appBaseHref");let bL=(()=>{class e extends rd{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ft(sa).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return DC(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+nu(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+nu(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+nu(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(SC),Be(DL,8))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uY=(()=>{class e extends rd{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=DC(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+nu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+nu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(SC),Be(DL,8))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})(),bC=(()=>{class e{constructor(n){this._subject=new kr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function dY(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(SL(kL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+nu(r))}normalize(n){return e.stripTrailingSlash(function fY(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,kL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nu(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nu(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=nu;static#t=this.joinWithSlash=DC;static#n=this.stripTrailingSlash=SL;static#r=this.\u0275fac=function(r){return new(r||e)(Be(rd))};static#i=this.\u0275prov=yt({token:e,factory:function(){return function lY(){return new bC(Be(rd))}()},providedIn:"root"})}return e})();function kL(e){return e.replace(/\/index.html$/,"")}var Gs=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Gs||{}),Yn=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Yn||{}),So=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(So||{}),Yr=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Yr||{});function xx(e,t){return aa(Hs(e)[rr.DateFormat],t)}function Ex(e,t){return aa(Hs(e)[rr.TimeFormat],t)}function wx(e,t){return aa(Hs(e)[rr.DateTimeFormat],t)}function oa(e,t){const n=Hs(e),r=n[rr.NumberSymbols][t];if(typeof r>"u"){if(t===Yr.CurrencyDecimal)return n[rr.NumberSymbols][Yr.Decimal];if(t===Yr.CurrencyGroup)return n[rr.NumberSymbols][Yr.Group]}return r}function PL(e){if(!e[rr.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[rr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function aa(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function RC(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const CY=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mm={},SY=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ru=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(ru||{}),bn=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(bn||{}),kn=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(kn||{});function DY(e,t,n,r){let i=function LY(e){if(FL(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,s=1,o=1]=e.split("-").map(a=>+a);return Ix(i,s-1,o)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(CY))return function VY(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,c,u),t}(r)}const t=new Date(e);if(!FL(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=iu(n,t)||t;let a,o=[];for(;t;){if(a=SY.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;t=l}}let c=i.getTimezoneOffset();r&&(c=ML(r,c),i=function OY(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset();return function FY(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(ML(t,i)-i))}(i,r,!0));let u="";return o.forEach(l=>{const h=function MY(e){if(NC[e])return NC[e];let t;switch(e){case"G":case"GG":case"GGG":t=ir(kn.Eras,Yn.Abbreviated);break;case"GGGG":t=ir(kn.Eras,Yn.Wide);break;case"GGGGG":t=ir(kn.Eras,Yn.Narrow);break;case"y":t=ui(bn.FullYear,1,0,!1,!0);break;case"yy":t=ui(bn.FullYear,2,0,!0,!0);break;case"yyy":t=ui(bn.FullYear,3,0,!1,!0);break;case"yyyy":t=ui(bn.FullYear,4,0,!1,!0);break;case"Y":t=Sx(1);break;case"YY":t=Sx(2,!0);break;case"YYY":t=Sx(3);break;case"YYYY":t=Sx(4);break;case"M":case"L":t=ui(bn.Month,1,1);break;case"MM":case"LL":t=ui(bn.Month,2,1);break;case"MMM":t=ir(kn.Months,Yn.Abbreviated);break;case"MMMM":t=ir(kn.Months,Yn.Wide);break;case"MMMMM":t=ir(kn.Months,Yn.Narrow);break;case"LLL":t=ir(kn.Months,Yn.Abbreviated,Gs.Standalone);break;case"LLLL":t=ir(kn.Months,Yn.Wide,Gs.Standalone);break;case"LLLLL":t=ir(kn.Months,Yn.Narrow,Gs.Standalone);break;case"w":t=PC(1);break;case"ww":t=PC(2);break;case"W":t=PC(1,!0);break;case"d":t=ui(bn.Date,1);break;case"dd":t=ui(bn.Date,2);break;case"c":case"cc":t=ui(bn.Day,1);break;case"ccc":t=ir(kn.Days,Yn.Abbreviated,Gs.Standalone);break;case"cccc":t=ir(kn.Days,Yn.Wide,Gs.Standalone);break;case"ccccc":t=ir(kn.Days,Yn.Narrow,Gs.Standalone);break;case"cccccc":t=ir(kn.Days,Yn.Short,Gs.Standalone);break;case"E":case"EE":case"EEE":t=ir(kn.Days,Yn.Abbreviated);break;case"EEEE":t=ir(kn.Days,Yn.Wide);break;case"EEEEE":t=ir(kn.Days,Yn.Narrow);break;case"EEEEEE":t=ir(kn.Days,Yn.Short);break;case"a":case"aa":case"aaa":t=ir(kn.DayPeriods,Yn.Abbreviated);break;case"aaaa":t=ir(kn.DayPeriods,Yn.Wide);break;case"aaaaa":t=ir(kn.DayPeriods,Yn.Narrow);break;case"b":case"bb":case"bbb":t=ir(kn.DayPeriods,Yn.Abbreviated,Gs.Standalone,!0);break;case"bbbb":t=ir(kn.DayPeriods,Yn.Wide,Gs.Standalone,!0);break;case"bbbbb":t=ir(kn.DayPeriods,Yn.Narrow,Gs.Standalone,!0);break;case"B":case"BB":case"BBB":t=ir(kn.DayPeriods,Yn.Abbreviated,Gs.Format,!0);break;case"BBBB":t=ir(kn.DayPeriods,Yn.Wide,Gs.Format,!0);break;case"BBBBB":t=ir(kn.DayPeriods,Yn.Narrow,Gs.Format,!0);break;case"h":t=ui(bn.Hours,1,-12);break;case"hh":t=ui(bn.Hours,2,-12);break;case"H":t=ui(bn.Hours,1);break;case"HH":t=ui(bn.Hours,2);break;case"m":t=ui(bn.Minutes,1);break;case"mm":t=ui(bn.Minutes,2);break;case"s":t=ui(bn.Seconds,1);break;case"ss":t=ui(bn.Seconds,2);break;case"S":t=ui(bn.FractionalSeconds,1);break;case"SS":t=ui(bn.FractionalSeconds,2);break;case"SSS":t=ui(bn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ax(ru.Short);break;case"ZZZZZ":t=Ax(ru.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ax(ru.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ax(ru.Long);break;default:return null}return NC[e]=t,t}(l);u+=h?h(i,n,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Ix(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function iu(e,t){const n=function pY(e){return Hs(e)[rr.LocaleId]}(e);if(Mm[n]=Mm[n]||{},Mm[n][t])return Mm[n][t];let r="";switch(t){case"shortDate":r=xx(e,So.Short);break;case"mediumDate":r=xx(e,So.Medium);break;case"longDate":r=xx(e,So.Long);break;case"fullDate":r=xx(e,So.Full);break;case"shortTime":r=Ex(e,So.Short);break;case"mediumTime":r=Ex(e,So.Medium);break;case"longTime":r=Ex(e,So.Long);break;case"fullTime":r=Ex(e,So.Full);break;case"short":const i=iu(e,"shortTime"),s=iu(e,"shortDate");r=Tx(wx(e,So.Short),[i,s]);break;case"medium":const o=iu(e,"mediumTime"),a=iu(e,"mediumDate");r=Tx(wx(e,So.Medium),[o,a]);break;case"long":const c=iu(e,"longTime"),u=iu(e,"longDate");r=Tx(wx(e,So.Long),[c,u]);break;case"full":const l=iu(e,"fullTime"),h=iu(e,"fullDate");r=Tx(wx(e,So.Full),[l,h])}return r&&(Mm[n][t]=r),r}function Tx(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return null!=t&&r in t?t[r]:n})),e}function Ma(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function ui(e,t,n=0,r=!1,i=!1){return function(s,o){let a=function kY(e,t){switch(e){case bn.FullYear:return t.getFullYear();case bn.Month:return t.getMonth();case bn.Date:return t.getDate();case bn.Hours:return t.getHours();case bn.Minutes:return t.getMinutes();case bn.Seconds:return t.getSeconds();case bn.FractionalSeconds:return t.getMilliseconds();case bn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||a>-n)&&(a+=n),e===bn.Hours)0===a&&-12===n&&(a=12);else if(e===bn.FractionalSeconds)return function bY(e,t){return Ma(e,3).substring(0,t)}(a,t);const c=oa(o,Yr.MinusSign);return Ma(a,t,c,r,i)}}function ir(e,t,n=Gs.Format,r=!1){return function(i,s){return function RY(e,t,n,r,i,s){switch(n){case kn.Months:return function _Y(e,t,n){const r=Hs(e),s=aa([r[rr.MonthsFormat],r[rr.MonthsStandalone]],t);return aa(s,n)}(t,i,r)[e.getMonth()];case kn.Days:return function mY(e,t,n){const r=Hs(e),s=aa([r[rr.DaysFormat],r[rr.DaysStandalone]],t);return aa(s,n)}(t,i,r)[e.getDay()];case kn.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const u=function EY(e){const t=Hs(e);return PL(t),(t[rr.ExtraData][2]||[]).map(r=>"string"==typeof r?RC(r):[RC(r[0]),RC(r[1])])}(t),l=function wY(e,t,n){const r=Hs(e);PL(r);const s=aa([r[rr.ExtraData][0],r[rr.ExtraData][1]],t)||[];return aa(s,n)||[]}(t,i,r),h=u.findIndex(g=>{if(Array.isArray(g)){const[_,y]=g,v=o>=_.hours&&a>=_.minutes,x=o<y.hours||o===y.hours&&a<y.minutes;if(_.hours<y.hours){if(v&&x)return!0}else if(v||x)return!0}else if(g.hours===o&&g.minutes===a)return!0;return!1});if(-1!==h)return l[h]}return function gY(e,t,n){const r=Hs(e),s=aa([r[rr.DayPeriodsFormat],r[rr.DayPeriodsStandalone]],t);return aa(s,n)}(t,i,r)[o<12?0:1];case kn.Eras:return function vY(e,t){return aa(Hs(e)[rr.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,e,t,n,r)}}function Ax(e){return function(t,n,r){const i=-1*r,s=oa(n,Yr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case ru.Short:return(i>=0?"+":"")+Ma(o,2,s)+Ma(Math.abs(i%60),2,s);case ru.ShortGMT:return"GMT"+(i>=0?"+":"")+Ma(o,1,s);case ru.Long:return"GMT"+(i>=0?"+":"")+Ma(o,2,s)+":"+Ma(Math.abs(i%60),2,s);case ru.Extended:return 0===r?"Z":(i>=0?"+":"")+Ma(o,2,s)+":"+Ma(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const PY=0,Cx=4;function NL(e){return Ix(e.getFullYear(),e.getMonth(),e.getDate()+(Cx-e.getDay()))}function PC(e,t=!1){return function(n,r){let i;if(t){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=NL(n),o=function NY(e){const t=Ix(e,PY,1).getDay();return Ix(e,0,1+(t<=Cx?Cx:Cx+7)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Ma(i,e,oa(r,Yr.MinusSign))}}function Sx(e,t=!1){return function(n,r){return Ma(NL(n).getFullYear(),e,oa(r,Yr.MinusSign),t)}}const NC={};function ML(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function FL(e){return e instanceof Date&&!isNaN(e.valueOf())}const BC=/\s+/,BL=[];let UC=(()=>{class e{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=BL,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(BC):BL}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(BC):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(BC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(Se(_x),Se(Nm),Se(To),Se(Yc))};static#t=this.\u0275dir=Dt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class XY{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pl=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new XY(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),jL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{jL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Na),Se(eu),Se(_x))};static#t=this.\u0275dir=Dt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function jL(e,t){e.context.$implicit=t.item}let bx=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new JY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HL("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HL("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Na),Se(eu))};static#t=this.\u0275dir=Dt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class JY{constructor(){this.$implicit=null,this.ngIf=null}}function HL(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${On(t)}'.`)}const dQ=new Ye("DATE_PIPE_DEFAULT_TIMEZONE"),hQ=new Ye("DATE_PIPE_DEFAULT_OPTIONS");let GL=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(null==n||""===n||n!=n)return null;try{return DY(n,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Fa(e,t){return new ge(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||e)(Se(tu,16),Se(dQ,24),Se(hQ,24))};static#t=this.\u0275pipe=bi({name:"date",type:e,pure:!0,standalone:!0})}return e})(),IQ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wi({type:e});static#n=this.\u0275inj=Ls({})}return e})();function kx(e){return"server"===e}let SQ=(()=>{class e{static#e=this.\u0275prov=yt({token:e,providedIn:"root",factory:()=>new DQ(Be(sa),window)})}return e})();class DQ{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function bQ(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class JQ extends oY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qC extends JQ{static makeCurrent(){!function sY(e){CC||(CC=e)}(new qC)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function eX(){return Lm=Lm||document.querySelector("base"),Lm?Lm.getAttribute("href"):null}();return null==n?null:function tX(e){Nx=Nx||document.createElement("a"),Nx.setAttribute("href",e);const t=Nx.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Lm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function YY(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Nx,Lm=null,rX=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})();const KC=new Ye("EventManagerPlugins");let QL=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new ge(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(Be(KC),Be(Pn))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})();class XL{constructor(t){this._doc=t}}const ZC="ng-app-id";let JL=(()=>{class e{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kx(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${ZC}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(ZC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ZC,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(sa),Be(L1),Be(tN,8),Be(Zc))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})();const YC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},QC=/%COMP%/g,aX=new Ye("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function t4(e,t){return t.map(n=>n.replace(QC,e))}let n4=(()=>{class e{constructor(n,r,i,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=kx(a),this.defaultRenderer=new XC(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Di.ShadowDom&&(r={...r,encapsulation:Di.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof i4?i.applyToHost(n):i instanceof JC&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Di.Emulated:s=new i4(c,u,r,this.appId,l,o,a,h);break;case Di.ShadowDom:return new fX(c,u,n,r,o,a,this.nonce,h);default:s=new JC(c,u,r,l,o,a,h)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Be(QL),Be(JL),Be(L1),Be(aX),Be(sa),Be(Zc),Be(Pn),Be(tN))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})();class XC{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(YC[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(r4(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(r4(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new ge(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=YC[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=YC[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(al.DashCase|al.Important)?t.style.setProperty(n,r,i&al.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&al.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=hl().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function r4(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class fX extends XC{constructor(t,n,r,i,s,o,a,c){super(t,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=t4(i.id,i.styles);for(const l of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=l,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class JC extends XC{constructor(t,n,r,i,s,o,a,c){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?t4(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class i4 extends JC{constructor(t,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(t,n,r,s,o,a,c,u),this.contentAttr=function cX(e){return"_ngcontent-%COMP%".replace(QC,e)}(u),this.hostAttr=function uX(e){return"_nghost-%COMP%".replace(QC,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let dX=(()=>{class e extends XL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(sa))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})();const s4=["alt","control","meta","shift"],hX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pX={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let gX=(()=>{class e extends XL{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hl().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),s4.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=hX[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),s4.forEach(o=>{o!==i&&(0,pX[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(Be(sa))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})();const a4=[{provide:Zc,useValue:"browser"},{provide:eN,useValue:function mX(){qC.makeCurrent()},multi:!0},{provide:sa,useFactory:function vX(){return function n$(e){UT=e}(document),document},deps:[]}],yX=eL(WZ,"browser",a4),xX=new Ye(""),c4=[{provide:dx,useClass:class nX{addToWindow(t){qn.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new ge(5103,!1);return s},qn.getAllAngularTestabilities=()=>t.getAllTestabilities(),qn.getAllAngularRootElements=()=>t.getAllRootElements(),qn.frameworkStabilizers||(qn.frameworkStabilizers=[]),qn.frameworkStabilizers.push(r=>{const i=qn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?hl().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:ZO,useClass:gC,deps:[Pn,mC,dx]},{provide:gC,useClass:gC,deps:[Pn,mC,dx]}],u4=[{provide:ZT,useValue:"root"},{provide:Qc,useFactory:function _X(){return new Qc},deps:[]},{provide:KC,useClass:dX,multi:!0,deps:[sa,Pn,Zc]},{provide:KC,useClass:gX,multi:!0,deps:[sa]},n4,JL,QL,{provide:aN,useExisting:n4},{provide:class kQ{},useClass:rX,deps:[]},[]];let EX=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:L1,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Be(xX,12))};static#t=this.\u0275mod=Wi({type:e});static#n=this.\u0275inj=Ls({providers:[...u4,...c4],imports:[IQ,zZ]})}return e})(),l4=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(Be(sa))};static#t=this.\u0275prov=yt({token:e,factory:function(r){let i=null;return i=r?new r:function IX(){return new l4(Be(sa))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:bX}=Array,{getPrototypeOf:kX,prototype:RX,keys:PX}=Object;function p4(e){if(1===e.length){const t=e[0];if(bX(t))return{args:t,keys:null};if(function NX(e){return e&&"object"==typeof e&&kX(e)===RX}(t)){const n=PX(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:MX}=Array;function g4(e){return dt(t=>function FX(e,t){return MX(t)?e(...t):e(t)}(e,t))}function m4(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function tS(...e){const t=qa(e),n=bu(e),{args:r,keys:i}=p4(e);if(0===r.length)return j([],t);const s=new pn(function OX(e,t,n=jr){return r=>{_4(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)_4(t,()=>{const u=j(e[c],t);let l=!1;u.subscribe(tt(r,h=>{s[c]=h,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>m4(i,o):jr));return n?s.pipe(g4(n)):s}function _4(e,t,n){e?Ci(n,e,t):t()}const Mx=Tt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function nS(...e){return function LX(){return _o(1)}()(j(e,qa(e)))}function v4(e){return new pn(t=>{Hr(e()).subscribe(t)})}function Vm(e,t){const n=b(e)?e:()=>e,r=i=>i.error(n());return new pn(t?i=>t.schedule(r,0,i):r)}function rS(){return de((e,t)=>{let n=null;e._refCount++;const r=tt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class y4 extends pn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,De(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new En;const n=this.getSubject();t.add(this.source.subscribe(tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=En.EMPTY)}return t}refCount(){return rS()(this)}}function Ip(e){return e<=0?()=>si:de((t,n)=>{let r=0;t.subscribe(tt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Fx(...e){const t=qa(e);return de((n,r)=>{(t?nS(e,n,t):nS(e,n)).subscribe(r)})}function Oa(e,t){return de((n,r)=>{let i=0;n.subscribe(tt(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Ox(e){return de((t,n)=>{let r=!1;t.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function x4(e=VX){return de((t,n)=>{let r=!1;t.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function VX(){return new Mx}function ml(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Oa((i,s)=>e(i,s,r)):jr,Ip(1),n?Ox(t):x4(()=>new Mx))}function Bm(e,t){return b(t)?tr(e,t,1):tr(e,1)}function Qi(e,t,n){const r=b(e)||t||n?{next:e,error:t,complete:n}:e;return r?de((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(tt(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):jr}function _l(e){return de((t,n)=>{let s,r=null,i=!1;r=t.subscribe(tt(n,void 0,void 0,o=>{s=Hr(e(o,_l(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Lx(e,t){return de(function BX(e,t,n,r,i){return(s,o)=>{let a=n,c=t,u=0;s.subscribe(tt(o,l=>{const h=u++;c=a?e(c,l,h):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(e,t,arguments.length>=2,!0))}function iS(e){return e<=0?()=>si:de((t,n)=>{let r=[];t.subscribe(tt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sS(e){return de((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Wt="primary",Um=Symbol("RouteTitle");class $X{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Tp(e){return new $X(e)}function GX(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function fc(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!E4(e[i],t[i]))return!1;return!0}function E4(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function w4(e){return e.length>0?e[e.length-1]:null}function vl(e){return function DX(e){return!!e&&(e instanceof pn||b(e.lift)&&b(e.subscribe))}(e)?e:wm(e)?j(Promise.resolve(e)):me(e)}const zX={exact:function A4(e,t,n){if(!id(e.segments,t.segments)||!Vx(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!A4(e.children[r],t.children[r],n))return!1;return!0},subset:C4},I4={exact:function qX(e,t){return fc(e,t)},subset:function KX(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>E4(e[n],t[n]))},ignored:()=>!0};function T4(e,t,n){return zX[n.paths](e.root,t.root,n.matrixParams)&&I4[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function C4(e,t,n){return S4(e,t,t.segments,n)}function S4(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!id(i,n)||t.hasChildren()||!Vx(i,n,r))}if(e.segments.length===n.length){if(!id(e.segments,n)||!Vx(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!C4(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(id(e.segments,i)&&Vx(e.segments,i,r)&&e.children[Wt])&&S4(e.children[Wt],t,s,r)}}function Vx(e,t,n){return t.every((r,i)=>I4[n](e[i].parameters,r.parameters))}class Ap{constructor(t=new Bn([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tp(this.queryParams)),this._queryParamMap}toString(){return QX.serialize(this)}}class Bn{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bx(this)}}class jm{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Tp(this.parameters)),this._parameterMap}toString(){return k4(this)}}function id(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Hm=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:function(){return new oS},providedIn:"root"})}return e})();class oS{parse(t){const n=new cJ(t);return new Ap(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${$m(t.root,!0)}`,r=function eJ(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Ux(n)}=${Ux(i)}`).join("&"):`${Ux(n)}=${Ux(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function XX(e){return encodeURI(e)}(t.fragment)}`:""}`}}const QX=new oS;function Bx(e){return e.segments.map(t=>k4(t)).join("/")}function $m(e,t){if(!e.hasChildren())return Bx(e);if(t){const n=e.children[Wt]?$m(e.children[Wt],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==Wt&&r.push(`${i}:${$m(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function YX(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Wt&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Wt&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Wt?[$m(e.children[Wt],!1)]:[`${i}:${$m(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Wt]?`${Bx(e)}/${n[0]}`:`${Bx(e)}/(${n.join("//")})`}}function D4(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ux(e){return D4(e).replace(/%3B/gi,";")}function aS(e){return D4(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jx(e){return decodeURIComponent(e)}function b4(e){return jx(e.replace(/\+/g,"%20"))}function k4(e){return`${aS(e.path)}${function JX(e){return Object.keys(e).map(t=>`;${aS(t)}=${aS(e[t])}`).join("")}(e.parameters)}`}const tJ=/^[^\/()?;#]+/;function cS(e){const t=e.match(tJ);return t?t[0]:""}const nJ=/^[^\/()?;=#]+/,iJ=/^[^=?&#]+/,oJ=/^[^&#]+/;class cJ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Wt]=new Bn(t,n)),r}parseSegment(){const t=cS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ge(4009,!1);return this.capture(t),new jm(jx(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function rJ(e){const t=e.match(nJ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=cS(this.remaining);i&&(r=i,this.capture(r))}t[jx(n)]=jx(r)}parseQueryParam(t){const n=function sJ(e){const t=e.match(iJ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function aJ(e){const t=e.match(oJ);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=b4(n),s=b4(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=cS(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ge(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Wt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Wt]:new Bn([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ge(4011,!1)}}function R4(e){return e.segments.length>0?new Bn([],{[Wt]:e}):e}function P4(e){const t={};for(const r of Object.keys(e.children)){const s=P4(e.children[r]);if(r===Wt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function uJ(e){if(1===e.numberOfChildren&&e.children[Wt]){const t=e.children[Wt];return new Bn(e.segments.concat(t.segments),t.children)}return e}(new Bn(e.segments,t))}function sd(e){return e instanceof Ap}function N4(e){let t;const i=R4(function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Bn(s.url,o);return s===e&&(t=a),a}(e.root));return t??i}function M4(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return uS(i,i,i,n,r);const s=function fJ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new O4(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new O4(n,t,r)}(t);if(s.toRoot())return uS(i,i,new Bn([],{}),n,r);const o=function dJ(e,t,n){if(e.isAbsolute)return new $x(t,!0,0);if(!n)return new $x(t,!1,NaN);if(null===n.parent)return new $x(n,!0,0);const r=Hx(e.commands[0])?0:1;return function hJ(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ge(4005,!1);i=r.segments.length}return new $x(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?Wm(o.segmentGroup,o.index,s.commands):L4(o.segmentGroup,o.index,s.commands);return uS(i,o.segmentGroup,a,n,r)}function Hx(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Gm(e){return"object"==typeof e&&null!=e&&e.outlets}function uS(e,t,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=e===t?n:F4(e,t,n);const a=R4(P4(o));return new Ap(a,s,i)}function F4(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:F4(s,t,n)}),new Bn(e.segments,r)}class O4{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Hx(r[0]))throw new ge(4003,!1);const i=r.find(Gm);if(i&&i!==w4(r))throw new ge(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $x{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function L4(e,t,n){if(e||(e=new Bn([],{})),0===e.segments.length&&e.hasChildren())return Wm(e,t,n);const r=function gJ(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(Gm(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!B4(c,u,o))return s;r+=2}else{if(!B4(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Bn(e.segments.slice(0,r.pathIndex),{});return s.children[Wt]=new Bn(e.segments.slice(r.pathIndex),e.children),Wm(s,0,i)}return r.match&&0===i.length?new Bn(e.segments,{}):r.match&&!e.hasChildren()?lS(e,t,n):r.match?Wm(e,0,i):lS(e,t,n)}function Wm(e,t,n){if(0===n.length)return new Bn(e.segments,{});{const r=function pJ(e){return Gm(e[0])?e[0].outlets:{[Wt]:e}}(n),i={};if(Object.keys(r).some(s=>s!==Wt)&&e.children[Wt]&&1===e.numberOfChildren&&0===e.children[Wt].segments.length){const s=Wm(e.children[Wt],t,n);return new Bn(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=L4(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Bn(e.segments,i)}}function lS(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Gm(s)){const c=mJ(s.outlets);return new Bn(r,c)}if(0===i&&Hx(n[0])){r.push(new jm(e.segments[t].path,V4(n[0]))),i++;continue}const o=Gm(s)?s.outlets[Wt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hx(a)?(r.push(new jm(o,V4(a))),i+=2):(r.push(new jm(o,{})),i++)}return new Bn(r,{})}function mJ(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=lS(new Bn([],{}),0,r))}),t}function V4(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function B4(e,t,n){return e==n.path&&fc(t,n.parameters)}const zm="imperative";class dc{constructor(t,n){this.id=t,this.url=n}}class Gx extends dc{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yl extends dc{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qm extends dc{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cp extends dc{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Wx extends dc{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class U4 extends dc{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _J extends dc{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vJ extends dc{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yJ extends dc{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xJ extends dc{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EJ{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wJ{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IJ{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TJ{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AJ{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CJ{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j4{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fS{}class dS{constructor(t){this.url=t}}class SJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Km,this.attachRef=null}}let Km=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new SJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class H4{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=hS(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=hS(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=pS(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return pS(t,this._root).map(n=>n.value)}}function hS(e,t){if(e===t.value)return t;for(const n of t.children){const r=hS(e,n);if(r)return r}return null}function pS(e,t){if(e===t.value)return[t];for(const n of t.children){const r=pS(e,n);if(r.length)return r.unshift(t),r}return[]}class su{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Sp(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class $4 extends H4{constructor(t,n){super(t),this.snapshot=n,gS(this,t)}toString(){return this.snapshot.toString()}}function G4(e,t){const n=function DJ(e,t){const o=new zx([],{},{},"",{},Wt,t,null,{});return new z4("",new su(o,[]))}(0,t),r=new Q([new jm("",{})]),i=new Q({}),s=new Q({}),o=new Q({}),a=new Q(""),c=new od(r,i,o,a,s,Wt,t,n.root);return c.snapshot=n.root,new $4(new su(c,[]),n)}class od{constructor(t,n,r,i,s,o,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(dt(u=>u[Um]))??me(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(dt(t=>Tp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(dt(t=>Tp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function W4(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function bJ(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zx{get title(){return this.data?.[Um]}constructor(t,n,r,i,s,o,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class z4 extends H4{constructor(t,n){super(n),this.url=t,gS(this,n)}toString(){return q4(this._root)}}function gS(e,t){t.value._routerState=e,t.children.forEach(n=>gS(e,n))}function q4(e){const t=e.children.length>0?` { ${e.children.map(q4).join(", ")} } `:"";return`${e.value}${t}`}function mS(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,fc(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),fc(t.params,n.params)||e.paramsSubject.next(n.params),function WX(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!fc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),fc(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function _S(e,t){const n=fc(e.params,t.params)&&function ZX(e,t){return id(e,t)&&e.every((n,r)=>fc(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||_S(e.parent,t.parent))}let Dp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new kr,this.deactivateEvents=new kr,this.attachEvents=new kr,this.detachEvents=new kr,this.parentContexts=ft(Km),this.location=ft(Na),this.changeDetector=ft(px),this.environmentInjector=ft(ra),this.inputBinder=ft(qx,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ge(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ge(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ge(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ge(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new kJ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Dt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[io]})}return e})();class kJ{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===od?this.route:t===Km?this.childContexts:this.parent.get(t,n)}}const qx=new Ye("");let K4=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=tS([r.queryParams,r.params,r.data]).pipe(Qt(([s,o,a],c)=>(a={...s,...o,...a},0===c?me(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function iY(e){const t=gn(e);if(!t)return null;const n=new gm(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})();function Zm(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function PJ(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Zm(e,r,i);return Zm(e,r)})}(e,t,n);return new su(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Zm(e,a)),o}}const r=function NJ(e){return new od(new Q(e.url),new Q(e.params),new Q(e.queryParams),new Q(e.fragment),new Q(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Zm(e,s));return new su(r,i)}}const vS="ngNavigationCancelingError";function Z4(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=sd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Y4(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function Y4(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[vS]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Q4(e){return e&&e[vS]}let X4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Sr({type:e,selectors:[["ng-component"]],standalone:!0,features:[KF],decls:1,vars:0,template:function(r,i){1&r&&vs(0,"router-outlet")},dependencies:[Dp],encapsulation:2})}return e})();function yS(e){const t=e.children&&e.children.map(yS),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Wt&&(n.component=X4),n}function La(e){return e.outlet||Wt}function Ym(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class jJ{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),mS(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Sp(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Sp(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Sp(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Sp(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new CJ(s.value.snapshot))}),t.children.length&&this.forwardEvent(new TJ(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(mS(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),mS(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Ym(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class J4{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kx{constructor(t,n){this.component=t,this.route=n}}function HJ(e,t,n){const r=e._root;return Qm(r,t?t._root:null,n,[r.value])}function bp(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function CI(e){return null!==pf(e)}(e)?t.get(e):e:r}function Qm(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sp(t);return e.children.forEach(o=>{(function GJ(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function WJ(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!id(e.url,t.url);case"pathParamsOrQueryParamsChange":return!id(e.url,t.url)||!fc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_S(e,t)||!fc(e.queryParams,t.queryParams);default:return!_S(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new J4(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Qm(e,t,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Kx(a.outlet.component,o))}else o&&Xm(t,a,i),i.canActivateChecks.push(new J4(r)),Qm(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Xm(a,n.getContext(o),i)),i}function Xm(e,t,n){const r=Sp(e),i=e.value;Object.entries(r).forEach(([s,o])=>{Xm(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Kx(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Jm(e){return"function"==typeof e}function eV(e){return e instanceof Mx||"EmptyError"===e?.name}const Zx=Symbol("INITIAL_VALUE");function kp(){return Qt(e=>tS(e.map(t=>t.pipe(Ip(1),Fx(Zx)))).pipe(dt(t=>{for(const n of t)if(!0!==n){if(n===Zx)return Zx;if(!1===n||n instanceof Ap)return n}return!0}),Oa(t=>t!==Zx),Ip(1)))}function tV(e){return function Uo(...e){return jo(e)}(Qi(t=>{if(sd(t))throw Z4(0,t)}),dt(t=>!0===t))}class Yx{constructor(t){this.segmentGroup=t||null}}class nV{constructor(t){this.urlTree=t}}function Rp(e){return Vm(new Yx(e))}function rV(e){return Vm(new nV(e))}class fee{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new ge(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return me(r);if(i.numberOfChildren>1||!i.children[Wt])return Vm(new ge(4e3,!1));i=i.children[Wt]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new Ap(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(t,c,r,i)}),new Bn(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new ge(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const xS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dee(e,t,n,r,i){const s=ES(e,t,n);return s.matched?(r=function FJ(e,t){return e.providers&&!e._injector&&(e._injector=YA(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function cee(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?me(i.map(o=>{const a=bp(o,e);return vl(function QJ(e){return e&&Jm(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(kp(),tV()):me(!0)}(r,t,n).pipe(dt(o=>!0===o?s:{...xS}))):me(s)}function ES(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...xS}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||GX)(n,e,t);if(!i)return{...xS};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function iV(e,t,n,r){return n.length>0&&function gee(e,t,n){return n.some(r=>Qx(e,t,r)&&La(r)!==Wt)}(e,n,r)?{segmentGroup:new Bn(t,pee(r,new Bn(n,e.children))),slicedSegments:[]}:0===n.length&&function mee(e,t,n){return n.some(r=>Qx(e,t,r))}(e,n,r)?{segmentGroup:new Bn(e.segments,hee(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Bn(e.segments,e.children),slicedSegments:n}}function hee(e,t,n,r,i){const s={};for(const o of r)if(Qx(e,n,o)&&!i[La(o)]){const a=new Bn([],{});s[La(o)]=a}return{...i,...s}}function pee(e,t){const n={};n[Wt]=t;for(const r of e)if(""===r.path&&La(r)!==Wt){const i=new Bn([],{});n[La(r)]=i}return n}function Qx(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class xee{constructor(t,n,r,i,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new fee(this.urlSerializer,this.urlTree)}noMatchError(t){return new ge(4002,!1)}recognize(){const t=iV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Wt).pipe(_l(n=>{if(n instanceof nV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Yx?this.noMatchError(n):n}),dt(n=>{const r=new zx([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),i=new su(r,n),s=new z4("",i),o=function lJ(e,t,n=null,r=null){return M4(N4(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Wt).pipe(_l(r=>{throw r instanceof Yx?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=W4(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return j(i).pipe(Bm(s=>{const o=r.children[s],a=function BJ(e,t){const n=e.filter(r=>La(r)===t);return n.push(...e.filter(r=>La(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,o,s)}),Lx((s,o)=>(s.push(...o),s)),Ox(null),function UX(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Oa((i,s)=>e(i,s,r)):jr,iS(1),n?Ox(t):x4(()=>new Mx))}(),tr(s=>{if(null===s)return Rp(r);const o=sV(s);return function Eee(e){e.sort((t,n)=>t.value.outlet===Wt?-1:n.value.outlet===Wt?1:t.value.outlet.localeCompare(n.value.outlet))}(o),me(o)}))}processSegment(t,n,r,i,s,o){return j(n).pipe(Bm(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,s,o).pipe(_l(c=>{if(c instanceof Yx)return me(null);throw c}))),ml(a=>!!a),_l(a=>{if(eV(a))return function vee(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?me([]):Rp(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,s,o,a){return function _ee(e,t,n,r){return!!(La(e)===r||r!==Wt&&Qx(t,n,e))&&("**"===e.path||ES(t,e,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o):Rp(i):Rp(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(tr(o=>{const a=new Bn(o,{});return this.processSegment(t,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=ES(n,i,s);if(!a)return Rp(n);const h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?rV(h):this.applyRedirects.lineralizeSegments(i,h).pipe(tr(g=>this.processSegment(t,r,n,g.concat(u),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?w4(i).parameters:{};a=me({snapshot:new zx(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oV(r),La(r),r.component??r._loadedComponent??null,r,aV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=dee(n,r,i,t).pipe(dt(({matched:c,consumedSegments:u,remainingSegments:l,parameters:h})=>c?{snapshot:new zx(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oV(r),La(r),r.component??r._loadedComponent??null,r,aV(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Qt(c=>null===c?Rp(n):this.getChildConfig(t=r._injector??t,r,i).pipe(Qt(({routes:u})=>{const l=r._loadedInjector??t,{snapshot:h,consumedSegments:g,remainingSegments:_}=c,{segmentGroup:y,slicedSegments:v}=iV(n,g,_,u);if(0===v.length&&y.hasChildren())return this.processChildren(l,u,y).pipe(dt(T=>null===T?null:[new su(h,T)]));if(0===u.length&&0===v.length)return me([new su(h,[])]);const x=La(r)===s;return this.processSegment(l,u,y,v,x?Wt:s,!0).pipe(dt(T=>[new su(h,T)]))}))))}getChildConfig(t,n,r){return n.children?me({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?me({routes:n._loadedRoutes,injector:n._loadedInjector}):function aee(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?me(!0):me(i.map(o=>{const a=bp(o,e);return vl(function qJ(e){return e&&Jm(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(kp(),tV())}(t,n,r).pipe(tr(i=>i?this.configLoader.loadChildren(t,n).pipe(Qi(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function lee(e){return Vm(Y4(!1,3))}())):me({routes:[],injector:t})}}function wee(e){const t=e.value.routeConfig;return t&&""===t.path}function sV(e){const t=[],n=new Set;for(const r of e){if(!wee(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=sV(r.children);t.push(new su(r.value,i))}return t.filter(r=>!n.has(r))}function oV(e){return e.data||{}}function aV(e){return e.resolve||{}}function cV(e){return"string"==typeof e.title||null===e.title}function wS(e){return Qt(t=>{const n=e(t);return n?j(n).pipe(dt(()=>t)):me(t)})}const Pp=new Ye("ROUTES");let IS=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ft(WO)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return me(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=vl(n.loadComponent()).pipe(dt(uV),Qi(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),sS(()=>{this.componentLoaders.delete(n)})),i=new y4(r,()=>new he).pipe(rS());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return me({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function bee(e,t,n,r){return vl(e.loadChildren()).pipe(dt(uV),tr(i=>i instanceof zF||Array.isArray(i)?me(i):j(t.compileModuleAsync(i))),dt(i=>{r&&r(e);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Pp,[],{optional:!0,self:!0}).flat()),{routes:o.map(yS),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(sS(()=>{this.childrenLoaders.delete(r)})),o=new y4(s,()=>new he).pipe(rS());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uV(e){return function kee(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Xx=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=ft(IS),this.environmentInjector=ft(ra),this.urlSerializer=ft(Hm),this.rootContexts=ft(Km),this.inputBindingEnabled=null!==ft(qx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>me(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new wJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new EJ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Q({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zm,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oa(s=>0!==s.id),dt(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Qt(s=>{this.currentTransition=s;let o=!1,a=!1;return me(s).pipe(Qi(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qt(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Cp(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),si}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return me(c).pipe(Qt(g=>{const _=this.transitions?.getValue();return this.events.next(new Gx(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?si:Promise.resolve(g)}),function Iee(e,t,n,r,i,s){return tr(o=>function yee(e,t,n,r,i,s,o="emptyOnly"){return new xee(e,t,n,r,i,o,s).recognize()}(e,t,n,r,o.extractedUrl,i,s).pipe(dt(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Qi(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const _=new U4(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:_,source:y,restoredState:v,extras:x}=c,T=new Gx(g,this.urlSerializer.serialize(_),y,v);this.events.next(T);const w=G4(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:w,urlAfterRedirects:_,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},me(s)}{const g="";return this.events.next(new Cp(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),si}}),Qi(c=>{const u=new _J(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),dt(c=>(this.currentTransition=s={...c,guards:HJ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function JJ(e,t){return tr(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?me({...n,guardsResult:!0}):function eee(e,t,n,r){return j(e).pipe(tr(i=>function oee(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?me(s.map(a=>{const c=Ym(t)??i,u=bp(a,c);return vl(function YJ(e){return e&&Jm(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):c.runInContext(()=>u(e,t,n,r))).pipe(ml())})).pipe(kp()):me(!0)}(i.component,i.route,n,t,r)),ml(i=>!0!==i,!0))}(o,r,i,e).pipe(tr(a=>a&&function zJ(e){return"boolean"==typeof e}(a)?function tee(e,t,n,r){return j(t).pipe(Bm(i=>nS(function ree(e,t){return null!==e&&t&&t(new IJ(e)),me(!0)}(i.route.parent,r),function nee(e,t){return null!==e&&t&&t(new AJ(e)),me(!0)}(i.route,r),function see(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function $J(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>v4(()=>me(o.guards.map(c=>{const u=Ym(o.node)??n,l=bp(c,u);return vl(function ZJ(e){return e&&Jm(e.canActivateChild)}(l)?l.canActivateChild(r,e):u.runInContext(()=>l(r,e))).pipe(ml())})).pipe(kp())));return me(s).pipe(kp())}(e,i.path,n),function iee(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return me(!0);const i=r.map(s=>v4(()=>{const o=Ym(t)??n,a=bp(s,o);return vl(function KJ(e){return e&&Jm(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(ml())}));return me(i).pipe(kp())}(e,i.route,n))),ml(i=>!0!==i,!0))}(r,s,e,t):me(a)),dt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Qi(c=>{if(s.guardsResult=c.guardsResult,sd(c.guardsResult))throw Z4(0,c.guardsResult);const u=new vJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Oa(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),wS(c=>{if(c.guards.canActivateChecks.length)return me(c).pipe(Qi(u=>{const l=new yJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Qt(u=>{let l=!1;return me(u).pipe(function Tee(e,t){return tr(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return me(n);let s=0;return j(i).pipe(Bm(o=>function Aee(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!cV(i)&&(s[Um]=i.title),function Cee(e,t,n,r){const i=function See(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return me({});const s={};return j(i).pipe(tr(o=>function Dee(e,t,n,r){const i=Ym(t)??r,s=bp(e,i);return vl(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(ml(),Qi(a=>{s[o]=a}))),iS(1),function jX(e){return dt(()=>e)}(s),_l(o=>eV(o)?si:Vm(o)))}(s,e,t,r).pipe(dt(o=>(e._resolvedData=o,e.data=W4(e,n).resolve,i&&cV(i)&&(e.data[Um]=i.title),null)))}(o.route,r,e,t)),Qi(()=>s++),iS(1),tr(o=>s===i.length?me(n):si))})}(n.paramsInheritanceStrategy,this.environmentInjector),Qi({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),Qi(u=>{const l=new xJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),wS(c=>{const u=l=>{const h=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(l.routeConfig).pipe(Qi(g=>{l.component=g}),dt(()=>{})));for(const g of l.children)h.push(...u(g));return h};return tS(u(c.targetSnapshot.root)).pipe(Ox(),Ip(1))}),wS(()=>this.afterPreactivation()),dt(c=>{const u=function RJ(e,t,n){const r=Zm(e,t._root,n?n._root:void 0);return new $4(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),Qi(()=>{this.events.next(new fS)}),((e,t,n,r)=>dt(i=>(new jJ(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ip(1),Qi({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),function HX(e){return de((t,n)=>{Hr(e).subscribe(tt(n,()=>n.complete(),ut)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Qi(c=>{throw c}))),sS(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),_l(c=>{if(a=!0,Q4(c))this.events.next(new qm(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function MJ(e){return Q4(e)&&sd(e.url)}(c)?this.events.next(new dS(c.url)):s.resolve(!1);else{this.events.next(new Wx(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){s.reject(u)}}return si}))}))}cancelNavigationTransition(n,r,i){const s=new qm(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lV(e){return e!==zm}let fV=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Wt);return r}getResolvedTitleForRoute(n){return n.data[Um]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:function(){return ft(Ree)},providedIn:"root"})}return e})(),Ree=(()=>{class e extends fV{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(l4))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pee=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:function(){return ft(Mee)},providedIn:"root"})}return e})();class Nee{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Mee=(()=>{class e extends Nee{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=ai(e)))(i||e)}}();static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Jx=new Ye("",{providedIn:"root",factory:()=>({})});let Fee=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:function(){return ft(Oee)},providedIn:"root"})}return e})(),Oee=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var e_=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(e_||{});function dV(e,t){e.events.pipe(Oa(n=>n instanceof yl||n instanceof qm||n instanceof Wx||n instanceof Cp),dt(n=>n instanceof yl||n instanceof Cp?e_.COMPLETE:n instanceof qm&&(0===n.code||1===n.code)?e_.REDIRECTING:e_.FAILED),Oa(n=>n!==e_.REDIRECTING),Ip(1)).subscribe(()=>{t()})}function Lee(e){throw e}function Vee(e,t,n){return t.parse("/")}const Bee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ri=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ft($O),this.isNgZoneEnabled=!1,this._events=new he,this.options=ft(Jx,{optional:!0})||{},this.pendingTasks=ft(GO),this.errorHandler=this.options.errorHandler||Lee,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Vee,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ft(Fee),this.routeReuseStrategy=ft(Pee),this.titleStrategy=ft(fV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ft(Pp,{optional:!0})?.flat()??[],this.navigationTransitions=ft(Xx),this.urlSerializer=ft(Hm),this.location=ft(bC),this.componentInputBindingEnabled=!!ft(qx,{optional:!0}),this.eventsSubscription=new En,this.isNgZoneEnabled=ft(Pn)instanceof Pn&&Pn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ap,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=G4(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(hV(r)&&this._events.next(r));if(r instanceof Gx)lV(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Cp)this.rawUrlTree=i.rawUrl;else if(r instanceof U4){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof fS)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof qm)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof dS){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lV(i.source)};this.scheduleNavigation(s,zm,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Wx&&this.restoreHistory(i,!0),r instanceof yl&&(this.navigated=!0),hV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zm,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let h,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{h=N4(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return M4(h,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=sd(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,zm,null,r)}navigate(n,r={skipLocationChange:!1}){return function jee(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new ge(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Bee}:!1===r?{...Uee}:r,sd(n))return T4(this.currentUrlTree,n,i);const s=this.parseUrl(n);return T4(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((h,g)=>{a=h,c=g});const l=this.pendingTasks.add();return dV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hV(e){return!(e instanceof fS||e instanceof dS)}let ad=(()=>{class e{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof yl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function WP(e,t,n){return function T$(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?GP:$P}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Ri),Se(od),function jh(e){return function hT(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(tg(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(Kr(),e)}("tabindex"),Se(Yc),Se(To),Se(rd))};static#t=this.\u0275dir=Dt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Gt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&cc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ep],skipLocationChange:["skipLocationChange","skipLocationChange",Ep],replaceUrl:["replaceUrl","replaceUrl",Ep],routerLink:"routerLink"},standalone:!0,features:[oM,io]})}return e})();class pV{}let Gee=(()=>{class e{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Oa(n=>n instanceof yl),Bm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=YA(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return j(i).pipe(_o())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):me(null);const s=i.pipe(tr(o=>null===o?me(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?j([s,this.loader.loadComponent(r)]).pipe(_o()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Ri),Be(WO),Be(ra),Be(pV),Be(IS))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const TS=new Ye("");let gV=(()=>{class e{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Gx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof yl?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Cp&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof j4&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new j4(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function NN(){throw new Error("invalid")}()};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac})}return e})();function ou(e,t){return{\u0275kind:e,\u0275providers:t}}function _V(){const e=ft(Ao);return t=>{const n=e.get(xp);if(t!==n.components[0])return;const r=e.get(Ri),i=e.get(vV);1===e.get(AS)&&r.initialNavigation(),e.get(yV,null,nn.Optional)?.setUpPreloading(),e.get(TS,null,nn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vV=new Ye("",{factory:()=>new he}),AS=new Ye("",{providedIn:"root",factory:()=>1}),yV=new Ye("");function Kee(e){return ou(0,[{provide:yV,useExisting:Gee},{provide:pV,useExisting:e}])}const xV=new Ye("ROUTER_FORROOT_GUARD"),Yee=[bC,{provide:Hm,useClass:oS},Ri,Km,{provide:od,useFactory:function mV(e){return e.routerState.root},deps:[Ri]},IS,[]];function Qee(){return new XO("Router",Ri)}let EV=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Yee,[],{provide:Pp,multi:!0,useValue:n},{provide:xV,useFactory:tte,deps:[[Ri,new f,new m]]},{provide:Jx,useValue:r||{}},r?.useHash?{provide:rd,useClass:uY}:{provide:rd,useClass:bL},{provide:TS,useFactory:()=>{const e=ft(SQ),t=ft(Pn),n=ft(Jx),r=ft(Xx),i=ft(Hm);return n.scrollOffset&&e.setOffset(n.scrollOffset),new gV(i,r,e,t,n)}},r?.preloadingStrategy?Kee(r.preloadingStrategy).\u0275providers:[],{provide:XO,multi:!0,useFactory:Qee},r?.initialNavigation?nte(r):[],r?.bindToComponentInputs?ou(8,[K4,{provide:qx,useExisting:K4}]).\u0275providers:[],[{provide:wV,useFactory:_V},{provide:yC,multi:!0,useExisting:wV}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Pp,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Be(xV,8))};static#t=this.\u0275mod=Wi({type:e});static#n=this.\u0275inj=Ls({})}return e})();function tte(e){return"guarded"}function nte(e){return["disabled"===e.initialNavigation?ou(3,[{provide:fC,multi:!0,useFactory:()=>{const t=ft(Ri);return()=>{t.setUpLocationChangeListener()}}},{provide:AS,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ou(2,[{provide:AS,useValue:0},{provide:fC,multi:!0,deps:[Ao],useFactory:t=>{const n=t.get(aY,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Ri),s=t.get(vV);dV(i,()=>{r(!0)}),t.get(Xx).afterPreactivation=()=>(r(!0),s.closed?me(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const wV=new Ye("");let CS=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-footer"]],decls:2,vars:0,consts:[[1,"bg-gray-800","px-10","mt-10","text-sm","text-white","text-left"]],template:function(r,i){1&r&&(oe(0,"footer",0),we(1," \xa9 2024 UPPCL. All Rights Reserved | Developed by : IT Development Team,UPPCL "),re())},styles:["footer[_ngcontent-%COMP%]{color:#fff;position:fixed;bottom:0;width:100%}"]})}return e})(),t_=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-navbar"]],decls:9,vars:0,consts:[[1,"bg-gray-800","p-4"],[1,"container","mx-auto","flex","justify-between","items-center"],[1,"text-xl","font-medium","text-white"],["routerLink","",1,"bg-black-500","hover:bg-gray-700","text-white","font-bold","py-2","px-4","rounded"]],template:function(r,i){1&r&&(oe(0,"nav",0)(1,"div",1)(2,"div")(3,"span",2),we(4,"UPPCL Evaluation Portal"),re()(),oe(5,"div")(6,"button",3),we(7," Home "),re()()()(),vs(8,"app-footer"))},dependencies:[ad,CS],styles:["nav[_ngcontent-%COMP%]{height:60px}button[_ngcontent-%COMP%]{cursor:pointer}"]})}return e})();const ite=function(){return["/admin/create"]},ste=function(){return["/admin/modify"]},ote=function(){return["/admin/result"]};let ate=(()=>{class e{constructor(){this.componentType="available"}toggleComponent(n){this.componentType=n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-admin"]],decls:15,vars:6,consts:[[1,"flex","h-[calc(100vh-60px)]"],[1,"w-1/5","bg-gray-100","text-black-900"],[1,"mt-5"],[1,"hover:bg-gray-200"],[1,"block","px-4","py-2",3,"routerLink"],[1,"w-4/5","bg-white"]],template:function(r,i){1&r&&(vs(0,"app-navbar"),oe(1,"div",0)(2,"div",1)(3,"ul",2)(4,"li",3)(5,"a",4),we(6,"Create Exams"),re()(),oe(7,"li",3)(8,"a",4),we(9,"Modify Exam"),re()(),oe(10,"li",3)(11,"a",4),we(12,"Exam Results"),re()()()(),oe(13,"div",5),vs(14,"router-outlet"),re()()),2&r&&(st(5),un("routerLink",_p(3,ite)),st(3),un("routerLink",_p(4,ste)),st(3),un("routerLink",_p(5,ote)))},dependencies:[Dp,ad,t_]})}return e})();function cte(e,t){if(1&e){const n=Xf();xm(0),oe(1,"div",5)(2,"button",6),Gt("click",function(){const s=Sa(n).$implicit;return $c(ul().roleSelect(s.role))}),we(3),re()(),Em()}if(2&e){const n=t.$implicit;st(3),fl(" ",n.role," ")}}let ute=(()=>{class e{constructor(n){this.router=n,this.selectedRole=""}ngOnInit(){this.userData=[{role:"Examinee",description:"Give Exam"},{role:"Admin",description:"Create Exam"}],console.log(this.userData)}roleSelect(n){this.router.navigate("Admin"==n?["../auth"]:["../details"])}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Ri))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-role-select"]],decls:9,vars:1,consts:[[1,"flex","items-center","justify-center","h-[calc(100vh-60px)]"],[1,"space-y-12","shadow-md","bg-gray-100","rounded-md"],[1,"mt-6","text-center","text-3xl","font-bold","text-gray-900"],[1,"flex","flex-wrap","justify-center","items-center","mx-2","px-4"],[4,"ngFor","ngForOf"],[1,"m-2"],[1,"flex","justify-center","items-center","py-2","px-4","border","border-transparent","text-lg","font-medium","rounded-md","text-white","bg-gray-600","hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","shadow-md","custom-button",3,"click"]],template:function(r,i){1&r&&(vs(0,"app-navbar"),oe(1,"div",0)(2,"div",1)(3,"div")(4,"h2",2),we(5," Select a Role "),re()(),oe(6,"div",3),ao(7,cte,4,1,"ng-container",4),re()()(),vs(8,"app-footer")),2&r&&(st(7),un("ngForOf",i.userData))},dependencies:[pl,t_,CS],styles:[".custom-button[_ngcontent-%COMP%]{width:200px;height:100px;margin:5px}"]})}return e})();function IV(e){if(!Array.isArray(e))throw new TypeError("Expected an array, got "+typeof e);for(let t=(e=[...e]).length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var Np=Ot(534);(0,Np.registerVersion)("firebase","10.5.2","app");class dte extends En{constructor(t,n){super()}schedule(t,n=0){return this}}const eE={setInterval(e,t,...n){const{delegate:r}=eE;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=eE;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class TV extends dte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return eE.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&eE.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,St(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const SS={now:()=>(SS.delegate||Date).now(),delegate:void 0};class n_{constructor(t,n=n_.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}n_.now=SS.now;class AV extends n_{constructor(t,n=n_.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const gte=new class pte extends AV{}(class hte extends TV{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),CV=new AV(TV),DS=new ep("ANGULARFIRE2_VERSION");class SV{constructor(){return((e,t)=>{const n=(0,Np.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(_te)}}const _te="app-check";function Mp(){}class DV{zone;delegate;constructor(t,n=gte){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{t.apply(this,[o])})},n,r)}}class vte{zone;task=null;constructor(t){this.zone=t}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mp,{},Mp,Mp)),n.pipe(Qi({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bV=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new DV(Zone.current)),this.insideAngular=n.run(()=>new DV(Zone.current,CV)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||e)(Be(Pn))};static \u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Do(e){return function xte(e){return function(n){return(n=n.lift(new vte(e.ngZone))).pipe(cs(e.outsideAngular),Gi(e.insideAngular))}}(function Fp(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}())(e)}var xl=Ot(106);xl.Z.registerVersion("firebase","10.5.2","app-compat");const Tte=["ngOnDestroy"];class kV{constructor(t){return t}}const tE=new Ye("angularfire2.app.options"),nE=new Ye("angularfire2.app.name");function bS(e,t,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=xl.Z.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>xl.Z.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(o.options)){const a=!!module.hot;Ste("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new kV(o)}const Ste=(e,...t)=>{},Dte={provide:kV,useFactory:bS,deps:[tE,Pn,[new f,nE]]};let bte=(()=>{class e{static initializeApp(n,r){return{ngModule:e,providers:[{provide:tE,useValue:n},{provide:nE,useValue:r}]}}constructor(n){xl.Z.registerVersion("angularfire",DS.full,"core"),xl.Z.registerVersion("angularfire",DS.full,"app-compat"),xl.Z.registerVersion("angular",cN.full,n.toString())}static \u0275fac=function(r){return new(r||e)(Be(Zc))};static \u0275mod=Wi({type:e});static \u0275inj=Ls({providers:[Dte]})}return e})();function RV(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(s)return function kte(e,t){try{return e.toString()===t.toString()}catch{return e===t}}(i,o)||(PV("error",`${t} was already initialized on the ${n} Firebase App with different settings.${Rte?" You may need to reload as Firebase is not HMR aware.":""}`),PV("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}const Rte=typeof module<"u"&&!!module.hot,PV=(e,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Ot(290);class Pte extends he{constructor(t=1/0,n=1/0,r=SS){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(t),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!t.closed;o+=r?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function NV(e,t,n){let r,i=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e):r=e??1/0,Nt({connector:()=>new Pte(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function MV(e,t){return b(t)?Qt(()=>e,t):Qt(()=>e)}const FV=new Ye("angularfire2.auth.use-emulator"),OV=new Ye("angularfire2.auth.settings"),LV=new Ye("angularfire2.auth.tenant-id"),VV=new Ye("angularfire2.auth.langugage-code"),BV=new Ye("angularfire2.auth.use-device-language"),UV=new Ye("angularfire.auth.persistence"),jV=(e,t,n,r,i,s,o,a)=>RV(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[u,l]of Object.entries(o))c.settings[u]=l;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]);let HV=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,c,u,l,h,g,_){const y=new he,v=me(void 0).pipe(Gi(o.outsideAngular),Qt(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ot.bind(Ot,290)))),dt(()=>bS(n,s,r)),dt(x=>jV(x,s,a,u,l,h,c,g)),NV({bufferSize:1,refCount:!1}));if(kx(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=me(null);else{v.pipe(ml()).subscribe();const x=v.pipe(Qt(I=>I.getRedirectResult().then(k=>k,()=>null)),Do,NV({bufferSize:1,refCount:!1})),T=v.pipe(Qt(I=>new pn(k=>({unsubscribe:s.runOutsideAngular(()=>I.onAuthStateChanged(O=>k.next(O),O=>k.error(O),()=>k.complete()))})))),w=v.pipe(Qt(I=>new pn(k=>({unsubscribe:s.runOutsideAngular(()=>I.onIdTokenChanged(O=>k.next(O),O=>k.error(O),()=>k.complete()))}))));this.authState=x.pipe(MV(T),cs(o.outsideAngular),Gi(o.insideAngular)),this.user=x.pipe(MV(w),cs(o.outsideAngular),Gi(o.insideAngular)),this.idToken=this.user.pipe(Qt(I=>I?j(I.getIdToken()):me(null))),this.idTokenResult=this.user.pipe(Qt(I=>I?j(I.getIdTokenResult()):me(null))),this.credential=ye(x,y,this.authState.pipe(Oa(I=>!I))).pipe(dt(I=>I?.user?I:null),cs(o.outsideAngular),Gi(o.insideAngular))}return((e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{if(e[s])return r?.spy?.get&&r.spy.get(s,e[s]),e[s];if(Tte.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(a=>{const c=a?.[s];return"function"==typeof c?c.bind(a):c?.then?c.then(u=>n.run(()=>u)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,u)=>o.then(l=>{const h=l?.(...u);return r?.spy?.apply&&r.spy.apply(s,u,h),h})})})}))(this,v,s,{spy:{apply:(x,T,w)=>{(x.startsWith("signIn")||x.startsWith("createUser"))&&w.then(I=>y.next(I))}}})}static \u0275fac=function(r){return new(r||e)(Be(tE),Be(nE,8),Be(Zc),Be(Pn),Be(bV),Be(FV,8),Be(OV,8),Be(LV,8),Be(VV,8),Be(BV,8),Be(UV,8),Be(SV,8))};static \u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();function kS(){return de((e,t)=>{let n,r=!1;e.subscribe(tt(t,i=>{const s=n;n=i,r&&t.next([s,i]),r=!0}))})}var et,Te=Ot(861),$V=Ot(537),hc=Ot(879),Qn=Ot(58),Mte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Va={},RS=RS||{},Vt=Mte||self;function rE(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function r_(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var PS="closure_uid_"+(1e9*Math.random()>>>0),Ote=0;function Lte(e,t,n){return e.call.apply(e.bind,arguments)}function Vte(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ys(e,t,n){return(ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lte:Vte).apply(null,arguments)}function iE(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Pi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function El(){this.s=this.s,this.o=this.o}El.prototype.s=!1,El.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Fte(e){Object.prototype.hasOwnProperty.call(e,PS)&&e[PS]||(e[PS]=++Ote)}(this)},El.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GV=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function NS(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function WV(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(rE(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function xs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}xs.prototype.h=function(){this.defaultPrevented=!0};var Ute=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Vt.addEventListener("test",()=>{},t),Vt.removeEventListener("test",()=>{},t)}catch{}return e}();function i_(e){return/^[\s\xa0]*$/.test(e)}function sE(){var e=Vt.navigator;return e&&(e=e.userAgent)?e:""}function pc(e){return-1!=sE().indexOf(e)}function MS(e){return MS[" "](e),e}MS[" "]=function(){};var OS,e,Hte=pc("Opera"),Op=pc("Trident")||pc("MSIE"),zV=pc("Edge"),FS=zV||Op,qV=pc("Gecko")&&!(-1!=sE().toLowerCase().indexOf("webkit")&&!pc("Edge"))&&!(pc("Trident")||pc("MSIE"))&&!pc("Edge"),$te=-1!=sE().toLowerCase().indexOf("webkit")&&!pc("Edge");function KV(){var e=Vt.document;return e?e.documentMode:void 0}e:{var LS="",VS=(e=sE(),qV?/rv:([^\);]+)(\)|;)/.exec(e):zV?/Edge\/([\d\.]+)/.exec(e):Op?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$te?/WebKit\/(\S+)/.exec(e):Hte?/(?:Version)[ \/]?(\S+)/.exec(e):void 0);if(VS&&(LS=VS?VS[1]:""),Op){var BS=KV();if(null!=BS&&BS>parseFloat(LS)){OS=String(BS);break e}}OS=LS}var Gte=Vt.document&&Op&&(KV()||parseInt(OS,10))||void 0;function s_(e,t){if(xs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qV){e:{try{MS(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Wte[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&s_.$.h.call(this)}}Pi(s_,xs);var Wte={2:"touch",3:"pen",4:"mouse"};s_.prototype.h=function(){s_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var o_="closure_listenable_"+(1e6*Math.random()|0),zte=0;function qte(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++zte,this.fa=this.ia=!1}function oE(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function jS(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function YV(e){const t={};for(const n in e)t[n]=e[n];return t}const QV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XV(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let s=0;s<QV.length;s++)n=QV[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function aE(e){this.src=e,this.g={},this.h=0}function HS(e,t){var n=t.type;if(n in e.g){var s,r=e.g[n],i=GV(r,t);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(oE(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $S(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}aE.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=$S(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new qte(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var GS="closure_lm_"+(1e6*Math.random()|0),WS={};function JV(e,t,n,r,i){if(r&&r.once)return t3(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)JV(e,t[s],n,r,i);return null}return n=ZS(n),e&&e[o_]?e.O(t,n,r_(r)?!!r.capture:!!r,i):e3(e,t,n,!1,r,i)}function e3(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=r_(i)?!!i.capture:!!i,a=qS(e);if(a||(e[GS]=a=new aE(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function Zte(){const t=Yte;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ute||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(r3(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function t3(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)t3(e,t[s],n,r,i);return null}return n=ZS(n),e&&e[o_]?e.P(t,n,r_(r)?!!r.capture:!!r,i):e3(e,t,n,!0,r,i)}function n3(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)n3(e,t[s],n,r,i);else r=r_(r)?!!r.capture:!!r,n=ZS(n),e&&e[o_]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=$S(s=e.g[t],n,r,i))&&(oE(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=qS(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$S(t,n,r,i)),(n=-1<e?t[e]:null)&&zS(n))}function zS(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[o_])HS(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(r3(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qS(t))?(HS(n,e),0==n.h&&(n.src=null,t[GS]=null)):oE(e)}}}function r3(e){return e in WS?WS[e]:WS[e]="on"+e}function Yte(e,t){if(e.fa)e=!0;else{t=new s_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&zS(e),e=n.call(r,t)}return e}function qS(e){return(e=e[GS])instanceof aE?e:null}var KS="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZS(e){return"function"==typeof e?e:(e[KS]||(e[KS]=function(t){return e.handleEvent(t)}),e[KS])}function Ni(){El.call(this),this.i=new aE(this),this.S=this,this.J=null}function Xi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new xs(t,e);else if(t instanceof xs)t.target=t.target||e;else{var i=t;XV(t=new xs(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=cE(o,r,!0,t)&&i}if(i=cE(o=t.g=e,r,!0,t)&&i,i=cE(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=cE(o=t.g=n[s],r,!1,t)&&i}function cE(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&HS(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Pi(Ni,El),Ni.prototype[o_]=!0,Ni.prototype.removeEventListener=function(e,t,n,r){n3(this,e,t,n,r)},Ni.prototype.N=function(){if(Ni.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)oE(n[r]);delete e.g[t],e.h--}}this.J=null},Ni.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ni.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var YS=Vt.JSON.stringify;function Xte(){var e=QS;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var i3=new class Qte{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ene,e=>e.reset());class ene{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tne(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function nne(e){Vt.setTimeout(()=>{throw e},0)}let a_,c_=!1,QS=new class Jte{constructor(){this.h=this.g=null}add(t,n){const r=i3.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}},s3=()=>{const e=Vt.Promise.resolve(void 0);a_=()=>{e.then(rne)}};var rne=()=>{for(var e;e=Xte();){try{e.h.call(e.g)}catch(n){nne(n)}var t=i3;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}c_=!1};function uE(e,t){Ni.call(this),this.h=e||1,this.g=t||Vt,this.j=ys(this.qb,this),this.l=Date.now()}function XS(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function JS(e,t,n){if("function"==typeof e)n&&(e=ys(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ys(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vt.setTimeout(e,t||0)}function o3(e){e.g=JS(()=>{e.g=null,e.i&&(e.i=!1,o3(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Pi(uE,Ni),(et=uE.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xi(this,"tick"),this.ga&&(XS(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){uE.$.N.call(this),XS(this),delete this.g};class ine extends El{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:o3(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function u_(e){El.call(this),this.h=e,this.g={}}Pi(u_,El);var a3=[];function c3(e,t,n,r){Array.isArray(n)||(n&&(a3[0]=n.toString()),n=a3);for(var i=0;i<n.length;i++){var s=JV(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function u3(e){jS(e.g,function(t,n){this.g.hasOwnProperty(n)&&zS(t)},e),e.g={}}function lE(){this.g=!0}function Lp(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function cne(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return YS(n)}catch{return t}}(e,n)+(r?" "+r:"")})}u_.prototype.N=function(){u_.$.N.call(this),u3(this)},u_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lE.prototype.Ea=function(){this.g=!1},lE.prototype.info=function(){};var ud={},l3=null;function fE(){return l3=l3||new Ni}function f3(e){xs.call(this,ud.Ta,e)}function l_(e){const t=fE();Xi(t,new f3(t))}function d3(e,t){xs.call(this,ud.STAT_EVENT,e),this.stat=t}function Ws(e){const t=fE();Xi(t,new d3(t,e))}function h3(e,t){xs.call(this,ud.Ua,e),this.size=t}function f_(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){e()},t)}ud.Ta="serverreachability",Pi(f3,xs),ud.STAT_EVENT="statevent",Pi(d3,xs),ud.Ua="timingevent",Pi(h3,xs);var dE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},p3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eD(){}function m3(){}eD.prototype.h=null;var rD,d_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tD(){xs.call(this,"d")}function nD(){xs.call(this,"c")}function hE(){}function h_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new u_(this),this.P=une,this.V=new uE(e=FS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _3}function _3(){this.i=null,this.g="",this.h=!1}Pi(tD,xs),Pi(nD,xs),Pi(hE,eD),hE.prototype.g=function(){return new XMLHttpRequest},hE.prototype.i=function(){return{}},rD=new hE;var une=45e3,iD={},pE={};function sD(e,t,n){e.L=1,e.v=vE(au(t)),e.s=n,e.S=!0,v3(e,null)}function v3(e,t){e.G=Date.now(),p_(e),e.A=au(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),D3(n.i,"t",r),e.C=0,n=e.l.J,e.h=new _3,e.g=X3(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ine(ys(e.Pa,e,e.g),e.O)),c3(e.U,e.g,"readystatechange",e.nb),t=e.I?YV(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),l_(),function sne(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function y3(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function x3(e,t,n){let i,r=!0;for(;!e.J&&e.C<n.length;){if(i=lne(e,n),i==pE){4==t&&(e.o=4,Ws(14),r=!1),Lp(e.j,e.m,null,"[Incomplete Response]");break}if(i==iD){e.o=4,Ws(15),Lp(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}Lp(e.j,e.m,i,null),oD(e,i)}y3(e)&&i!=pE&&i!=iD&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ws(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hD(t),t.M=!0,Ws(11))):(Lp(e.j,e.m,n,"[Invalid Chunked Response]"),ld(e),g_(e))}function lne(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?pE:(n=Number(t.substring(n,r)),isNaN(n)?iD:(r+=1)+n>t.length?pE:(t=t.slice(r,r+n),e.C=r+n,t))}function p_(e){e.Y=Date.now()+e.P,E3(e,e.P)}function E3(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=f_(ys(e.lb,e),t)}function gE(e){e.B&&(Vt.clearTimeout(e.B),e.B=null)}function g_(e){0==e.l.H||e.J||K3(e.l,e)}function ld(e){gE(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,XS(e.V),u3(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function oD(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||aD(n.i,e)))if(!e.K&&aD(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;TE(n),wE(n)}dD(n),Ws(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=f_(ys(n.ib,n),6e3));if(1>=R3(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else dd(n,11)}else if((e.K||n.g==e)&&TE(n),!i_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const h=u[4];null!=h&&(n.Ga=h,n.l.info("SVER="+n.Ga));const g=u[5];null!=g&&"number"==typeof g&&0<g&&(n.L=r=1.5*g,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const _=e.g;if(_){const y=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(cD(s,s.h),s.h=null))}if(r.F){const v=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,pr(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Q3(r,r.J?r.pa:null,r.Y),o.K){P3(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(gE(a),p_(a)),r.g=o}else z3(r);0<n.j.length&&IE(n)}else"stop"!=u[0]&&"close"!=u[0]||dd(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?dd(n,7):fD(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}l_()}catch{}}function w3(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rE(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function dne(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(rE(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function fne(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(rE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(et=h_.prototype).setTimeout=function(e){this.P=e},et.nb=function(e){e=e.target;const t=this.M;t&&3==gc(e)?t.l():this.Pa(e)},et.Pa=function(e){try{if(e==this.g)e:{const l=gc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||FS||this.g&&(this.h.h||this.g.ja()||U3(this.g)))){this.J||4!=l||7==t||l_(),gE(this);var n=this.g.da();this.ca=n;t:if(y3(this)){var r=U3(this.g);e="";var i=r.length,s=4==gc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ld(this),g_(this);var o="";break t}this.h.i=new Vt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function one(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!i_(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Ws(12),ld(this),g_(this);break e}Lp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oD(this,n)}this.S?(x3(this,l,o),FS&&this.i&&3==l&&(c3(this.U,this.V,"tick",this.mb),this.V.start())):(Lp(this.j,this.m,o,null),oD(this,o)),4==l&&ld(this),this.i&&!this.J&&(4==l?K3(this.l,this):(this.i=!1,p_(this)))}else(function kne(e){const t={};e=(e.g&&2<=gc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(i_(e[r]))continue;var n=tne(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function Kte(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ws(12)):(this.o=0,Ws(13)),ld(this),g_(this)}}}catch{}},et.mb=function(){if(this.g){var e=gc(this.g),t=this.g.ja();this.C<t.length&&(gE(this),x3(this,e,t),this.i&&4!=e&&p_(this))}},et.cancel=function(){this.J=!0,ld(this)},et.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function ane(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(l_(),Ws(17)),ld(this),this.o=2,g_(this)):E3(this,this.Y-e)};var I3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof fd){this.h=e.h,mE(this,e.j),this.s=e.s,this.g=e.g,_E(this,e.m),this.l=e.l;var t=e.i,n=new v_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),T3(this,n),this.o=e.o}else e&&(t=String(e).match(I3))?(this.h=!1,mE(this,t[1]||"",!0),this.s=m_(t[2]||""),this.g=m_(t[3]||"",!0),_E(this,t[4]),this.l=m_(t[5]||"",!0),T3(this,t[6]||"",!0),this.o=m_(t[7]||"")):(this.h=!1,this.i=new v_(null,this.h))}function au(e){return new fd(e)}function mE(e,t,n){e.j=n?m_(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _E(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function T3(e,t,n){t instanceof v_?(e.i=t,function yne(e,t){t&&!e.j&&(wl(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(C3(this,r),D3(this,i,n))},e)),e.j=t}(e.i,e.h)):(n||(t=__(t,_ne)),e.i=new v_(t,e.h))}function pr(e,t,n){e.i.set(t,n)}function vE(e){return pr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function m_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function __(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,pne),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pne(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}fd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(__(t,A3,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(__(t,A3,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(__(n,"/"==n.charAt(0)?mne:gne,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",__(n,vne)),e.join("")};var A3=/[#\/\?@]/g,gne=/[#\?:]/g,mne=/[#\?]/g,_ne=/[#\?@]/g,vne=/#/g;function v_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wl(e){e.g||(e.g=new Map,e.h=0,e.i&&function hne(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function C3(e,t){wl(e),t=Vp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function S3(e,t){return wl(e),t=Vp(e,t),e.g.has(t)}function D3(e,t,n){C3(e,t),0<n.length&&(e.i=null,e.g.set(Vp(e,t),NS(n)),e.h+=n.length)}function Vp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function b3(e){this.l=e||Ene,e=Vt.PerformanceNavigationTiming?0<(e=Vt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=v_.prototype).add=function(e,t){wl(this),this.i=null,e=Vp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},et.forEach=function(e,t){wl(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)},et.ta=function(){wl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n},et.Z=function(e){wl(this);let t=[];if("string"==typeof e)S3(this,e)&&(t=t.concat(this.g.get(Vp(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},et.set=function(e,t){return wl(this),this.i=null,S3(this,e=Vp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},et.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Ene=10;function k3(e){return!!e.h||!!e.g&&e.g.size>=e.j}function R3(e){return e.h?1:e.g?e.g.size:0}function aD(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cD(e,t){e.g?e.g.add(t):e.h=t}function P3(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function N3(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return NS(e.i)}b3.prototype.cancel=function(){if(this.i=N3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var wne=class{stringify(e){return Vt.JSON.stringify(e,void 0)}parse(e){return Vt.JSON.parse(e,void 0)}};function Ine(){this.g=new wne}function Tne(e,t,n){const r=n||"";try{w3(e,function(i,s){let o=i;r_(i)&&(o=YS(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function yE(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function y_(e){this.l=e.ec||null,this.j=e.ob||!1}function xE(e,t){Ni.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=uD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pi(y_,eD),y_.prototype.g=function(){return new xE(this.l,this.j)},y_.prototype.i=function(e){return function(){return e}}({}),Pi(xE,Ni);var uD=0;function M3(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function x_(e){e.readyState=4,e.l=null,e.j=null,e.A=null,E_(e)}function E_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(et=xE.prototype).open=function(e,t){if(this.readyState!=uD)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,E_(this)},et.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Vt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,x_(this)),this.readyState=uD},et.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,E_(this)),this.g&&(this.readyState=3,E_(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;M3(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?x_(this):E_(this),3==this.readyState&&M3(this)}},et.Za=function(e){this.g&&(this.response=this.responseText=e,x_(this))},et.Ya=function(e){this.g&&(this.response=e,x_(this))},et.ka=function(){this.g&&x_(this)},et.setRequestHeader=function(e,t){this.v.append(e,t)},et.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cne=Vt.JSON.parse;function Pr(e){Ni.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=F3,this.L=this.M=!1}Pi(Pr,Ni);var F3="",Sne=/^https?$/i,Dne=["POST","PUT"];function O3(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,L3(e),EE(e)}function L3(e){e.F||(e.F=!0,Xi(e,"complete"),Xi(e,"error"))}function V3(e){if(e.h&&typeof RS<"u"&&(!e.C[1]||4!=gc(e)||2!=e.da()))if(e.v&&4==gc(e))JS(e.La,0,e);else if(Xi(e,"readystatechange"),4==gc(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(I3)[1]||null;!i&&Vt.self&&Vt.self.location&&(i=Vt.self.location.protocol.slice(0,-1)),r=!Sne.test(i?i.toLowerCase():"")}n=r}if(n)Xi(e,"complete"),Xi(e,"success");else{e.m=6;try{var s=2<gc(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",L3(e)}}finally{EE(e)}}}function EE(e,t){if(e.g){B3(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Xi(e,"ready");try{n.onreadystatechange=r}catch{}}}function B3(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Vt.clearTimeout(e.A),e.A=null)}function gc(e){return e.g?e.g.readyState:0}function U3(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case F3:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function j3(e){let t="";return jS(e,function(n,r){t+=r,t+=":",t+=n,t+="\r\n"}),t}function lD(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=j3(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):pr(e,t,n))}function w_(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function H3(e){this.Ga=0,this.j=[],this.l=new lE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=w_("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=w_("baseRetryDelayMs",5e3,e),this.hb=w_("retryDelaySeedMs",1e4,e),this.eb=w_("forwardChannelMaxRetries",2,e),this.xa=w_("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new b3(e&&e.concurrentRequestLimit),this.Ja=new Ine,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fD(e){if($3(e),3==e.H){var t=e.W++,n=au(e.I);if(pr(n,"SID",e.K),pr(n,"RID",t),pr(n,"TYPE","terminate"),I_(e,n),(t=new h_(e,e.l,t)).L=2,t.v=vE(au(n)),n=!1,Vt.navigator&&Vt.navigator.sendBeacon)try{n=Vt.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&Vt.Image&&((new Image).src=t.v,n=!0),n||(t.g=X3(t.l,null),t.g.ha(t.v)),t.G=Date.now(),p_(t)}Y3(e)}function wE(e){e.g&&(hD(e),e.g.cancel(),e.g=null)}function $3(e){wE(e),e.u&&(Vt.clearTimeout(e.u),e.u=null),TE(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Vt.clearTimeout(e.m),e.m=null)}function IE(e){if(!k3(e.i)&&!e.m){e.m=!0;var t=e.Na;a_||s3(),c_||(a_(),c_=!0),QS.add(t,e),e.C=0}}function G3(e,t){var n;n=t?t.m:e.W++;const r=au(e.I);pr(r,"SID",e.K),pr(r,"RID",n),pr(r,"AID",e.V),I_(e,r),e.o&&e.s&&lD(r,e.o,e.s),n=new h_(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=W3(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),cD(e.i,n),sD(n,r,t)}function I_(e,t){e.na&&jS(e.na,function(n,r){pr(t,r,n)}),e.h&&w3({},function(n,r){pr(t,r,n)})}function W3(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ys(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Tne(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function z3(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;a_||s3(),c_||(a_(),c_=!0),QS.add(t,e),e.A=0}}function dD(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=f_(ys(e.Ma,e),Z3(e,e.A)),e.A++,0))}function hD(e){null!=e.B&&(Vt.clearTimeout(e.B),e.B=null)}function q3(e){e.g=new h_(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=au(e.wa);pr(t,"RID","rpc"),pr(t,"SID",e.K),pr(t,"AID",e.V),pr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&pr(t,"TO",e.qa),pr(t,"TYPE","xmlhttp"),I_(e,t),e.o&&e.s&&lD(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=vE(au(t)),n.s=null,n.S=!0,v3(n,e)}function TE(e){null!=e.v&&(Vt.clearTimeout(e.v),e.v=null)}function K3(e,t){var n=null;if(e.g==t){TE(e),hD(e),e.g=null;var r=2}else{if(!aD(e.i,t))return;n=t.F,P3(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Xi(r=fE(),new h3(r,n)),IE(e)}else z3(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function Rne(e,t){return!(R3(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=f_(ys(e.Na,e,t),Z3(e,e.C)),e.C++,0)))}(e,t)||2==r&&dD(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:dd(e,5);break;case 4:dd(e,10);break;case 3:dd(e,6);break;default:dd(e,2)}}function Z3(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function dd(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ys(e.pb,e);n||(n=new fd("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||mE(n,"https"),vE(n)),function Ane(e,t){const n=new lE;if(Vt.Image){const r=new Image;r.onload=iE(yE,n,r,"TestLoadImage: loaded",!0,t),r.onerror=iE(yE,n,r,"TestLoadImage: error",!1,t),r.onabort=iE(yE,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=iE(yE,n,r,"TestLoadImage: timeout",!1,t),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ws(2);e.H=0,e.h&&e.h.za(t),Y3(e),$3(e)}function Y3(e){if(e.H=0,e.ma=[],e.h){const t=N3(e.i);(0!=t.length||0!=e.j.length)&&(WV(e.ma,t),WV(e.ma,e.j),e.i.i.length=0,NS(e.j),e.j.length=0),e.h.ya()}}function Q3(e,t,n){var r=n instanceof fd?au(n):new fd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),_E(r,r.m);else{var i=Vt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new fd(null);r&&mE(s,r),t&&(s.g=t),i&&_E(s,i),n&&(s.l=n),r=s}return t=e.Da,(n=e.F)&&t&&pr(r,n,t),pr(r,"VER",e.ra),I_(e,r),r}function X3(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Pr(n&&e.Ha&&!e.va?new y_({ob:!0}):e.va)).Oa(e.J),t}function J3(){}function AE(){if(Op&&!(10<=Number(Gte)))throw Error("Environmental error: no available transport.")}function bo(e,t){Ni.call(this),this.g=new H3(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!i_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!i_(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Bp(this)}function eB(e){tD.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tB(){nD.call(this),this.status=1}function Bp(e){this.g=e}function Ba(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pD(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;var s=e.g[3],o=(t=e.g[0])+(s^(n=e.g[1])&((i=e.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Un(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(et=Pr.prototype).Oa=function(e){this.M=e},et.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rD.g(),this.C=function g3(e){return e.h||(e.h=e.i())}(this.u?this.u:rD),this.g.onreadystatechange=ys(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void O3(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Vt.FormData&&e instanceof Vt.FormData,!(0<=GV(Dne,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{B3(this),0<this.B&&((this.L=function bne(e){return Op&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ys(this.ua,this)):this.A=JS(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){O3(this,s)}},et.ua=function(){typeof RS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xi(this,"timeout"),this.abort(8))},et.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xi(this,"complete"),Xi(this,"abort"),EE(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),EE(this,!0)),Pr.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?V3(this):this.kb())},et.kb=function(){V3(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<gc(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cne(t)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=H3.prototype).ra=8,et.H=1,et.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new h_(this,this.l,e);let s=this.s;if(this.U&&(s?(s=YV(s),XV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=W3(this,i,t),pr(n=au(this.I),"RID",e),pr(n,"CVER",22),this.F&&pr(n,"X-HTTP-Session-Id",this.F),I_(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(j3(s)))+"&"+t:this.o&&lD(n,this.o,s)),cD(this.i,i),this.bb&&pr(n,"TYPE","init"),this.P?(pr(n,"$req",t),pr(n,"SID","null"),i.aa=!0,sD(i,n,null)):sD(i,n,t),this.H=2}}else 3==this.H&&(e?G3(this,e):0==this.j.length||k3(this.i)||G3(this))},et.Ma=function(){if(this.u=null,q3(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=f_(ys(this.jb,this),e)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ws(10),wE(this),q3(this))},et.ib=function(){null!=this.v&&(this.v=null,wE(this),dD(this),Ws(19))},et.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ws(2)):(this.l.info("Failed to ping google.com"),Ws(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=J3.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},AE.prototype.g=function(e,t){return new bo(e,t)},Pi(bo,Ni),bo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ws(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Q3(e,null,e.Y),IE(e)},bo.prototype.close=function(){fD(this.g)},bo.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=YS(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&IE(t)},bo.prototype.N=function(){this.g.h=null,delete this.j,fD(this.g),delete this.g,bo.$.N.call(this)},Pi(eB,tD),Pi(tB,nD),Pi(Bp,J3),Bp.prototype.Ba=function(){Xi(this.g,"a")},Bp.prototype.Aa=function(e){Xi(this.g,new eB(e))},Bp.prototype.za=function(e){Xi(this.g,new tB)},Bp.prototype.ya=function(){Xi(this.g,"b")},Pi(Ba,function Pne(){this.blockSize=-1}),Ba.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ba.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)pD(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){pD(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){pD(this,r),i=0;break}}this.h=i,this.i+=t},Ba.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Nne={};function gD(e){return-128<=e&&128>e?function jte(e,t){var n=Nne;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(t){return new Un([0|t],0>t?-1:0)}):new Un([0|e],0>e?-1:0)}function mc(e){if(isNaN(e)||!isFinite(e))return Up;if(0>e)return Ji(mc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=mD;return new Un(t,0)}var mD=4294967296,Up=gD(0),_D=gD(1),rB=gD(16777216);function cu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ca(e){return-1==e.h}function Ji(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Un(n,~e.h).add(_D)}function CE(e,t){return e.add(Ji(t))}function SE(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function T_(e,t){this.g=e,this.h=t}function DE(e,t){if(cu(t))throw Error("division by zero");if(cu(e))return new T_(Up,Up);if(ca(e))return t=DE(Ji(e),t),new T_(Ji(t.g),Ji(t.h));if(ca(t))return t=DE(e,Ji(t)),new T_(Ji(t.g),t.h);if(30<e.g.length){if(ca(e)||ca(t))throw Error("slowDivide_ only works with positive integers.");for(var n=_D,r=t;0>=r.X(e);)n=iB(n),r=iB(r);var i=jp(n,1),s=jp(r,1);for(r=jp(r,2),n=jp(n,2);!cu(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=jp(r,1),n=jp(n,1)}return t=CE(e,i.R(t)),new T_(i,t)}for(i=Up;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=mc(n)).R(t);ca(o)||0<o.X(e);)o=(s=mc(n-=r)).R(t);cu(s)&&(s=_D),i=i.add(s),e=CE(e,o)}return new T_(i,e)}function iB(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Un(n,e.h)}function jp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Un(i,e.h)}(et=Un.prototype).ea=function(){if(ca(this))return-Ji(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:mD+r)*t,t*=mD}return e},et.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(cu(this))return"0";if(ca(this))return"-"+Ji(this).toString(e);for(var t=mc(Math.pow(e,6)),n=this,r="";;){var i=DE(n,t).g,s=((0<(n=CE(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(cu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},et.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},et.X=function(e){return ca(e=CE(this,e))?-1:cu(e)?0:1},et.abs=function(){return ca(this)?Ji(this):this},et.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Un(n,-2147483648&n[n.length-1]?-1:0)},et.R=function(e){if(cu(this)||cu(e))return Up;if(ca(this))return ca(e)?Ji(this).R(Ji(e)):Ji(Ji(this).R(e));if(ca(e))return Ji(this.R(Ji(e)));if(0>this.X(rB)&&0>e.X(rB))return mc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,SE(n,2*r+2*i),n[2*r+2*i+1]+=s*c,SE(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,SE(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,SE(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Un(n,0)},et.gb=function(e){return DE(this,e).h},et.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Un(n,this.h&e.h)},et.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Un(n,this.h|e.h)},et.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Un(n,this.h^e.h)},AE.prototype.createWebChannel=AE.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,dE.NO_ERROR=0,dE.TIMEOUT=8,dE.HTTP_ERROR=6,p3.COMPLETE="complete",m3.EventType=d_,d_.OPEN="a",d_.CLOSE="b",d_.ERROR="c",d_.MESSAGE="d",Ni.prototype.listen=Ni.prototype.O,Pr.prototype.listenOnce=Pr.prototype.P,Pr.prototype.getLastError=Pr.prototype.Sa,Pr.prototype.getLastErrorCode=Pr.prototype.Ia,Pr.prototype.getStatus=Pr.prototype.da,Pr.prototype.getResponseJson=Pr.prototype.Wa,Pr.prototype.getResponseText=Pr.prototype.ja,Pr.prototype.send=Pr.prototype.ha,Pr.prototype.setWithCredentials=Pr.prototype.Oa,Ba.prototype.digest=Ba.prototype.l,Ba.prototype.reset=Ba.prototype.reset,Ba.prototype.update=Ba.prototype.j,Un.prototype.add=Un.prototype.add,Un.prototype.multiply=Un.prototype.R,Un.prototype.modulo=Un.prototype.gb,Un.prototype.compare=Un.prototype.X,Un.prototype.toNumber=Un.prototype.ea,Un.prototype.toString=Un.prototype.toString,Un.prototype.getBits=Un.prototype.D,Un.fromNumber=mc,Un.fromString=function nB(e,t){if(0==e.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return Ji(nB(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mc(Math.pow(t,8)),r=Up,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=mc(Math.pow(t,s)),r=r.R(s).add(mc(o))):r=(r=r.R(n)).add(mc(o))}return r};var Mne=Va.createWebChannelTransport=function(){return new AE},Fne=Va.getStatEventTarget=function(){return fE()},vD=Va.ErrorCode=dE,One=Va.EventType=p3,Lne=Va.Event=ud,sB=Va.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vne=Va.FetchXmlHttpFactory=y_,bE=Va.WebChannel=m3,Bne=Va.XhrIo=Pr,Une=Va.Md5=Ba,Hp=Va.Integer=Un;const oB="@firebase/firestore";class Mi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");let $p="10.5.2";const Il=new hc.Yd("@firebase/firestore");function Gp(){return Il.logLevel}function Me(e,...t){if(Il.logLevel<=hc.in.DEBUG){const n=t.map(yD);Il.debug(`Firestore (${$p}): ${e}`,...n)}}function Qr(e,...t){if(Il.logLevel<=hc.in.ERROR){const n=t.map(yD);Il.error(`Firestore (${$p}): ${e}`,...n)}}function lo(e,...t){if(Il.logLevel<=hc.in.WARN){const n=t.map(yD);Il.warn(`Firestore (${$p}): ${e}`,...n)}}function yD(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return e}}function ot(e="Unexpected state"){const t=`FIRESTORE (${$p}) INTERNAL ASSERTION FAILED: `+e;throw Qr(t),new Error(t)}function vt(e,t){e||ot()}function qe(e,t){return e}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Qn.ZR{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}class aB{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $ne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Mi.UNAUTHENTICATED))}shutdown(){}}class Gne{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wne{constructor(t){this.t=t,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wi,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;t.enqueueRetryable((0,Te.Z)(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wi)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt("string"==typeof r.accessToken),new aB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return vt(null===t||"string"==typeof t),new Mi(t)}}class zne{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qne{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new zne(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cB{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kne{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{null!=s.error&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(vt("string"==typeof n.token),this.R=n.token,new cB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zne(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class uB{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Zne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ft(e,t){return e<t?-1:e>t?1:0}function Wp(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}function lB(e){return e+"\0"}class Tr{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ke(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ke(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Tr.fromMillis(Date.now())}static fromDate(t){return Tr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Tr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Tr(0,0))}static max(){return new xt(new Tr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class A_{constructor(t,n,r){void 0===n?n=0:n>t.length&&ot(),void 0===r?r=t.length-n:r>t.length-n&&ot(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return 0===A_.comparator(this,t)}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof A_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class In extends A_{construct(t,n,r){return new In(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ke(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new In(n)}static emptyPath(){return new In([])}}const Yne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends A_{construct(t,n,r){return new gr(t,n,r)}static isValidIdentifier(t){return Yne.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ke(ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if("\\"===a){if(i+1===t.length)throw new ke(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ke(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ke(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gr(n)}static emptyPath(){return new gr([])}}class Ze{constructor(t){this.path=t}static fromPath(t){return new Ze(In.fromString(t))}static fromName(t){return new Ze(In.fromString(t).popFirst(5))}static empty(){return new Ze(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===In.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,n){return In.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ze(new In(t.slice()))}}class zp{constructor(t,n,r,i){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}}function xD(e){return e.fields.find(t=>2===t.kind)}function hd(e){return e.fields.filter(t=>2!==t.kind)}zp.UNKNOWN_ID=-1;class pd{constructor(t,n){this.fieldPath=t,this.kind=n}}class qp{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new qp(0,ko.min())}}function fB(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new Tr(n+1,0):new Tr(n,r));return new ko(i,Ze.empty(),t)}function dB(e){return new ko(e.readTime,e.key,-1)}class ko{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ko(xt.min(),Ze.empty(),-1)}static max(){return new ko(xt.max(),Ze.empty(),-1)}}function ED(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ze.comparator(e.documentKey,t.documentKey),0!==n?n:Ft(e.largestBatchId,t.largestBatchId))}const hB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tl(e){return wD.apply(this,arguments)}function wD(){return wD=(0,Te.Z)(function*(e){if(e.code!==ae.FAILED_PRECONDITION||e.message!==hB)throw e;Me("LocalStore","Unexpectedly lost primary lease")}),wD.apply(this,arguments)}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):X.reject(n)}static resolve(t){return new X((n,r)=>{n(t)})}static reject(t){return new X((n,r)=>{r(t)})}static waitFor(t){return new X((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(t){let n=X.resolve(!1);for(const r of t)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new X((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(t[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(t,n){return new X((r,i)=>{const s=()=>{!0===t()?n().next(()=>{s()},i):r()};s()})}}class kE{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new C_(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=ID(r.target.error);this.V.reject(new C_(t,i))}}static open(t,n,r,i){try{return new kE(n,t.transaction(i,r))}catch(s){throw new C_(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Me("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const n=this.transaction.objectStore(t);return new ere(n)}}class Ua{constructor(t,n,r){this.name=t,this.version=n,this.p=r,12.2===Ua.S((0,Qn.z$)())&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Me("SimpleDb","Removing database:",t),gd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Qn.hl)())return!1;if(Ua.C())return!0;const t=(0,Qn.z$)(),n=Ua.S(t),r=0<n&&n<10,i=Ua.v(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(t){var n=this;return(0,Te.Z)(function*(){return n.db||(Me("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new C_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new ke(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ke(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new C_(t,a))},s.onupgradeneeded=o=>{Me("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.N(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{Me("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}runTransaction(t,n,r,i){var s=this;return(0,Te.Z)(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.O(t);const c=kE.open(s.db,t,o?"readonly":"readwrite",r),u=i(c).next(l=>(c.g(),l)).catch(l=>(c.abort(l),X.reject(l))).toPromise();return u.catch(()=>{}),yield c.m,u}catch(c){const u=c,l="FirebaseError"!==u.name&&a<3;if(Me("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),s.close(),!l)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Jne{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return gd(this.k.delete())}}class C_ extends ke{constructor(t,n){super(ae.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Al(e){return"IndexedDbTransactionError"===e.name}class ere{constructor(t){this.store=t}put(t,n){let r;return void 0!==n?(Me("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Me("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),gd(r)}add(t){return Me("SimpleDb","ADD",this.store.name,t,t),gd(this.store.add(t))}get(t){return gd(this.store.get(t)).next(n=>(void 0===n&&(n=null),Me("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return Me("SimpleDb","DELETE",this.store.name,t),gd(this.store.delete(t))}count(){return Me("SimpleDb","COUNT",this.store.name),gd(this.store.count())}W(t,n){const r=this.options(t,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new X((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(t,n){const r=this.store.getAll(t,null===n?void 0:n);return new X((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(t,n){Me("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new X((r,i)=>{n.onerror=s=>{const o=ID(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new X((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const c=new Jne(a),u=n(a.primaryKey,a.value,c);if(u instanceof X){const l=u.catch(h=>(c.done(),X.reject(h)));r.push(l)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>X.waitFor(r))}options(t,n){let r;return void 0!==t&&("string"==typeof t?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function gd(e){return new X((t,n)=>{e.onsuccess=r=>{t(r.target.result)},e.onerror=r=>{const i=ID(r.target.error);n(i)}})}let gB=!1;function ID(e){const t=Ua.S((0,Qn.z$)());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gB||(gB=!0,setTimeout(()=>{throw r},0)),r}}return e}class tre{constructor(t,n){this.asyncQueue=t,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var n=this;Me("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Te.Z)(function*(){n.task=null;try{Me("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){Al(r)?Me("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Tl(r)}yield n.ee(6e4)}))}}class nre{constructor(t,n){this.localStore=t,this.persistence=n}te(t=50){var n=this;return(0,Te.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,t))})()}ne(t,n){const r=new Set;let i=n,s=!0;return X.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!r.has(o))return Me("IndexBackiller",`Processing collection: ${o}`),this.re(t,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next(i=>this.localStore.localDocuments.getNextDocuments(t,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ie(i,s)).next(a=>(Me("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,n,a))).next(()=>o.size)}))}ie(t,n){let r=t;return n.changes.forEach((i,s)=>{const o=dB(s);ED(o,r)>0&&(r=o)}),new ko(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}let Ro=(()=>{class e{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return e._e=-1,e})();function S_(e){return null==e}function D_(e){return 0===e&&1/e==-1/0}function mB(e){return"number"==typeof e&&Number.isInteger(e)&&!D_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Es(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_B(t)),t=rre(e.get(n),t);return _B(t)}function rre(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function _B(e){return e+"\x01\x01"}function _c(e){const t=e.length;if(vt(t>=2),2===t)return vt("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),In.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const o=e.indexOf("\x01",s);switch((o<0||o>n)&&ot(),e.charAt(o+1)){case"\x01":const a=e.substring(s,o);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=e.substring(s,o),i+="\0";break;case"\x11":i+=e.substring(s,o+1);break;default:ot()}s=o+2}return new In(r)}const vB=["userId","batchId"];function RE(e,t){return[e,Es(t)]}function yB(e,t,n){return[e,Es(t),n]}const ire={},sre=["prefixPath","collectionGroup","readTime","documentId"],ore=["prefixPath","collectionGroup","documentId"],are=["collectionGroup","readTime","prefixPath","documentId"],cre=["canonicalId","targetId"],ure=["targetId","path"],lre=["path","targetId"],fre=["collectionId","parent"],dre=["indexId","uid"],hre=["uid","sequenceNumber"],pre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gre=["indexId","uid","orderedDocumentKey"],mre=["userId","collectionPath","documentId"],_re=["userId","collectionPath","largestBatchId"],vre=["userId","collectionGroup","largestBatchId"],xB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yre=[...xB,"documentOverlays"],EB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wB=EB,xre=[...wB,"indexConfiguration","indexState","indexEntries"];class TD extends pB{constructor(t,n){super(),this.ae=t,this.currentSequenceNumber=n}}function Fi(e,t){const n=qe(e);return Ua.M(n.ae,t)}function IB(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Cl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function TB(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sr{constructor(t,n){this.comparator=t,this.root=n||es.EMPTY}insert(t,n){return new sr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,es.BLACK,null,null))}remove(t){return new sr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,es.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new PE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new PE(this.root,t,this.comparator,!1)}getReverseIterator(){return new PE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new PE(this.root,t,this.comparator,!0)}}class PE{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class es{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??es.RED,this.left=i??es.EMPTY,this.right=s??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new es(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return es.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1,es.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(t,n,r,i,s){return this}insert(t,n,r){return new es(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(t){this.comparator=t,this.data=new sr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new AB(this.data.getIterator())}getIteratorFrom(t){return new AB(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Kn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Kn(this.comparator);return n.data=t,n}}class AB{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kp(e){return e.hasNext()?e.getNext():void 0}class fo{constructor(t){this.fields=t,t.sort(gr.comparator)}static empty(){return new fo([])}unionWith(t){let n=new Kn(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new fo(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wp(this.fields,t.fields,(n,r)=>n.isEqual(r))}}class CB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ii{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CB("Invalid base64 string: "+s):s}}(t);return new Ii(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Ii(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const wre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sl(e){if(vt(!!e),"string"==typeof e){let t=0;const n=wre.exec(e);if(vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nr(e.seconds),nanos:Nr(e.nanos)}}function Nr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function uu(e){return"string"==typeof e?Ii.fromBase64String(e):Ii.fromUint8Array(e)}function NE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=e?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ME(e){const t=e.mapValue.fields.__previous_value__;return NE(t)?ME(t):t}function b_(e){const t=Sl(e.mapValue.fields.__local_write_time__.timestampValue);return new Tr(t.seconds,t.nanos)}class Ire{constructor(t,n,r,i,s,o,a,c,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Dl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}const bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},FE={nullValue:"NULL_VALUE"};function kl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?NE(e)?4:kB(e)?9007199254740991:10:ot()}function vc(e,t){if(e===t)return!0;const n=kl(e);if(n!==kl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return b_(e).isEqual(b_(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Sl(i.timestampValue),a=Sl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return s=t,uu(e.bytesValue).isEqual(uu(s.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Nr(i.geoPointValue.latitude)===Nr(s.geoPointValue.latitude)&&Nr(i.geoPointValue.longitude)===Nr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nr(i.integerValue)===Nr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Nr(i.doubleValue),a=Nr(s.doubleValue);return o===a?D_(o)===D_(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Wp(e.arrayValue.values||[],t.arrayValue.values||[],vc);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(IB(o)!==IB(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!vc(o[c],a[c])))return!1;return!0}(e,t);default:return ot()}var s}function k_(e,t){return void 0!==(e.values||[]).find(n=>vc(n,t))}function Rl(e,t){if(e===t)return 0;const n=kl(e),r=kl(t);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Nr(s.integerValue||s.doubleValue),c=Nr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return SB(e.timestampValue,t.timestampValue);case 4:return SB(b_(e),b_(t));case 5:return Ft(e.stringValue,t.stringValue);case 6:return function(s,o){const a=uu(s),c=uu(o);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const l=Ft(a[u],c[u]);if(0!==l)return l}return Ft(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ft(Nr(s.latitude),Nr(o.latitude));return 0!==a?a:Ft(Nr(s.longitude),Nr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){const l=Rl(a[u],c[u]);if(l)return l}return Ft(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===bl.mapValue&&o===bl.mapValue)return 0;if(s===bl.mapValue)return 1;if(o===bl.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let h=0;h<c.length&&h<l.length;++h){const g=Ft(c[h],l[h]);if(0!==g)return g;const _=Rl(a[c[h]],u[l[h]]);if(0!==_)return _}return Ft(c.length,l.length)}(e.mapValue,t.mapValue);default:throw ot()}}function SB(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ft(e,t);const n=Sl(e),r=Sl(t),i=Ft(n.seconds,r.seconds);return 0!==i?i:Ft(n.nanos,r.nanos)}function Zp(e){return AD(e)}function AD(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Sl(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?uu(e.bytesValue).toBase64():"referenceValue"in e?Ze.fromName(e.referenceValue).toString():"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=AD(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${AD(n.fields[o])}`;return i+"}"}(e.mapValue):ot()}function md(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function CD(e){return!!e&&"integerValue"in e}function R_(e){return!!e&&"arrayValue"in e}function DB(e){return!!e&&"nullValue"in e}function bB(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function LE(e){return!!e&&"mapValue"in e}function P_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Cl(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=P_(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=P_(e.arrayValue.values[n]);return t}return Object.assign({},e)}function kB(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Tre(e){return"nullValue"in e?FE:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?md(Dl.empty(),Ze.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ot()}function Are(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?md(Dl.empty(),Ze.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?bl:ot()}function RB(e,t){const n=Rl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function PB(e,t){const n=Rl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ts{constructor(t){this.value=t}static empty(){return new ts({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!LE(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=P_(n)}setAll(t){let n=gr.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=P_(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());LE(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vc(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];LE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Cl(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new ts(P_(this.value))}}function NB(e){const t=[];return Cl(e.fields,(n,r)=>{const i=new gr([n]);if(LE(r)){const s=NB(r.mapValue).fields;if(0===s.length)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new fo(t)}class mr{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new mr(t,0,xt.min(),xt.min(),xt.min(),ts.empty(),0)}static newFoundDocument(t,n,r,i){return new mr(t,1,n,xt.min(),r,i,0)}static newNoDocument(t,n){return new mr(t,2,n,xt.min(),xt.min(),ts.empty(),0)}static newUnknownDocument(t,n){return new mr(t,3,n,xt.min(),xt.min(),ts.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof mr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pl{constructor(t,n){this.position=t,this.inclusive=n}}function MB(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ze.comparator(Ze.fromName(o.referenceValue),n.key):Rl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function FB(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vc(e.position[n],t.position[n]))return!1;return!0}class N_{constructor(t,n="asc"){this.field=t,this.dir=n}}function Cre(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class OB{}class _n extends OB{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(t,n,r):new Sre(t,n,r):"array-contains"===n?new kre(t,r):"in"===n?new HB(t,r):"not-in"===n?new Rre(t,r):"array-contains-any"===n?new Pre(t,r):new _n(t,n,r)}static createKeyFieldInFilter(t,n,r){return"in"===n?new Dre(t,r):new bre(t,r)}matches(t){const n=t.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Rl(n,this.value)):null!==n&&kl(this.value)===kl(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends OB{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new jn(t,n)}matches(t){return Yp(this)?void 0===this.filters.find(n=>!n.matches(t)):void 0!==this.filters.find(n=>n.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Yp(e){return"and"===e.op}function SD(e){return"or"===e.op}function DD(e){return LB(e)&&Yp(e)}function LB(e){for(const t of e.filters)if(t instanceof jn)return!1;return!0}function bD(e){if(e instanceof _n)return e.field.canonicalString()+e.op.toString()+Zp(e.value);if(DD(e))return e.filters.map(t=>bD(t)).join(",");{const t=e.filters.map(n=>bD(n)).join(",");return`${e.op}(${t})`}}function VB(e,t){return e instanceof _n?(r=e,(i=t)instanceof _n&&r.op===i.op&&r.field.isEqual(i.field)&&vc(r.value,i.value)):e instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&VB(o,i.filters[a]),!0)}(e,t):void ot();var r,i}function BB(e,t){const n=e.filters.concat(t);return jn.create(n,e.op)}function UB(e){return e instanceof _n?`${(n=e).field.canonicalString()} ${n.op} ${Zp(n.value)}`:e instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(UB).join(" ,")+"}"}(e):"Filter";var n}class Sre extends _n{constructor(t,n,r){super(t,n,r),this.key=Ze.fromName(r.referenceValue)}matches(t){const n=Ze.comparator(t.key,this.key);return this.matchesComparison(n)}}class Dre extends _n{constructor(t,n){super(t,"in",n),this.keys=jB(0,n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class bre extends _n{constructor(t,n){super(t,"not-in",n),this.keys=jB(0,n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function jB(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class kre extends _n{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return R_(n)&&k_(n.arrayValue,this.value)}}class HB extends _n{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return null!==n&&k_(this.value.arrayValue,n)}}class Rre extends _n{constructor(t,n){super(t,"not-in",n)}matches(t){if(k_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return null!==n&&!k_(this.value.arrayValue,n)}}class Pre extends _n{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>k_(this.value.arrayValue,r))}}class Nre{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function kD(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Nre(e,t,n,r,i,s,o)}function _d(e){const t=qe(e);if(null===t.ce){let n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>bD(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),S_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Zp(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Zp(r)).join(",")),t.ce=n}return t.ce}function M_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Cre(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!VB(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!FB(e.startAt,t.startAt)&&FB(e.endAt,t.endAt)}function VE(e){return Ze.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function BE(e,t){return e.filters.filter(n=>n instanceof _n&&n.field.isEqual(t))}function $B(e,t,n){let r=FE,i=!0;for(const s of BE(e,t)){let o=FE,a=!0;switch(s.op){case"<":case"<=":o=Tre(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=FE}RB({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];RB({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}function GB(e,t,n){let r=bl,i=!0;for(const s of BE(e,t)){let o=bl,a=!0;switch(s.op){case">=":case">":o=Are(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=bl}PB({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];PB({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}class lu{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function WB(e,t,n,r,i,s,o,a){return new lu(e,t,n,r,i,s,o,a)}function Qp(e){return new lu(e)}function zB(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function RD(e){return null!==e.collectionGroup}function Xp(e){const t=qe(e);if(null===t.le){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Kn(gr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new N_(s,r))}),n.has(gr.keyField().canonicalString())||t.le.push(new N_(gr.keyField(),r))}return t.le}function zs(e){const t=qe(e);return t.he||(t.he=function qB(e,t){if("F"===e.limitType)return kD(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>new N_(i.field,"desc"===i.dir?"asc":"desc"));const n=e.endAt?new Pl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pl(e.startAt.position,e.startAt.inclusive):null;return kD(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Xp(e))),t.he}function PD(e,t){const n=e.filters.concat([t]);return new lu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function UE(e,t,n){return new lu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function F_(e,t){return M_(zs(e),zs(t))&&e.limitType===t.limitType}function KB(e){return`${_d(zs(e))}|lt:${e.limitType}`}function Jp(e){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UB(i)).join(", ")}]`),S_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zp(i)).join(",")),`Target(${r})`}(zs(e))}; limitType=${e.limitType})`}function O_(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Xp(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&(i=t,!((r=e).startAt&&!function(o,a,c){const u=MB(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Xp(r),i)||r.endAt&&!function(o,a,c){const u=MB(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Xp(r),i)));var r,i}function ZB(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function YB(e){return(t,n)=>{let r=!1;for(const i of Xp(e)){const s=Mre(i,t,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Mre(e,t,n){const r=e.field.isKeyField()?Ze.comparator(t.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return null!==c&&null!==u?Rl(c,u):ot()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class fu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,t))return s}has(t){return void 0!==this.get(t)}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Cl(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return TB(this.inner)}size(){return this.innerSize}}const Fre=new sr(Ze.comparator);function ho(){return Fre}const QB=new sr(Ze.comparator);function L_(...e){let t=QB;for(const n of e)t=t.insert(n.key,n);return t}function XB(e){let t=QB;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function yc(){return V_()}function JB(){return V_()}function V_(){return new fu(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ore=new sr(Ze.comparator),Lre=new Kn(Ze.comparator);function zt(...e){let t=Lre;for(const n of e)t=t.add(n);return t}const Vre=new Kn(Ft);function ND(){return Vre}function e6(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:D_(t)?"-0":t}}function t6(e){return{integerValue:""+e}}function n6(e,t){return mB(t)?t6(t):e6(e,t)}class jE{constructor(){this._=void 0}}function Bre(e,t,n){return e instanceof e0?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&NE(s)&&(s=ME(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof vd?i6(e,t):e instanceof yd?s6(e,t):function(i,s){const o=r6(i,s),a=o6(o)+o6(i.Ie);return CD(o)&&CD(i.Ie)?t6(a):e6(i.serializer,a)}(e,t)}function Ure(e,t,n){return e instanceof vd?i6(e,t):e instanceof yd?s6(e,t):n}function r6(e,t){return e instanceof t0?CD(r=t)||(s=r)&&"doubleValue"in s?t:{integerValue:0}:null;var r,s}class e0 extends jE{}class vd extends jE{constructor(t){super(),this.elements=t}}function i6(e,t){const n=a6(t);for(const r of e.elements)n.some(i=>vc(i,r))||n.push(r);return{arrayValue:{values:n}}}class yd extends jE{constructor(t){super(),this.elements=t}}function s6(e,t){let n=a6(t);for(const r of e.elements)n=n.filter(i=>!vc(i,r));return{arrayValue:{values:n}}}class t0 extends jE{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function o6(e){return Nr(e.integerValue||e.doubleValue)}function a6(e){return R_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class B_{constructor(t,n){this.field=t,this.transform=n}}class Hre{constructor(t,n){this.version=t,this.transformResults=n}}class Ar{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ar}static exists(t){return new Ar(void 0,t)}static updateTime(t){return new Ar(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function HE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $E{}function c6(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new r0(e.key,Ar.none()):new n0(e.key,e.data,Ar.none());{const n=e.data,r=ts.empty();let i=new Kn(gr.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new du(e.key,r,new fo(i.toArray()),Ar.none())}}function $re(e,t,n){e instanceof n0?function(i,s,o){const a=i.value.clone(),c=f6(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof du?function(i,s,o){if(!HE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=f6(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(l6(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function U_(e,t,n,r){return e instanceof n0?function(s,o,a,c){if(!HE(s.precondition,o))return a;const u=s.value.clone(),l=d6(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof du?function(s,o,a,c){if(!HE(s.precondition,o))return a;const u=d6(s.fieldTransforms,c,o),l=o.data;return l.setAll(l6(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):(a=n,HE(e.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Gre(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=r6(r.transform,i||null);null!=s&&(null===n&&(n=ts.empty()),n.set(r.field,s))}return n||null}function u6(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(r=e.fieldTransforms)&&void 0===i||r&&i&&Wp(r,i,(s,o)=>function jre(e,t){return e.field.isEqual(t.field)&&(i=t.transform,(r=e.transform)instanceof vd&&i instanceof vd||r instanceof yd&&i instanceof yd?Wp(r.elements,i.elements,vc):r instanceof t0&&i instanceof t0?vc(r.Ie,i.Ie):r instanceof e0&&i instanceof e0);var r,i}(s,o))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var r,i}class n0 extends $E{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class du extends $E{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function l6(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function f6(e,t,n){const r=new Map;vt(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Ure(o,a,n[i]))}return r}function d6(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Bre(s,o,t))}return r}class r0 extends $E{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MD extends $E{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FD{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&$re(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=U_(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=U_(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=JB();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=c6(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),zt())}isEqual(t){return this.batchId===t.batchId&&Wp(this.mutations,t.mutations,(n,r)=>u6(n,r))&&Wp(this.baseMutations,t.baseMutations,(n,r)=>u6(n,r))}}class OD{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){vt(t.mutations.length===r.length);let i=Ore;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new OD(t,n,r,i)}}class LD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zre{constructor(t,n){this.count=t,this.unchangedNames=n}}var li,Tn;function h6(e){switch(e){default:return ot();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function p6(e){if(void 0===e)return Qr("GRPC error has no .code"),ae.UNKNOWN;switch(e){case li.OK:return ae.OK;case li.CANCELLED:return ae.CANCELLED;case li.UNKNOWN:return ae.UNKNOWN;case li.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case li.INTERNAL:return ae.INTERNAL;case li.UNAVAILABLE:return ae.UNAVAILABLE;case li.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case li.NOT_FOUND:return ae.NOT_FOUND;case li.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case li.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case li.ABORTED:return ae.ABORTED;case li.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case li.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case li.DATA_LOSS:return ae.DATA_LOSS;default:return ot()}}(Tn=li||(li={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";function g6(){return new TextEncoder}const qre=new Hp([4294967295,4294967295],0);function m6(e){const t=g6().encode(e),n=new Une;return n.update(t),new Uint8Array(n.digest())}function _6(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Hp([n,r],0),new Hp([i,s],0)]}class VD{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new j_(`Invalid padding: ${n}`);if(r<0)throw new j_(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new j_(`Invalid hash count: ${r}`);if(0===t.length&&0!==n)throw new j_(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Hp.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Hp.fromNumber(r)));return 1===i.compare(qre)&&(i=new Hp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const n=m6(t),[r,i]=_6(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new VD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const n=m6(t),[r,i]=_6(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8);this.bitmap[n]|=1<<t%8}}class j_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class H_{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,$_.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new H_(xt.min(),i,new sr(Ft),ho(),zt())}}class $_{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new $_(r,n,zt(),zt(),zt())}}class WE{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class v6{constructor(t,n){this.targetId=t,this.fe=n}}class y6{constructor(t,n,r=Ii.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class x6{constructor(){this.ge=0,this.pe=w6(),this.ye=Ii.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=zt(),n=zt(),r=zt();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new $_(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=w6()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Kre{constructor(t){this.Le=t,this.ke=new Map,this.qe=ho(),this.Qe=E6(),this.Ke=new sr(Ft)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:ot()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(VE(s))if(0===r){const o=new Ze(s.path);this.We(n,o,mr.newNoDocument(o,xt.min()))}else vt(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),c=a?this.et(a,t,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=uu(r).toUint8Array()}catch(c){if(c instanceof CB)return lo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new VD(o,i,s)}catch(c){return lo(c instanceof j_?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&VE(a.target)){const c=new Ze(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,mr.newNoDocument(c,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=zt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new H_(t,n,this.Ke,this.qe,r);return this.qe=ho(),this.Qe=E6(),this.Ke=new sr(Ft),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new x6,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Kn(Ft),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=null!==this.Ye(t);return n||Me("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new x6),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function E6(){return new sr(Ze.comparator)}function w6(){return new sr(Ze.comparator)}const Zre={asc:"ASCENDING",desc:"DESCENDING"},Yre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qre={and:"AND",or:"OR"};class Xre{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function BD(e,t){return e.useProto3Json||S_(t)?t:{value:t}}function s0(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function I6(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jre(e,t){return s0(e,t.toTimestamp())}function Xr(e){return vt(!!e),xt.fromTimestamp(function(n){const r=Sl(n);return new Tr(r.seconds,r.nanos)}(e))}function UD(e,t){return(r=e,new In(["projects",r.projectId,"databases",r.database])).child("documents").child(t).canonicalString();var r}function T6(e){const t=In.fromString(e);return vt(N6(t)),t}function G_(e,t){return UD(e.databaseId,t.path)}function xc(e,t){const n=T6(t);if(n.get(1)!==e.databaseId.projectId)throw new ke(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ke(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ze(C6(n))}function jD(e,t){return UD(e.databaseId,t)}function A6(e){const t=T6(e);return 4===t.length?In.emptyPath():C6(t)}function W_(e){return new In(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function C6(e){return vt(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function S6(e,t,n){return{name:G_(e,t),fields:n.value.mapValue.fields}}function D6(e,t,n){const r=xc(e,t.name),i=Xr(t.updateTime),s=t.createTime?Xr(t.createTime):xt.min(),o=new ts({mapValue:{fields:t.fields}}),a=mr.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function z_(e,t){let n;if(t instanceof n0)n={update:S6(e,t.key,t.value)};else if(t instanceof r0)n={delete:G_(e,t.key)};else if(t instanceof du)n={update:S6(e,t.key,t.data),updateMask:aie(t.fieldMask)};else{if(!(t instanceof MD))return ot();n={verify:G_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof e0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof t0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ot()}(0,r))),t.precondition.isNone||(n.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:Jre(e,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ot()),n;var s}function HD(e,t){const n=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?Ar.updateTime(Xr(s.updateTime)):void 0!==s.exists?Ar.exists(s.exists):Ar.none():Ar.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(o,a){let c=null;"setToServerValue"in a?(vt("REQUEST_TIME"===a.setToServerValue),c=new e0):"appendMissingElements"in a?c=new vd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new yd(a.removeAllFromArray.values||[]):"increment"in a?c=new t0(o,a.increment):ot();const u=gr.fromServerFormat(a.fieldPath);return new B_(u,c)}(e,i)):[];var s;if(t.update){const i=xc(e,t.update.name),s=new ts({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new fo((t.updateMask.fieldPaths||[]).map(l=>gr.fromServerFormat(l)));return new du(i,s,o,n,r)}return new n0(i,s,n,r)}if(t.delete){const i=xc(e,t.delete);return new r0(i,n)}if(t.verify){const i=xc(e,t.verify);return new MD(i,n)}return ot()}function b6(e,t){return{documents:[jD(e,t.path)]}}function $D(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=jD(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jD(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return P6(jn.create(c,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:Nl((h=u).field),direction:iie(h.dir)};var h})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=BD(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),n;var c}function k6(e){let t=A6(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:t=t.child(l.collectionId)}let s=[];n.where&&(s=function(h){const g=R6(h);return g instanceof jn&&DD(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(g=>{return new N_(o0((y=g).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;n.limit&&(a=function(h){let g;return g="object"==typeof h?h.value:h,S_(g)?null:g}(n.limit));let c=null;var h;n.startAt&&(c=new Pl((h=n.startAt).values||[],!!h.before));let u=null;return n.endAt&&(u=function(h){return new Pl(h.values||[],!h.before)}(n.endAt)),WB(t,i,o,s,a,"F",c,u)}function R6(e){return void 0!==e.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=o0(n.unaryFilter.field);return _n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=o0(n.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=o0(n.unaryFilter.field);return _n.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=o0(n.unaryFilter.field);return _n.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(e):void 0!==e.fieldFilter?_n.create(o0((n=e).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==e.compositeFilter?function(n){return jn.create(n.compositeFilter.filters.map(r=>R6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot()}}(n.compositeFilter.op))}(e):ot();var n}function iie(e){return Zre[e]}function sie(e){return Yre[e]}function oie(e){return Qre[e]}function Nl(e){return{fieldPath:e.canonicalString()}}function o0(e){return gr.fromServerFormat(e.fieldPath)}function P6(e){return e instanceof _n?function(n){if("=="===n.op){if(bB(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(DB(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(bB(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(DB(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:sie(n.op),value:n.value}}}(e):e instanceof jn?function(n){const r=n.getFilters().map(i=>P6(i));return 1===r.length?r[0]:{compositeFilter:{op:oie(n.op),filters:r}}}(e):ot()}function aie(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function N6(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hu{constructor(t,n,r,i,s=xt.min(),o=xt.min(),a=Ii.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new hu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class M6{constructor(t){this.ut=t}}function F6(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:G_(s=e.ut,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:s0(s,o.version.toTimestamp()),createTime:s0(s,o.createTime.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xd(t.version)};else{if(!t.isUnknownDocument())return ot();r.unknownDocument={path:n.path.toArray(),version:xd(t.version)}}var s,o;return r}function zE(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xd(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ed(e){const t=new Tr(e.seconds,e.nanoseconds);return xt.fromTimestamp(t)}function wd(e,t){const n=(t.baseMutations||[]).map(s=>HD(e.ut,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const r=t.mutations.map(s=>HD(e.ut,s)),i=Tr.fromMillis(t.localWriteTimeMs);return new FD(t.batchId,i,n,r)}function q_(e){const t=Ed(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ed(e.lastLimboFreeSnapshotVersion):xt.min();let r;return r=void 0!==e.query.documents?(vt(1===(s=e.query).documents.length),zs(Qp(A6(s.documents[0])))):function(s){return zs(k6(s))}(e.query),new hu(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Ii.fromBase64String(e.resumeToken));var s}function O6(e,t){const n=xd(t.snapshotVersion),r=xd(t.lastLimboFreeSnapshotVersion);let i;i=VE(t.target)?b6(e.ut,t.target):$D(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:_d(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function GD(e){const t=k6({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?UE(t,t.limit,"L"):t}function WD(e,t){return new LD(t.largestBatchId,HD(e.ut,t.overlayMutation))}function L6(e,t){const n=t.path.lastSegment();return[e,Es(t.path.popLast()),n]}function V6(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:xd(r.readTime),documentKey:Es(r.documentKey.path),largestBatchId:r.largestBatchId}}class uie{getBundleMetadata(t,n){return B6(t).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Ed(s.createTime),version:s.version};var s})}saveBundleMetadata(t,n){return B6(t).put({bundleId:(i=n).id,createTime:xd(Xr(i.createTime)),version:i.version});var i}getNamedQuery(t,n){return U6(t).get(n).next(r=>{if(r)return{name:(s=r).name,query:GD(s.bundledQuery),readTime:Ed(s.readTime)};var s})}saveNamedQuery(t,n){return U6(t).put({name:(i=n).name,readTime:xd(Xr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function B6(e){return Fi(e,"bundles")}function U6(e){return Fi(e,"namedQueries")}class qE{constructor(t,n){this.serializer=t,this.userId=n}static ct(t,n){return new qE(t,n.uid||"")}getOverlay(t,n){return K_(t).get(L6(this.userId,n)).next(r=>r?WD(this.serializer,r):null)}getOverlays(t,n){const r=yc();return X.forEach(n,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){const i=[];return r.forEach((s,o)=>{const a=new LD(n,o);i.push(this.lt(t,a))}),X.waitFor(i)}removeOverlaysForBatchId(t,n,r){const i=new Set;n.forEach(o=>i.add(Es(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(K_(t).H("collectionPathOverlayIndex",a))}),X.waitFor(s)}getOverlaysForCollection(t,n,r){const i=yc(),s=Es(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return K_(t).W("collectionPathOverlayIndex",o).next(a=>{for(const c of a){const u=WD(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(t,n,r,i){const s=yc();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return K_(t).Y({index:"collectionGroupOverlayIndex",range:a},(c,u,l)=>{const h=WD(this.serializer,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):l.done()}).next(()=>s)}lt(t,n){return K_(t).put(function(i,s,o){const[a,c,u]=L6(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:z_(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function K_(e){return Fi(e,"documentOverlays")}class Id{constructor(){}ht(t,n){this.Pt(t,n),n.It()}Pt(t,n){if("nullValue"in t)this.Tt(n,5);else if("booleanValue"in t)this.Tt(n,10),n.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(n,15),n.Et(Nr(t.integerValue));else if("doubleValue"in t){const r=Nr(t.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),D_(r)?n.Et(0):n.Et(r))}else if("timestampValue"in t){const r=t.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,n),this.Rt(n);else if("bytesValue"in t)this.Tt(n,30),n.Vt(uu(t.bytesValue)),this.Rt(n);else if("referenceValue"in t)this.ft(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in t?kB(t)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,n),this.Rt(n)):"arrayValue"in t?(this.yt(t.arrayValue,n),this.Rt(n)):ot()}At(t,n){this.Tt(n,25),this.wt(t,n)}wt(t,n){n.dt(t)}gt(t,n){const r=t.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(t,n){const r=t.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(t,n){this.Tt(n,37),Ze.fromName(t).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(t,n){t.Et(n)}Rt(t){t.Et(2)}}function lie(e){if(0===e)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function j6(e){const t=64-function(r){let i=0;for(let s=0;s<8;++s){const o=lie(255&r[s]);if(i+=o,8!==o)break}return i}(e);return Math.ceil(t/8)}Id.St=new Id;class fie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(t){const n=this.Bt(t),r=j6(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(t){const n=this.Bt(t),r=j6(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(t){const n=255&t;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(t){const n=255&t;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class die{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class hie{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class Z_{constructor(){this.Wt=new fie,this.Gt=new die(this.Wt),this.zt=new hie(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Td{constructor(t,n,r,i){this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new Td(this.indexId,this.documentKey,this.arrayValue,r)}}function Ml(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=H6(e.arrayValue,t.arrayValue),0!==n?n:(n=H6(e.directionalValue,t.directionalValue),0!==n?n:Ze.comparator(e.documentKey,t.documentKey)))}function H6(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class $6{constructor(t){this.Jt=new Kn((n,r)=>gr.comparator(n.field,r.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const n of t.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(t){if(vt(t.collectionGroup===this.collectionId),this.Xt)return!1;const n=xD(t);if(void 0!==n&&!this.tn(n))return!1;const r=hd(t);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[s];if(!this.nn(a,c)||!this.rn(this.Yt[o++],c))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let t=new Kn(gr.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new pd(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new pd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new pd(r.field,"asc"===r.dir?0:1)));return new zp(zp.UNKNOWN_ID,this.collectionId,n,qp.empty())}tn(t){for(const n of this.Zt)if(this.nn(n,t))return!0;return!1}nn(t,n){return!(void 0===t||!t.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,n){return!!t.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===t.dir||1===n.kind&&"desc"===t.dir)}}function G6(e){var t,n;if(vt(e instanceof _n||e instanceof jn),e instanceof _n){if(e instanceof HB){const i=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map(s=>_n.create(e.field,"==",s)))||[];return jn.create(i,"or")}return e}const r=e.filters.map(i=>G6(i));return jn.create(r,e.op)}function pie(e){if(0===e.getFilters().length)return[];const t=KD(G6(e));return vt(W6(t)),zD(t)||qD(t)?[t]:t.getFilters()}function zD(e){return e instanceof _n}function qD(e){return e instanceof jn&&DD(e)}function W6(e){return zD(e)||qD(e)||function(n){if(n instanceof jn&&SD(n)){for(const r of n.getFilters())if(!zD(r)&&!qD(r))return!1;return!0}return!1}(e)}function KD(e){if(vt(e instanceof _n||e instanceof jn),e instanceof _n)return e;if(1===e.filters.length)return KD(e.filters[0]);const t=e.filters.map(r=>KD(r));let n=jn.create(t,e.op);return n=KE(n),W6(n)?n:(vt(n instanceof jn),vt(Yp(n)),vt(n.filters.length>1),n.filters.reduce((r,i)=>ZD(r,i)))}function ZD(e,t){let n;return vt(e instanceof _n||e instanceof jn),vt(t instanceof _n||t instanceof jn),n=e instanceof _n?t instanceof _n?jn.create([e,t],"and"):z6(e,t):t instanceof _n?z6(t,e):function(i,s){if(vt(i.filters.length>0&&s.filters.length>0),Yp(i)&&Yp(s))return BB(i,s.getFilters());const o=SD(i)?i:s,a=SD(i)?s:i,c=o.filters.map(u=>ZD(u,a));return jn.create(c,"or")}(e,t),KE(n)}function z6(e,t){if(Yp(t))return BB(t,e.getFilters());{const n=t.filters.map(r=>ZD(e,r));return jn.create(n,"or")}}function KE(e){if(vt(e instanceof _n||e instanceof jn),e instanceof _n)return e;const t=e.getFilters();if(1===t.length)return KE(t[0]);if(LB(e))return e;const n=t.map(i=>KE(i)),r=[];return n.forEach(i=>{i instanceof _n?r.push(i):i instanceof jn&&(i.op===e.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:jn.create(r,e.op)}class gie{constructor(){this.on=new YD}addToCollectionParentIndex(t,n){return this.on.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(ko.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(ko.min())}updateCollectionGroup(t,n,r){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class YD{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Kn(In.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Kn(In.comparator)).toArray()}}const ZE=new Uint8Array(0);class mie{constructor(t,n){this.user=t,this.databaseId=n,this._n=new YD,this.an=new fu(r=>_d(r),(r,i)=>M_(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();t.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Es(i)};return q6(t).put(s)}return X.resolve()}getCollectionParents(t,n){const r=[],i=IDBKeyRange.bound([n,""],[lB(n),""],!1,!0);return q6(t).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(_c(o.parent))}return r})}addFieldIndex(t,n){const r=Y_(t),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const s=r.add(i);if(n.indexState){const o=c0(t);return s.next(a=>{o.put(V6(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(t,n){const r=Y_(t),i=c0(t),s=a0(t);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const n=Y_(t),r=a0(t),i=c0(t);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(t,n){return X.forEach(this.un(n),r=>this.getIndexType(t,r).next(i=>{if(0===i||1===i){const s=new $6(r).sn();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,n){const r=a0(t);let i=!0;const s=new Map;return X.forEach(this.un(n),o=>this.cn(t,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=zt();const a=[];return X.forEach(s,(c,u)=>{var I;Me("IndexedDbIndexManager",`Using index ${I=c,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`} to execute ${_d(n)}`);const l=function(I,k){const O=xD(k);if(void 0===O)return null;for(const q of BE(I,O.fieldPath))switch(q.op){case"array-contains-any":return q.value.arrayValue.values||[];case"array-contains":return[q.value]}return null}(u,c),h=function(I,k){const O=new Map;for(const q of hd(k))for(const N of BE(I,q.fieldPath))switch(N.op){case"==":case"in":O.set(q.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return O.set(q.fieldPath.canonicalString(),N.value),Array.from(O.values())}return null}(u,c),g=function(I,k){const O=[];let q=!0;for(const N of hd(k)){const z=0===N.kind?$B(I,N.fieldPath,I.startAt):GB(I,N.fieldPath,I.startAt);O.push(z.value),q&&(q=z.inclusive)}return new Pl(O,q)}(u,c),_=function(I,k){const O=[];let q=!0;for(const N of hd(k)){const z=0===N.kind?GB(I,N.fieldPath,I.endAt):$B(I,N.fieldPath,I.endAt);O.push(z.value),q&&(q=z.inclusive)}return new Pl(O,q)}(u,c),y=this.ln(c,u,g),v=this.ln(c,u,_),x=this.hn(c,u,h),T=this.Pn(c.indexId,l,y,g.inclusive,v,_.inclusive,x);return X.forEach(T,w=>r.j(w,n.limit).next(I=>{I.forEach(k=>{const O=Ze.fromSegments(k.documentKey);o.has(O)||(o=o.add(O),a.push(O))})}))}).next(()=>a)}return X.resolve(null)})}un(t){let n=this.an.get(t);return n||(n=0===t.filters.length?[t]:pie(jn.create(t.filters,"and")).map(r=>kD(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,n),n)}Pn(t,n,r,i,s,o,a){const c=(null!=n?n.length:1)*Math.max(r.length,s.length),u=c/(null!=n?n.length:1),l=[];for(let h=0;h<c;++h){const g=n?this.In(n[h/u]):ZE,_=this.Tn(t,g,r[h%u],i),y=this.En(t,g,s[h%u],o),v=a.map(x=>this.Tn(t,g,x,!0));l.push(...this.createRange(_,y,v))}return l}Tn(t,n,r,i){const s=new Td(t,Ze.empty(),n,r);return i?s:s.Ht()}En(t,n,r,i){const s=new Td(t,Ze.empty(),n,r);return i?s.Ht():s}cn(t,n){const r=new $6(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,n){let r=2;const i=this.un(n);return X.forEach(i,s=>this.cn(t,s).next(o=>{o?0!==r&&o.fields.length<function(c){let u=new Kn(gr.comparator),l=!1;for(const h of c.filters)for(const g of h.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?l=!0:u=u.add(g.field));for(const h of c.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(l?1:0)}(s)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(t,n){const r=new Z_;for(const i of hd(t)){const s=n.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Id.St.ht(s,o)}return r.Ut()}In(t){const n=new Z_;return Id.St.ht(t,n.jt(0)),n.Ut()}An(t,n){const r=new Z_;return Id.St.ht(md(this.databaseId,n),r.jt(function(s){const o=hd(s);return 0===o.length?0:o[o.length-1].kind}(t))),r.Ut()}hn(t,n,r){if(null===r)return[];let i=[];i.push(new Z_);let s=0;for(const o of hd(t)){const a=r[s++];for(const c of i)if(this.Rn(n,o.fieldPath)&&R_(a))i=this.Vn(i,o,a);else{const u=c.jt(o.kind);Id.St.ht(a,u)}}return this.mn(i)}ln(t,n,r){return this.hn(t,n,r.position)}mn(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].Ut();return n}Vn(t,n,r){const i=[...t],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const c=new Z_;c.seed(a.Ut()),Id.St.ht(o,c.jt(n.kind)),s.push(c)}return s}Rn(t,n){return!!t.filters.find(r=>r instanceof _n&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,n){const r=Y_(t),i=c0(t);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return X.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(l,h){const g=h?new qp(h.sequenceNumber,new ko(Ed(h.readTime),new Ze(_c(h.documentKey)),h.largestBatchId)):qp.empty(),_=l.fields.map(([y,v])=>new pd(gr.fromServerFormat(y),v));return new zp(l.indexId,l.collectionGroup,_,g)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(n=>0===n.length?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ft(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(t,n,r){const i=Y_(t),s=c0(t);return this.fn(t).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>X.forEach(a,c=>s.put(V6(c.indexId,this.user,o,r)))))}updateIndexEntries(t,n){const r=new Map;return X.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?X.resolve(o):this.getFieldIndexes(t,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),X.forEach(a,c=>this.gn(t,i,c).next(u=>{const l=this.pn(s,c);return u.isEqual(l)?X.resolve():this.yn(t,s,c,u,l)}))))})}wn(t,n,r,i){return a0(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(t,n,r,i){return a0(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(t,n,r){const i=a0(t);let s=new Kn(Ml);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Td(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(t,n){let r=new Kn(Ml);const i=this.dn(n,t);if(null==i)return r;const s=xD(n);if(null!=s){const o=t.data.field(s.fieldPath);if(R_(o))for(const a of o.arrayValue.values||[])r=r.add(new Td(n.indexId,t.key,this.In(a),i))}else r=r.add(new Td(n.indexId,t.key,ZE,i));return r}yn(t,n,r,i,s){Me("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,u,l,h,g){const _=c.getIterator(),y=u.getIterator();let v=Kp(_),x=Kp(y);for(;v||x;){let T=!1,w=!1;if(v&&x){const I=l(v,x);I<0?w=!0:I>0&&(T=!0)}else null!=v?w=!0:T=!0;T?(h(x),x=Kp(y)):w?(g(v),v=Kp(_)):(v=Kp(_),x=Kp(y))}}(i,s,Ml,a=>{o.push(this.wn(t,n,r,a))},a=>{o.push(this.Sn(t,n,r,a))}),X.waitFor(o)}fn(t){let n=1;return c0(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(t,n,r){r=r.sort((o,a)=>Ml(o,a)).filter((o,a,c)=>!a||0!==Ml(o,c[a-1]));const i=[];i.push(t);for(const o of r){const a=Ml(o,t),c=Ml(o,n);if(0===a)i[0]=t.Ht();else if(a>0&&c<0)i.push(o),i.push(o.Ht());else if(c>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,ZE,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,ZE,[]]))}return s}bn(t,n){return Ml(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(K6)}getMinOffset(t,n){return X.mapArray(this.un(n),r=>this.cn(t,r).next(i=>i||ot())).next(K6)}}function q6(e){return Fi(e,"collectionParents")}function a0(e){return Fi(e,"indexEntries")}function Y_(e){return Fi(e,"indexConfiguration")}function c0(e){return Fi(e,"indexState")}function K6(e){vt(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ED(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ko(t.readTime,t.documentKey,n)}const Z6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new ws(t,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Y6(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},(l,h,g)=>(a++,g.delete()));s.push(c.next(()=>{vt(1===a)}));const u=[];for(const l of n.mutations){const h=yB(t,l.key.path,n.batchId);s.push(i.delete(h)),u.push(l.key)}return X.waitFor(s).next(()=>u)}function YE(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ot();t=e.noDocument}return JSON.stringify(t).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class QE{constructor(t,n,r,i){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(t,n,r,i){vt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new QE(s,n,r,i)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fl(t).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(t,n,r,i){const s=u0(t),o=Fl(t);return o.add({}).next(a=>{vt("number"==typeof a);const c=new FD(a,n,r,i),u=function(_,y,v){const x=v.baseMutations.map(w=>z_(_.ut,w)),T=v.mutations.map(w=>z_(_.ut,w));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:x,mutations:T}}(this.serializer,this.userId,c),l=[];let h=new Kn((g,_)=>Ft(g.canonicalString(),_.canonicalString()));for(const g of i){const _=yB(this.userId,g.key.path,a);h=h.add(g.key.path.popLast()),l.push(o.put(u)),l.push(s.put(_,ire))}return h.forEach(g=>{l.push(this.indexManager.addToCollectionParentIndex(t,g))}),t.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),X.waitFor(l).next(()=>c)})}lookupMutationBatch(t,n){return Fl(t).get(n).next(r=>r?(vt(r.userId===this.userId),wd(this.serializer,r)):null)}Cn(t,n){return this.Dn[n]?X.resolve(this.Dn[n]):this.lookupMutationBatch(t,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Fl(t).Y({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(vt(a.batchId>=r),s=wd(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fl(t).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fl(t).W("userMutationsIndex",n).next(r=>r.map(i=>wd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=RE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return u0(t).Y({range:i},(o,a,c)=>{const[u,l,h]=o,g=_c(l);if(u===this.userId&&n.path.isEqual(g))return Fl(t).get(h).next(_=>{if(!_)throw ot();vt(_.userId===this.userId),s.push(wd(this.serializer,_))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Kn(Ft);const i=[];return n.forEach(s=>{const o=RE(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=u0(t).Y({range:a},(u,l,h)=>{const[g,_,y]=u,v=_c(_);g===this.userId&&s.path.isEqual(v)?r=r.add(y):h.done()});i.push(c)}),X.waitFor(i).next(()=>this.vn(t,r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1,s=RE(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Kn(Ft);return u0(t).Y({range:o},(c,u,l)=>{const[h,g,_]=c,y=_c(g);h===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(_)):l.done()}).next(()=>this.vn(t,a))}vn(t,n){const r=[],i=[];return n.forEach(s=>{i.push(Fl(t).get(s).next(o=>{if(null===o)throw ot();vt(o.userId===this.userId),r.push(wd(this.serializer,o))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(t,n){return Y6(t.ae,this.userId,n).next(r=>(t.addOnCommittedListener(()=>{this.Fn(n.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(n=>{if(!n)return X.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return u0(t).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const c=_c(s[1]);i.push(c)}else a.done()}).next(()=>{vt(0===i.length)})})}containsKey(t,n){return Q6(t,this.userId,n)}Mn(t){return X6(t).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Q6(e,t,n){const r=RE(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return u0(e).Y({range:s,J:!0},(a,c,u)=>{const[l,h,g]=a;l===t&&h===i&&(o=!0),u.done()}).next(()=>o)}function Fl(e){return Fi(e,"mutations")}function u0(e){return Fi(e,"documentMutations")}function X6(e){return Fi(e,"mutationQueues")}class Ad{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Ad(0)}static Nn(){return new Ad(-1)}}class _ie{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.Bn(t).next(n=>{const r=new Ad(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(t,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(n=>xt.fromTimestamp(new Tr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.Bn(t).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(t,i)))}addTargetData(t,n){return this.kn(t,n).next(()=>this.Bn(t).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(t,r))))}updateTargetData(t,n){return this.kn(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next(()=>l0(t).delete(n.targetId)).next(()=>this.Bn(t)).next(r=>(vt(r.targetCount>0),r.targetCount-=1,this.Ln(t,r)))}removeTargets(t,n,r){let i=0;const s=[];return l0(t).Y((o,a)=>{const c=q_(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,s.push(this.removeTargetData(t,c)))}).next(()=>X.waitFor(s)).next(()=>i)}forEachTarget(t,n){return l0(t).Y((r,i)=>{const s=q_(i);n(s)})}Bn(t){return J6(t).get("targetGlobalKey").next(n=>(vt(null!==n),n))}Ln(t,n){return J6(t).put("targetGlobalKey",n)}kn(t,n){return l0(t).put(O6(this.serializer,n))}qn(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.Bn(t).next(n=>n.targetCount)}getTargetData(t,n){const r=_d(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return l0(t).Y({range:i,index:"queryTargetsIndex"},(o,a,c)=>{const u=q_(a);M_(n,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(t,n,r){const i=[],s=Ol(t);return n.forEach(o=>{const a=Es(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(t,r,o))}),X.waitFor(i)}removeMatchingKeys(t,n,r){const i=Ol(t);return X.forEach(n,s=>{const o=Es(s.path);return X.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(t,r,s)])})}removeMatchingKeysForTargetId(t,n){const r=Ol(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ol(t);let s=zt();return i.Y({range:r,J:!0},(o,a,c)=>{const u=_c(o[1]),l=new Ze(u);s=s.add(l)}).next(()=>s)}containsKey(t,n){const r=Es(n.path),i=IDBKeyRange.bound([r],[lB(r)],!1,!0);let s=0;return Ol(t).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],c,u)=>{0!==o&&(s++,u.done())}).next(()=>s>0)}_t(t,n){return l0(t).get(n).next(r=>r?q_(r):null)}}function l0(e){return Fi(e,"targets")}function J6(e){return Fi(e,"targetGlobal")}function Ol(e){return Fi(e,"targetDocuments")}function e8([e,t],[n,r]){const i=Ft(e,n);return 0===i?Ft(t,r):i}class vie{constructor(t){this.Qn=t,this.buffer=new Kn(e8),this.Kn=0}$n(){return++this.Kn}Un(t){const n=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();e8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t8{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var n=this;Me("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Te.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Al(r)?Me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Tl(r)}yield n.Gn(3e5)}))}}class yie{constructor(t,n){this.zn=t,this.params=n}calculateTargetCount(t,n){return this.zn.jn(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(0===n)return X.resolve(Ro._e);const r=new vie(n);return this.zn.forEachTarget(t,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(t,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.zn.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.zn.removeOrphanedDocuments(t,n)}collect(t,n){return-1===this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Z6)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z6):this.Jn(t,n))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,n){let r,i,s,o,a,c,u;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(t,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(t,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(t,r))).next(h=>(u=Date.now(),Gp()<=hc.in.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(c-a)+`ms\n\tRemoved ${h} documents in `+(u-c)+`ms\nTotal Duration: ${u-l}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}class xie{constructor(t,n){this.db=t,this.garbageCollector=function n8(e,t){return new yie(e,t)}(this,n)}jn(t){const n=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}Yn(t){let n=0;return this.Hn(t,r=>{n++}).next(()=>n)}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}Hn(t,n){return this.Zn(t,(r,i)=>n(i))}addReference(t,n,r){return XE(t,r)}removeReference(t,n,r){return XE(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return XE(t,n)}Xn(t,n){return function(i,s){let o=!1;return X6(i).Z(a=>Q6(i,a,s).next(c=>(c&&(o=!0),X.resolve(!c)))).next(()=>o)}(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(t,(o,a)=>{if(a<=n){const c=this.Xn(t,o).next(u=>{if(!u)return s++,r.getEntry(t,o).next(()=>(r.removeEntry(o,xt.min()),Ol(t).delete([0,Es(o.path)])))});i.push(c)}}).next(()=>X.waitFor(i)).next(()=>r.apply(t)).next(()=>s)}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return XE(t,n)}Zn(t,n){const r=Ol(t);let i,s=Ro._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:u})=>{0===o?(s!==Ro._e&&n(new Ze(_c(i)),s),s=u,i=c):s=Ro._e}).next(()=>{s!==Ro._e&&n(new Ze(_c(i)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function XE(e,t){return Ol(e).put((i=e.currentSequenceNumber,{targetId:0,path:Es(t.path),sequenceNumber:i}));var i}class r8{constructor(){this.changes=new fu(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,mr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?X.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Eie{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return Cd(t).put(r)}removeEntry(t,n,r){return Cd(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],zE(o),a[a.length-1]]}(n,r))}updateMetadata(t,n){return this.getMetadata(t).next(r=>(r.byteSize+=n,this.er(t,r)))}getEntry(t,n){let r=mr.newInvalidDocument(n);return Cd(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Q_(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(t,n){let r={size:0,document:mr.newInvalidDocument(n)};return Cd(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Q_(n))},(i,s)=>{r={document:this.tr(n,s),size:YE(s)}}).next(()=>r)}getEntries(t,n){let r=ho();return this.rr(t,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(t,n){let r=ho(),i=new sr(Ze.comparator);return this.rr(t,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,YE(o))}).next(()=>({documents:r,sr:i}))}rr(t,n,r){if(n.isEmpty())return X.resolve();let i=new Kn(a8);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(Q_(i.first()),Q_(i.last())),o=i.getIterator();let a=o.getNext();return Cd(t).Y({index:"documentKeyIndex",range:s},(c,u,l)=>{const h=Ze.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&a8(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?l.U(Q_(a)):l.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),zE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cd(t).W(IDBKeyRange.bound(a,c,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let l=ho();for(const h of u){const g=this.tr(Ze.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);g.isFoundDocument()&&(O_(n,g)||i.has(g.key))&&(l=l.insert(g.key,g))}return l})}getAllFromCollectionGroup(t,n,r,i){let s=ho();const o=o8(n,r),a=o8(n,ko.max());return Cd(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,u,l)=>{const h=this.tr(Ze.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&l.done()}).next(()=>s)}newChangeBuffer(t){return new wie(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(n=>n.byteSize)}getMetadata(t){return s8(t).get("remoteDocumentGlobalKey").next(n=>(vt(!!n),n))}er(t,n){return s8(t).put("remoteDocumentGlobalKey",n)}tr(t,n){if(n){const r=function cie(e,t){let n;if(t.document)n=D6(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=Ze.fromSegments(t.noDocument.path),i=Ed(t.noDocument.readTime);n=mr.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ot();{const r=Ze.fromSegments(t.unknownDocument.path),i=Ed(t.unknownDocument.version);n=mr.newUnknownDocument(r,i)}}return t.readTime&&n.setReadTime(function(i){const s=new Tr(i[0],i[1]);return xt.fromTimestamp(s)}(t.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return mr.newInvalidDocument(t)}}function i8(e){return new Eie(e)}class wie extends r8{constructor(t,n){super(),this._r=t,this.trackRemovals=n,this.ar=new fu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const n=[];let r=0,i=new Kn((s,o)=>Ft(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(t,s,a.readTime)),o.isValidDocument()){const c=F6(this._r.serializer,o);i=i.add(s.path.popLast());const u=YE(c);r+=u-a.size,n.push(this._r.addEntry(t,s,c))}else if(r-=a.size,this.trackRemovals){const c=F6(this._r.serializer,o.convertToNoDocument(xt.min()));n.push(this._r.addEntry(t,s,c))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(t,s))}),n.push(this._r.updateMetadata(t,r)),X.waitFor(n)}getFromCache(t,n){return this._r.nr(t,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,n){return this._r.ir(t,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function s8(e){return Fi(e,"remoteDocumentGlobal")}function Cd(e){return Fi(e,"remoteDocumentsV14")}function Q_(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function o8(e,t){const n=t.documentKey.path.toArray();return[e,zE(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function a8(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ft(n[s],r[s]),i)return i;return i=Ft(n.length,r.length),i||(i=Ft(n[n.length-2],r[r.length-2]),i||Ft(n[n.length-1],r[r.length-1]))}class Iie{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class c8{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(null!==r&&U_(r.mutation,i,fo.empty(),Tr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,zt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=zt()){const i=yc();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=L_();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=yc();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,zt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=ho();const o=V_(),a=V_();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof du)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),U_(l.mutation,u,l.mutation.getFieldMask(),Tr.now())):o.set(u.key,fo.empty())}),this.recalculateAndSaveOverlays(t,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var h;return a.set(u,new Iie(l,null!==(h=o.get(u))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=V_();let i=new sr((o,a)=>o-a),s=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||fo.empty();l=a.applyToLocalView(u,l),r.set(c,l);const h=(i.get(a.batchId)||zt()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,h=JB();l.forEach(g=>{if(!s.has(g)){const _=c6(n.get(g),r.get(g));null!==_&&h.set(g,_),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return Ze.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,n.path):RD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i);var o}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):X.resolve(yc());let a=-1,c=s;return o.next(u=>X.forEach(u,(l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(l)?X.resolve():this.remoteDocumentCache.getEntry(t,l).next(g=>{c=c.insert(l,g)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,c,u,zt())).next(l=>({batchId:a,changes:XB(l)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ze(n)).next(r=>{let i=L_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=L_();return this.indexManager.getCollectionParents(t,s).next(a=>X.forEach(a,c=>{const u=(h=n,g=c.child(s),new lu(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,g;return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(l=>{l.forEach((h,g)=>{o=o.insert(h,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const l=u.getKey();null===o.get(l)&&(o=o.insert(l,mr.newInvalidDocument(l)))});let a=L_();return o.forEach((c,u)=>{const l=s.get(c);void 0!==l&&U_(l.mutation,u,fo.empty(),Tr.now()),O_(n,u)&&(a=a.insert(c,u))}),a})}}class Tie{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return X.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:Xr(i.createTime)}),X.resolve();var i}getNamedQuery(t,n){return X.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,{name:(i=n).name,query:GD(i.bundledQuery),readTime:Xr(i.readTime)}),X.resolve();var i}}class Aie{constructor(){this.overlays=new sr(Ze.comparator),this.lr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const r=yc();return X.forEach(n,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),X.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),X.resolve()}getOverlaysForCollection(t,n,r){const i=yc(),s=n.length+1,o=new Ze(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return X.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new sr((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=yc(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=yc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return X.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LD(n,r));let s=this.lr.get(n);void 0===s&&(s=zt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class QD{constructor(){this.hr=new Kn(Oi.Pr),this.Ir=new Kn(Oi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new Oi(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new Oi(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new Ze(new In([])),r=new Oi(n,t),i=new Oi(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new Ze(new In([])),r=new Oi(n,t),i=new Oi(n,t+1);let s=zt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Oi(t,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&t.isEqual(r.key)}}class Oi{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return Ze.comparator(t.key,n.key)||Ft(t.gr,n.gr)}static Tr(t,n){return Ft(t.gr,n.gr)||Ze.comparator(t.key,n.key)}}class Cie{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Kn(Oi.Pr)}checkEmpty(t){return X.resolve(0===this.mutationQueue.length)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++;const o=new FD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Oi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(t,n){return X.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const i=this.Sr(n+1),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Oi(n,0),i=new Oi(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Kn(Ft);return n.forEach(i=>{const s=new Oi(i,0),o=new Oi(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),X.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Ze.isDocumentKey(s)||(s=s.child(""));const o=new Oi(new Ze(s),0);let a=new Kn(Ft);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),X.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(t,n){vt(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return X.forEach(n.mutations,i=>{const s=new Oi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new Oi(n,0),i=this.yr.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return X.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sie{constructor(t){this.Cr=t,this.docs=new sr(Ze.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(t,n){let r=ho();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mr.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=ho();const o=n.path,a=new Ze(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ED(dB(l),r)<=0||(i.has(l.key)||O_(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ot()}vr(t,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Die(this)}getSize(t){return X.resolve(this.size)}}class Die extends r8{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),X.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}class bie{constructor(t){this.persistence=t,this.Fr=new fu(n=>_d(n),M_),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new QD,this.targetCount=0,this.Nr=Ad.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),X.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Ad(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.kn(n),X.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return X.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),X.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return X.resolve(r)}containsKey(t,n){return X.resolve(this.Or.containsKey(n))}}class XD{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Ro(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new bie(this),this.indexManager=new gie,this.remoteDocumentCache=new Sie(r=>this.referenceDelegate.Qr(r)),this.serializer=new M6(n),this.Kr=new Tie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Aie,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Cie(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){Me("MemoryPersistence","Starting transaction:",t);const i=new kie(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return X.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class kie extends pB{constructor(t){super(),this.currentSequenceNumber=t}}class JE{constructor(t){this.persistence=t,this.Gr=new QD,this.zr=null}static jr(t){return new JE(t)}get Hr(){if(this.zr)return this.zr;throw ot()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),X.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),X.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Hr,r=>{const i=Ze.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,xt.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return X.or([()=>X.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}class Rie{constructor(t){this.serializer=t}N(t,n,r,i){const s=new kE("createOrUpgrade",n);var c;r<1&&i>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vB,{unique:!0}),c.createObjectStore("documentMutations"),u8(t),function(c){c.createObjectStore("remoteDocuments")}(t));let o=X.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),u8(t)),o=o.next(()=>function(c){const u=c.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(c,u){return u.store("mutations").W().next(l=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vB,{unique:!0});const h=u.store("mutations"),g=l.map(_=>h.put(_));return X.waitFor(g)})}(t,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(t,s))),r<9&&i>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(o=o.next(()=>{!function(c){const u=c.createObjectStore("documentOverlays",{keyPath:mre});u.createIndex("collectionPathOverlayIndex",_re,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",vre,{unique:!1})}(t)})),r<13&&i>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:sre});u.createIndex("documentKeyIndex",ore),u.createIndex("collectionGroupIndex",are)}(t)).next(()=>this.ri(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(t,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:dre}).createIndex("sequenceNumberIndex",hre,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:pre}).createIndex("documentKeyIndex",gre,{unique:!1})}(t))),o}Xr(t){let n=0;return t.store("remoteDocuments").Y((r,i)=>{n+=YE(i)}).next(()=>{const r={byteSize:n};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(t){const n=t.store("mutationQueues"),r=t.store("mutations");return n.W().next(i=>X.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>X.forEach(a,c=>{vt(c.userId===s.userId);const u=wd(this.serializer,c);return Y6(t,s.userId,u).next(()=>{})}))}))}ei(t){const n=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const c=new In(o),u=[0,Es(c)];s.push(n.get(u).next(l=>l?X.resolve():n.put({targetId:0,path:Es(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>X.waitFor(s))})}ti(t,n){t.createObjectStore("collectionParents",{keyPath:fre});const r=n.store("collectionParents"),i=new YD,s=o=>{if(i.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Es(c)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const c=new In(o);return s(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,c],u)=>{const l=_c(a);return s(l.popLast())}))}ni(t){const n=t.store("targets");return n.Y((r,i)=>{const s=q_(i),o=O6(this.serializer,s);return n.put(o)})}ri(t,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),c=(h=o,h.document?new Ze(In.fromString(h.document.name).popFirst(5)):h.noDocument?Ze.fromSegments(h.noDocument.path):h.unknownDocument?Ze.fromSegments(h.unknownDocument.path):ot()).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var h;i.push(a.put(u))}).next(()=>X.waitFor(i))}ii(t,n){const r=n.store("mutations"),i=i8(this.serializer),s=new XD(JE.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(c=>{var u;let l=null!==(u=a.get(c.userId))&&void 0!==u?u:zt();wd(this.serializer,c).keys().forEach(h=>l=l.add(h)),a.set(c.userId,l)}),X.forEach(a,(c,u)=>{const l=new Mi(u),h=qE.ct(this.serializer,l),g=s.getIndexManager(l),_=QE.ct(l,this.serializer,g,s.referenceDelegate);return new c8(i,_,h,g).recalculateAndSaveOverlaysForDocumentKeys(new TD(n,Ro._e),c).next()})})}}function u8(e){e.createObjectStore("targetDocuments",{keyPath:ure}).createIndex("documentTargetsIndex",lre,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cre,{unique:!0}),e.createObjectStore("targetGlobal")}const JD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eb{constructor(t,n,r,i,s,o,a,c,u,l,h=15){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=l,this.ai=h,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!eb.D())throw new ke(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xie(this,i),this.Ii=n+"main",this.serializer=new M6(c),this.Ti=new Ua(this.Ii,this.ai,new Rie(this.serializer)),this.qr=new _ie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=i8(this.serializer),this.Kr=new uie,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ae.FAILED_PRECONDITION,JD);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new Ro(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var n=this;return this.Pi=function(){var r=(0,Te.Z)(function*(i){if(n.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var n=(0,Te.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,Te.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>tw(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(n=>this.isPrimary&&!n?this.pi(t).next(()=>!1):!!n&&this.yi(t).next(()=>!0))).catch(t=>{if(Al(t))return Me("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return X_(t).get("owner").next(n=>X.resolve(this.wi(n)))}Si(t){return tw(t).delete(this.clientId)}bi(){var t=this;return(0,Te.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const n=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Fi(r,"clientMetadata");return i.W().next(s=>{const o=t.Ci(s,18e5),a=s.filter(c=>-1===o.indexOf(c));return X.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Ei)for(const r of n)t.Ei.removeItem(t.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?X.resolve(!0):X_(t).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new ke(ae.FAILED_PRECONDITION,JD);return!1}}return!(!this.networkEnabled||!this.inForeground)||tw(t).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Me("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var t=this;return(0,Te.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new TD(n,Ro._e);return t.pi(r).next(()=>t.Si(r))}),t.Ti.close(),t.Ni()})()}Ci(t,n){return t.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>tw(t).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(t,n){return QE.ct(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new mie(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return qE.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,n,r){Me("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===n?"readonly":"readwrite",s=15===(c=this.ai)?xre:14===c?wB:13===c?EB:12===c?yre:11===c?xB:void ot();var c;let o;return this.Ti.runTransaction(t,i,s,a=>(o=new TD(a,this.Lr?this.Lr.next():Ro._e),"readwrite-primary"===n?this.fi(o).next(c=>!!c||this.gi(o)).next(c=>{if(!c)throw Qr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ke(ae.FAILED_PRECONDITION,hB);return r(o)}).next(c=>this.yi(o).next(()=>c)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(t){return X_(t).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ke(ae.FAILED_PRECONDITION,JD)})}yi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return X_(t).put("owner",n)}static D(){return Ua.D()}pi(t){const n=X_(t);return n.get("owner").next(r=>this.wi(r)?(Me("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):X.resolve())}Di(t,n){const r=Date.now();return!(t<r-n||t>r&&(Qr(`Detected an update time that is in the future: ${t} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,Qn.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(t)));return Me("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Qr("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function X_(e){return Fi(e,"owner")}function tw(e){return Fi(e,"clientMetadata")}function tb(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class nb{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=zt(),i=zt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nb(t,n.fromCache,r,i)}}class Pie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class l8{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Pie;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Gp()<=hc.in.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Jp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),X.resolve()):(Gp()<=hc.in.DEBUG&&Me("QueryEngine","Query:",Jp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Gp()<=hc.in.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Jp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zs(n))):X.resolve())}zi(t,n){if(zB(n))return X.resolve(null);let r=zs(n);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=UE(n,null,"F"),r=zs(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=zt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(c=>{const u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(t,UE(n,null,"F")):this.Xi(t,u,n,c)}))})))}ji(t,n,r,i){return zB(n)||i.isEqual(xt.min())?X.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?X.resolve(null):(Gp()<=hc.in.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jp(n)),this.Xi(t,o,n,fB(i,-1)).next(a=>a))})}Yi(t,n){let r=new Kn(YB(t));return n.forEach((i,s)=>{O_(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(null===t.limit)return!1;if(r.size!==n.size)return!0;const s="F"===t.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Gp()<=hc.in.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Jp(n)),this.Gi.getDocumentsMatchingQuery(t,n,ko.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Nie{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new sr(Ft),this.ns=new fu(s=>_d(s),M_),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new c8(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function f8(e,t,n,r){return new Nie(e,t,n,r)}function d8(e,t){return rb.apply(this,arguments)}function rb(){return rb=(0,Te.Z)(function*(e,t){const n=qe(e);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=zt();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}),rb.apply(this,arguments)}function h8(e){const t=qe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function p8(e,t,n){let r=zt(),i=zt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=ho();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(xt.min())?(t.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(c),o=o.insert(a,c)):Me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function Oie(e,t){const n=qe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function f0(e,t){const n=qe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,X.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new hu(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}function d0(e,t,n){return ib.apply(this,arguments)}function ib(){return ib=(0,Te.Z)(function*(e,t,n){const r=qe(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Al(o))throw o;Me("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}),ib.apply(this,arguments)}function nw(e,t,n){const r=qe(e);let i=xt.min(),s=zt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){const h=qe(c),g=h.ns.get(l);return void 0!==g?X.resolve(h.ts.get(g)):h.qr.getTargetData(u,l)}(r,o,zs(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:xt.min(),n?s:zt())).next(a=>(_8(r,ZB(t),a),{documents:a,ls:s})))}function g8(e,t){const n=qe(e),r=qe(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,t).next(o=>o?o.target:null))}function m8(e,t){const n=qe(e),r=n.rs.get(t)||xt.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,t,fB(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(_8(n,t,i),i))}function _8(e,t,n){let r=e.rs.get(t)||xt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}function sb(){return sb=(0,Te.Z)(function*(e,t,n,r){const i=qe(e);let s=zt(),o=ho();for(const u of n){const l=t.hs(u.metadata.name);u.document&&(s=s.add(l));const h=t.Ps(u);h.setReadTime(t.Is(u.metadata.readTime)),o=o.insert(l,h)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield f0(i,(l=r,zs(Qp(In.fromString(`__bundle__/docs/${l}`)))));var l;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>p8(u,a,o).next(l=>(a.apply(u),l)).next(l=>i.qr.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.qr.addMatchingKeys(u,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,l.us,l.cs)).next(()=>l.us)))}),sb.apply(this,arguments)}function Vie(e,t){return ob.apply(this,arguments)}function ob(){return ob=(0,Te.Z)(function*(e,t,n=zt()){const r=yield f0(e,zs(GD(t.bundledQuery))),i=qe(e);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Xr(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,t);const a=r.withResumeToken(Ii.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,t))})}),ob.apply(this,arguments)}function v8(e,t){return`firestore_clients_${e}_${t}`}function y8(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function ab(e,t){return`firestore_targets_${e}_${t}`}class rw{constructor(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}static Ts(t,n,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new ke(i.error.code,i.error.message))),o?new rw(t,n,i.state,s):(Qr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class J_{constructor(t,n,r){this.targetId=t,this.state=n,this.error=r}static Ts(t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ke(r.error.code,r.error.message))),s?new J_(t,r.state,i):(Qr("SharedClientState",`Failed to parse target state for ID '${t}': ${n}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class iw{constructor(t,n){this.clientId=t,this.activeTargetIds=n}static Ts(t,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=ND();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=mB(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new iw(t,s):(Qr("SharedClientState",`Failed to parse client data for instance '${t}': ${n}`),null)}}class cb{constructor(t,n){this.clientId=t,this.onlineState=n}static Ts(t){const n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new cb(n.clientId,n.onlineState):(Qr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ub{constructor(){this.activeTargetIds=ND()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lb{constructor(t,n,r,i,s){this.window=t,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new sr(Ft),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=v8(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new ub),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Te.Z)(function*(){const n=yield t.syncEngine.Bi();for(const i of n){if(i===t.Rs)continue;const s=t.getItem(v8(t.persistenceKey,i));if(s){const o=iw.Ts(i,s);o&&(t.gs=t.gs.insert(o.clientId,o))}}t.Fs();const r=t.storage.getItem(t.Cs);if(r){const i=t.Ms(r);i&&t.xs(i)}for(const i of t.ps)t.fs(i);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(t)&&(n=!0)}),n}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,n,r){this.Ns(t,n,r),this.Bs(t)}addLocalQueryTarget(t){let n="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(ab(this.persistenceKey,t));if(r){const i=J_.Ts(t,r);i&&(n=i.state)}}return this.Ls.ds(t),this.Fs(),n}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(ab(this.persistenceKey,t))}updateQueryState(t,n,r){this.ks(t,n,r)}handleUserChange(t,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const n=this.storage.getItem(t);return Me("SharedClientState","READ",t,n),n}setItem(t,n){Me("SharedClientState","SET",t,n),this.storage.setItem(t,n)}removeItem(t){Me("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var n=this;const r=t;if(r.storageArea===this.storage){if(Me("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Te.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(o){let a=Ro._e;if(null!=o)try{const c=JSON.parse(o);vt("number"==typeof c),a=c}catch(c){Qr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==Ro._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(s=>n.syncEngine.Js(s)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,n,r){const i=new rw(this.currentUser,t,n,r),s=y8(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Es())}Bs(t){const n=y8(this.persistenceKey,this.currentUser,t);this.removeItem(n)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,n,r){const i=ab(this.persistenceKey,t),s=new J_(t,n,r);this.setItem(i,s.Es())}Qs(t){const n=JSON.stringify(Array.from(t));this.setItem(this.vs,n)}Ks(t){const n=this.Ss.exec(t);return n?n[1]:null}Us(t,n){const r=this.Ks(t);return iw.Ts(r,n)}Ws(t,n){const r=this.bs.exec(t),i=Number(r[1]);return rw.Ts(new Mi(void 0!==r[2]?r[2]:null),i,n)}zs(t,n){const r=this.Ds.exec(t),i=Number(r[1]);return J_.Ts(i,n)}Ms(t){return cb.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var n=this;return(0,Te.Z)(function*(){if(t.user.uid===n.currentUser.uid)return n.syncEngine.Ys(t.batchId,t.state,t.error);Me("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,n){const r=n?this.gs.insert(t,n):this.gs.remove(t),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let n=ND();return t.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class x8{constructor(){this.eo=new ub,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new ub,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Bie{ro(t){}shutdown(){}}class E8{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sw=null;function fb(){return null===sw?sw=268435456+Math.round(2147483648*Math.random()):sw++,"0x"+sw.toString(16)}const Uie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jie{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const Is="WebChannelConnection";class Hie extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=fb(),c=this.So(n,r);Me("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,c,u,i).then(l=>(Me("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw lo("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+$p,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Uie[n]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=fb();return new Promise((o,a)=>{const c=new Bne;c.setWithCredentials(!0),c.listenOnce(One.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vD.NO_ERROR:const l=c.getResponseJson();Me(Is,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(l)),o(l);break;case vD.TIMEOUT:Me(Is,`RPC '${t}' ${s} timed out`),a(new ke(ae.DEADLINE_EXCEEDED,"Request time out"));break;case vD.HTTP_ERROR:const h=c.getStatus();if(Me(Is,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const y=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(T)>=0?T:ae.UNKNOWN}(_.status);a(new ke(y,_.message))}else a(new ke(ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ke(ae.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Me(Is,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);Me(Is,`RPC '${t}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(t,n,r){const i=fb(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Mne(),a=Fne(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Vne({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");Me(Is,`Creating RPC '${t}' stream ${i}: ${l}`,c);const h=o.createWebChannel(l,c);let g=!1,_=!1;const y=new jie({co:x=>{_?Me(Is,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(g||(Me(Is,`Opening RPC '${t}' stream ${i} transport.`),h.open(),g=!0),Me(Is,`RPC '${t}' stream ${i} sending:`,x),h.send(x))},lo:()=>h.close()}),v=(x,T,w)=>{x.listen(T,I=>{try{w(I)}catch(k){setTimeout(()=>{throw k},0)}})};return v(h,bE.EventType.OPEN,()=>{_||Me(Is,`RPC '${t}' stream ${i} transport opened.`)}),v(h,bE.EventType.CLOSE,()=>{_||(_=!0,Me(Is,`RPC '${t}' stream ${i} transport closed`),y.Ro())}),v(h,bE.EventType.ERROR,x=>{_||(_=!0,lo(Is,`RPC '${t}' stream ${i} transport errored:`,x),y.Ro(new ke(ae.UNAVAILABLE,"The operation could not be completed")))}),v(h,bE.EventType.MESSAGE,x=>{var T;if(!_){const w=x.data[0];vt(!!w);const k=w.error||(null===(T=w[0])||void 0===T?void 0:T.error);if(k){Me(Is,`RPC '${t}' stream ${i} received error:`,k);const O=k.status;let q=function(K){const le=li[K];if(void 0!==le)return p6(le)}(O),N=k.message;void 0===q&&(q=ae.INTERNAL,N="Unknown error status: "+O+" with message "+k.message),_=!0,y.Ro(new ke(q,N)),h.close()}else Me(Is,`RPC '${t}' stream ${i} received:`,w),y.Vo(w)}}),v(a,Lne.STAT_EVENT,x=>{x.stat===sB.PROXY?Me(Is,`RPC '${t}' stream ${i} detected buffering proxy`):x.stat===sB.NOPROXY&&Me(Is,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function w8(){return typeof window<"u"?window:null}function ow(){return typeof document<"u"?document:null}function ev(e){return new Xre(e,!0)}class db{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class I8{constructor(t,n,r,i,s,o,a,c){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new db(t,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,Te.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,Te.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,n){var r=this;return(0,Te.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==t?r.zo.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new ke(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var t=this;this.state=5,this.zo.ko((0,Te.Z)(function*(){t.state=0,t.start()}))}o_(t){return Me("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $ie extends I8{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=function tie(e,t){let n;if("targetChange"in t){const r="NO_CHANGE"===(u=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:ot(),i=t.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(vt(void 0===l||"string"==typeof l),Ii.fromBase64String(l||"")):(vt(void 0===l||l instanceof Uint8Array),Ii.fromUint8Array(l||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const l=void 0===u.code?ae.UNKNOWN:p6(u.code);return new ke(l,u.message||"")}(o);n=new y6(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=xc(e,r.document.name),s=Xr(r.document.updateTime),o=r.document.createTime?Xr(r.document.createTime):xt.min(),a=new ts({mapValue:{fields:r.document.fields}}),c=mr.newFoundDocument(i,s,o,a);n=new WE(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const r=t.documentDelete,i=xc(e,r.document),s=r.readTime?Xr(r.readTime):xt.min(),o=mr.newNoDocument(i,s);n=new WE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=xc(e,r.document);n=new WE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return ot();{const r=t.filter,{count:i=0,unchangedNames:s}=r,o=new zre(i,s);n=new v6(r.targetId,o)}}var u;return n}(this.serializer,t),r=function(s){if(!("targetChange"in s))return xt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?Xr(o.readTime):xt.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=W_(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=VE(c)?{documents:b6(s,c)}:{query:$D(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=I6(s,o.resumeToken);const u=BD(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(xt.min())>0){a.readTime=s0(s,o.snapshotVersion.toTimestamp());const u=BD(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,t);const r=function rie(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=W_(this.serializer),n.removeTarget=t,this.e_(n)}}class Gie extends I8{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=function nie(e,t){return e&&e.length>0?(vt(void 0!==t),e.map(n=>function(i,s){let o=Xr(i.updateTime?i.updateTime:s);return o.isEqual(xt.min())&&(o=Xr(s)),new Hre(o,i.transformResults||[])}(n,t))):[]}(t.writeResults,t.commitTime),r=Xr(t.commitTime);return this.listener.I_(r,n)}return vt(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=W_(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>z_(this.serializer,r))};this.e_(n)}}class Wie extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ke(ae.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(ae.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ae.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class qie{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Qr(n),this.f_=!1):Me("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Kie{constructor(t,n,r,i,s){var o=this;this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,Te.Z)(function*(){var c;Ll(o)&&(Me("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,Te.Z)(function*(l){const h=qe(l);h.C_.add(4),yield h0(h),h.M_.set("Unknown"),h.C_.delete(4),yield tv(h)}),function u(l){return c.apply(this,arguments)})(o))}))}),this.M_=new qie(r,i)}}function tv(e){return pb.apply(this,arguments)}function pb(){return pb=(0,Te.Z)(function*(e){if(Ll(e))for(const t of e.v_)yield t(!0)}),pb.apply(this,arguments)}function h0(e){return gb.apply(this,arguments)}function gb(){return gb=(0,Te.Z)(function*(e){for(const t of e.v_)yield t(!1)}),gb.apply(this,arguments)}function aw(e,t){const n=qe(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),vb(n)?_b(n):g0(n).Ho()&&mb(n,t))}function nv(e,t){const n=qe(e),r=g0(n);n.D_.delete(t),r.Ho()&&T8(n,t),0===n.D_.size&&(r.Ho()?r.Zo():Ll(n)&&n.M_.set("Unknown"))}function mb(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}g0(e).u_(t)}function T8(e,t){e.x_.Oe(t),g0(e).c_(t)}function _b(e){e.x_=new Kre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),g0(e).start(),e.M_.g_()}function vb(e){return Ll(e)&&!g0(e).jo()&&e.D_.size>0}function Ll(e){return 0===qe(e).C_.size}function A8(e){e.x_=void 0}function Zie(e){return yb.apply(this,arguments)}function yb(){return yb=(0,Te.Z)(function*(e){e.D_.forEach((t,n)=>{mb(e,t)})}),yb.apply(this,arguments)}function Yie(e,t){return xb.apply(this,arguments)}function xb(){return xb=(0,Te.Z)(function*(e,t){A8(e),vb(e)?(e.M_.w_(t),_b(e)):e.M_.set("Unknown")}),xb.apply(this,arguments)}function Qie(e,t,n){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,Te.Z)(function*(e,t,n){if(e.M_.set("Online"),t instanceof y6&&2===t.state&&t.cause)try{yield(r=(0,Te.Z)(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(e,t)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield cw(e,r)}else if(t instanceof WE?e.x_.$e(t):t instanceof v6?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(xt.min()))try{const r=yield h8(e.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const l=s.D_.get(u);l&&s.D_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const l=s.D_.get(c);if(!l)return;s.D_.set(c,l.withResumeToken(Ii.EMPTY_BYTE_STRING,l.snapshotVersion)),T8(s,c);const h=new hu(l.target,c,u,l.sequenceNumber);mb(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n))}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),yield cw(e,r)}var r}),Eb.apply(this,arguments)}function cw(e,t,n){return wb.apply(this,arguments)}function wb(){return wb=(0,Te.Z)(function*(e,t,n){if(!Al(t))throw t;e.C_.add(1),yield h0(e),e.M_.set("Offline"),n||(n=()=>h8(e.localStore)),e.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Me("RemoteStore","Retrying IndexedDB access"),yield n(),e.C_.delete(1),yield tv(e)}))}),wb.apply(this,arguments)}function C8(e,t){return t().catch(n=>cw(e,n,t))}function p0(e){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,Te.Z)(function*(e){const t=qe(e),n=Vl(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Xie(t);)try{const i=yield Oie(t.localStore,r);if(null===i){0===t.b_.length&&n.Zo();break}r=i.batchId,Jie(t,i)}catch(i){yield cw(t,i)}S8(t)&&D8(t)}),Ib.apply(this,arguments)}function Xie(e){return Ll(e)&&e.b_.length<10}function Jie(e,t){e.b_.push(t);const n=Vl(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function S8(e){return Ll(e)&&!Vl(e).jo()&&e.b_.length>0}function D8(e){Vl(e).start()}function ese(e){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,Te.Z)(function*(e){Vl(e).E_()}),Tb.apply(this,arguments)}function tse(e){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,Te.Z)(function*(e){const t=Vl(e);for(const n of e.b_)t.P_(n.mutations)}),Ab.apply(this,arguments)}function nse(e,t,n){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,Te.Z)(function*(e,t,n){const r=e.b_.shift(),i=OD.from(r,t,n);yield C8(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield p0(e)}),Cb.apply(this,arguments)}function rse(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,Te.Z)(function*(e,t){var n;t&&Vl(e).h_&&(yield(n=(0,Te.Z)(function*(i,s){if(h6(a=s.code)&&a!==ae.ABORTED){const o=i.b_.shift();Vl(i).Yo(),yield C8(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield p0(i)}var a}),function r(i,s){return n.apply(this,arguments)})(e,t)),S8(e)&&D8(e)}),Sb.apply(this,arguments)}function b8(e,t){return Db.apply(this,arguments)}function Db(){return Db=(0,Te.Z)(function*(e,t){const n=qe(e);n.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=Ll(n);n.C_.add(3),yield h0(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),yield tv(n)}),Db.apply(this,arguments)}function bb(e,t){return kb.apply(this,arguments)}function kb(){return kb=(0,Te.Z)(function*(e,t){const n=qe(e);t?(n.C_.delete(2),yield tv(n)):t||(n.C_.add(2),yield h0(n),n.M_.set("Unknown"))}),kb.apply(this,arguments)}function g0(e){return e.O_||(e.O_=function(n,r,i){const s=qe(n);return s.A_(),new $ie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:Zie.bind(null,e),Io:Yie.bind(null,e),a_:Qie.bind(null,e)}),e.v_.push(function(){var t=(0,Te.Z)(function*(n){n?(e.O_.Yo(),vb(e)?_b(e):e.M_.set("Unknown")):(yield e.O_.stop(),A8(e))});return function(n){return t.apply(this,arguments)}}())),e.O_}function Vl(e){return e.N_||(e.N_=function(n,r,i){const s=qe(n);return s.A_(),new Gie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:ese.bind(null,e),Io:rse.bind(null,e),T_:tse.bind(null,e),I_:nse.bind(null,e)}),e.v_.push(function(){var t=(0,Te.Z)(function*(n){n?(e.N_.Yo(),yield p0(e)):(yield e.N_.stop(),e.b_.length>0&&(Me("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))});return function(n){return t.apply(this,arguments)}}())),e.N_}class Rb{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Rb(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m0(e,t){if(Qr("AsyncQueue",`${t}: ${e}`),Al(e))return new ke(ae.UNAVAILABLE,`${t}: ${e}`);throw e}class _0{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=L_(),this.sortedSet=new sr(this.comparator)}static emptySet(t){return new _0(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof _0)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,n){const r=new _0;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class k8{constructor(){this.B_=new sr(Ze.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?0!==t.type&&3===r.type?this.B_=this.B_.insert(n,t):3===t.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.B_=this.B_.remove(n):1===t.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):ot():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class v0{constructor(t,n,r,i,s,o,a,c,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new v0(t,n,_0.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&F_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ise{constructor(){this.k_=void 0,this.listeners=[]}}class sse{constructor(){this.queries=new fu(t=>KB(t),F_),this.onlineState="Unknown",this.q_=new Set}}function Pb(e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,Te.Z)(function*(e,t){const n=qe(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ise),i)try{s.k_=yield n.onListen(r)}catch(o){const a=m0(o,`Initialization of query '${Jp(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&Ob(n)}),Nb.apply(this,arguments)}function Mb(e,t){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,Te.Z)(function*(e,t){const n=qe(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Fb.apply(this,arguments)}function ose(e,t){const n=qe(e);let r=!1;for(const i of t){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Ob(n)}function ase(e,t,n){const r=qe(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Ob(e){e.q_.forEach(t=>{t.next()})}class Lb{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new v0(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){return!t.fromCache||(!this.options.J_||!("Offline"!==n))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===n)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=v0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class cse{constructor(t,n){this.Y_=t,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class R8{constructor(t){this.serializer=t}hs(t){return xc(this.serializer,t)}Ps(t){return t.metadata.exists?D6(this.serializer,t.document,!1):mr.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return Xr(t)}}class use{constructor(t,n,r){this.X_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=P8(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let n=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++n;const r=In.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(t){const n=new Map,r=new R8(this.serializer);for(const i of t)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||zt()).add(s);n.set(o,a)}}return n}complete(){var t=this;return(0,Te.Z)(function*(){const n=yield function Lie(e,t,n,r){return sb.apply(this,arguments)}(t.localStore,new R8(t.serializer),t.documents,t.X_.id),r=t.ta(t.documents);for(const i of t.queries)yield Vie(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:n}})()}}function P8(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class N8{constructor(t){this.key=t}}class M8{constructor(t){this.key=t}}class F8{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=zt(),this.mutatedKeys=zt(),this._a=YB(t),this.aa=new _0(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new k8,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((l,h)=>{const g=i.get(l),_=O_(this.query,h)?h:null,y=!!g&&this.mutatedKeys.has(g.key),v=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let x=!1;g&&_?g.data.isEqual(_.data)?y!==v&&(r.track({type:3,doc:_}),x=!0):this.ha(g,_)||(r.track({type:2,doc:_}),x=!0,(c&&this._a(_,c)>0||u&&this._a(_,u)<0)&&(a=!0)):!g&&_?(r.track({type:0,doc:_}),x=!0):g&&!_&&(r.track({type:1,doc:g}),x=!0,(c||u)&&(a=!0)),x&&(_?(o=o.add(_),s=v?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((u,l)=>function(g,_){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return y(g)-y(_)}(u.type,l.type)||this._a(u.doc,l.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new v0(this.query,t.aa,i,s,t.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new k8,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=zt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new M8(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new N8(r))}),n}da(t){this.ia=t.ls,this.oa=zt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return v0.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class lse{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class fse{constructor(t){this.key=t,this.Ra=!1}}class dse{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new fu(a=>KB(a),F_),this.fa=new Map,this.ga=new Set,this.pa=new sr(Ze.comparator),this.ya=new Map,this.wa=new QD,this.Sa={},this.ba=new Map,this.Da=Ad.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function hse(e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,Te.Z)(function*(e,t){const n=a2(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield f0(n.localStore,zs(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Bb(n,t,r,"current"===a,o.resumeToken),n.isPrimaryClient&&aw(n.remoteStore,o)}return i}),Vb.apply(this,arguments)}function Bb(e,t,n,r,i){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,Te.Z)(function*(e,t,n,r,i){e.va=(h,g,_)=>{return(y=(0,Te.Z)(function*(x,T,w,I){let k=T.view.ca(w);k.Zi&&(k=yield nw(x.localStore,T.query,!1).then(({documents:N})=>T.view.ca(N,k)));const O=I&&I.targetChanges.get(T.targetId),q=T.view.applyChanges(k,x.isPrimaryClient,O);return Yb(x,T.targetId,q.Ta),q.snapshot}),function v(x,T,w,I){return y.apply(this,arguments)})(e,h,g,_);var y};const s=yield nw(e.localStore,t,!0),o=new F8(t,s.ls),a=o.ca(s.documents),c=$_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,c);Yb(e,n,u.Ta);const l=new lse(t,n,o);return e.ma.set(t,l),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}),Ub.apply(this,arguments)}function pse(e,t){return jb.apply(this,arguments)}function jb(){return jb=(0,Te.Z)(function*(e,t){const n=qe(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!F_(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield d0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nv(n.remoteStore,r.targetId),y0(n,r.targetId)}).catch(Tl))):(y0(n,r.targetId),yield d0(n.localStore,r.targetId,!0))}),jb.apply(this,arguments)}function Hb(){return Hb=(0,Te.Z)(function*(e,t,n){const r=c2(e);try{const i=yield function(o,a){const c=qe(o),u=Tr.now(),l=a.reduce((_,y)=>_.add(y.key),zt());let h,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let y=ho(),v=zt();return c.ss.getEntries(_,l).next(x=>{y=x,y.forEach((T,w)=>{w.isValidDocument()||(v=v.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,y)).next(x=>{h=x;const T=[];for(const w of a){const I=Gre(w,h.get(w.key).overlayedDocument);null!=I&&T.push(new du(w.key,I,NB(I.value.mapValue),Ar.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,T,a)}).next(x=>{g=x;const T=x.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(_,x.batchId,T)})}).then(()=>({batchId:g.batchId,changes:XB(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new sr(Ft)),u=u.insert(a,c),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield pu(r,i.changes),yield p0(r.remoteStore)}catch(i){const s=m0(i,"Failed to persist write");n.reject(s)}}),Hb.apply(this,arguments)}function O8(e,t){return $b.apply(this,arguments)}function $b(){return $b=(0,Te.Z)(function*(e,t){const n=qe(e);try{const r=yield function Fie(e,t){const n=qe(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((l,h)=>{const g=i.get(h);if(!g)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,h)));let _=g.withSequenceNumber(s.currentSequenceNumber);var v,x,T;null!==t.targetMismatches.get(h)?_=_.withResumeToken(Ii.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):l.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(l.resumeToken,r)),i=i.insert(h,_),x=_,T=l,(0===(v=g).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,_))});let c=ho(),u=zt();if(t.documentUpdates.forEach(l=>{t.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(p8(s,o,t.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(xt.min())){const l=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return X.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?vt(o.Ra):i.removedDocuments.size>0&&(vt(o.Ra),o.Ra=!1))}),yield pu(n,r,t)}catch(r){yield Tl(r)}}),$b.apply(this,arguments)}function L8(e,t,n){const r=qe(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=qe(o);c.onlineState=a;let u=!1;c.queries.forEach((l,h)=>{for(const g of h.listeners)g.Q_(a)&&(u=!0)}),u&&Ob(c)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function mse(e,t,n){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,Te.Z)(function*(e,t,n){const r=qe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new sr(Ze.comparator);o=o.insert(s,mr.newNoDocument(s,xt.min()));const a=zt().add(s),c=new H_(xt.min(),new Map,new sr(Ft),o,a);yield O8(r,c),r.pa=r.pa.remove(s),r.ya.delete(t),Qb(r)}else yield d0(r.localStore,t,!1).then(()=>y0(r,t,n)).catch(Tl)}),Gb.apply(this,arguments)}function _se(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,Te.Z)(function*(e,t){const n=qe(e),r=t.batch.batchId;try{const i=yield function Mie(e,t){const n=qe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){const h=u.batch,g=h.keys();let _=X.resolve();return g.forEach(y=>{_=_.next(()=>l.getEntry(c,y)).next(v=>{const x=u.docVersions.get(y);vt(null!==x),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),l.addEntry(v)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=zt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,t);Zb(n,r,null),Kb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pu(n,i)}catch(i){yield Tl(i)}}),Wb.apply(this,arguments)}function vse(e,t,n){return zb.apply(this,arguments)}function zb(){return zb=(0,Te.Z)(function*(e,t,n){const r=qe(e);try{const i=yield function(o,a){const c=qe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(vt(null!==h),l=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,t);Zb(r,t,n),Kb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield pu(r,i)}catch(i){yield Tl(i)}}),zb.apply(this,arguments)}function qb(){return qb=(0,Te.Z)(function*(e,t){const n=qe(e);Ll(n.remoteStore)||Me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=qe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(-1===r)return void t.resolve();const i=n.ba.get(r)||[];i.push(t),n.ba.set(r,i)}catch(r){const i=m0(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}}),qb.apply(this,arguments)}function Kb(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function Zb(e,t,n){const r=qe(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function y0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||V8(e,r)})}function V8(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(nv(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Qb(e))}function Yb(e,t,n){for(const r of n)r instanceof N8?(e.wa.addReference(r.key,t),xse(e,r)):r instanceof M8?(Me("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||V8(e,r.key)):ot()}function xse(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Me("SyncEngine","New document in limbo: "+n),e.ga.add(r),Qb(e))}function Qb(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Ze(In.fromString(t)),r=e.Da.next();e.ya.set(r,new fse(n)),e.pa=e.pa.insert(n,r),aw(e.remoteStore,new hu(zs(Qp(n.path)),r,"TargetPurposeLimboResolution",Ro._e))}}function pu(e,t,n){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,Te.Z)(function*(e,t,n){const r=qe(e),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=nb.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,Te.Z)(function*(u,l){const h=qe(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>X.forEach(l,_=>X.forEach(_.ki,y=>h.persistence.referenceDelegate.addReference(g,_.targetId,y)).next(()=>X.forEach(_.qi,y=>h.persistence.referenceDelegate.removeReference(g,_.targetId,y)))))}catch(g){if(!Al(g))throw g;Me("LocalStore","Failed to update sequence numbers: "+g)}for(const g of l){const _=g.targetId;if(!g.fromCache){const y=h.ts.get(_),x=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);h.ts=h.ts.insert(_,x)}}}),function c(u,l){return a.apply(this,arguments)})(r.localStore,s))}),Xb.apply(this,arguments)}function Ese(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,Te.Z)(function*(e,t){const n=qe(e);if(!n.currentUser.isEqual(t)){Me("SyncEngine","User change. New user:",t.toKey());const r=yield d8(n.localStore,t);n.currentUser=t,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new ke(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield pu(n,r._s)}var s}),Jb.apply(this,arguments)}function wse(e,t){const n=qe(e),r=n.ya.get(t);if(r&&r.Ra)return zt().add(r.key);{let i=zt();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function Ise(e,t){return e2.apply(this,arguments)}function e2(){return e2=(0,Te.Z)(function*(e,t){const n=qe(e),r=yield nw(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&Yb(n,t.targetId,i.Ta),i}),e2.apply(this,arguments)}function Tse(e,t){return t2.apply(this,arguments)}function t2(){return t2=(0,Te.Z)(function*(e,t){const n=qe(e);return m8(n.localStore,t).then(r=>pu(n,r))}),t2.apply(this,arguments)}function Ase(e,t,n,r){return n2.apply(this,arguments)}function n2(){return n2=(0,Te.Z)(function*(e,t,n,r){const i=qe(e),s=yield function(a,c){const u=qe(a),l=qe(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>l.Cn(h,c).next(g=>g?u.localDocuments.getDocuments(h,g):X.resolve(null)))}(i.localStore,t);var c;null!==s?("pending"===n?yield p0(i.remoteStore):"acknowledged"===n||"rejected"===n?(Zb(i,t,r||null),Kb(i,t),c=t,qe(qe(i.localStore).mutationQueue).Fn(c)):ot(),yield pu(i,s)):Me("SyncEngine","Cannot apply mutation batch with id: "+t)}),n2.apply(this,arguments)}function r2(){return r2=(0,Te.Z)(function*(e,t){const n=qe(e);if(a2(n),c2(n),!0===t&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield B8(n,r.toArray());n.Ca=!0,yield bb(n.remoteStore,!0);for(const s of i)aw(n.remoteStore,s)}else if(!1===t&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(y0(n,o),d0(n.localStore,o,!0))),nv(n.remoteStore,o)}),yield i,yield B8(n,r),function(o){const a=qe(o);a.ya.forEach((c,u)=>{nv(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new sr(Ze.comparator)}(n),n.Ca=!1,yield bb(n.remoteStore,!1)}}),r2.apply(this,arguments)}function B8(e,t,n){return i2.apply(this,arguments)}function i2(){return i2=(0,Te.Z)(function*(e,t,n){const r=qe(e),i=[],s=[];for(const o of t){let a;const c=r.fa.get(o);if(c&&0!==c.length){a=yield f0(r.localStore,zs(c[0]));for(const u of c){const l=r.ma.get(u),h=yield Ise(r,l);h.snapshot&&s.push(h.snapshot)}}else{const u=yield g8(r.localStore,o);a=yield f0(r.localStore,u),yield Bb(r,U8(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),i2.apply(this,arguments)}function U8(e){return WB(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Sse(e){return n=qe(e).localStore,qe(qe(n).persistence).Bi();var n}function Dse(e,t,n,r){return s2.apply(this,arguments)}function s2(){return s2=(0,Te.Z)(function*(e,t,n,r){const i=qe(e);if(i.Ca)return void Me("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=yield m8(i.localStore,ZB(s[0])),a=H_.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ii.EMPTY_BYTE_STRING);yield pu(i,o,a);break}case"rejected":yield d0(i.localStore,t,!0),y0(i,t,r);break;default:ot()}}),s2.apply(this,arguments)}function bse(e,t,n){return o2.apply(this,arguments)}function o2(){return o2=(0,Te.Z)(function*(e,t,n){const r=a2(e);if(r.Ca){for(const i of t){if(r.fa.has(i)){Me("SyncEngine","Adding an already active target "+i);continue}const s=yield g8(r.localStore,i),o=yield f0(r.localStore,s);yield Bb(r,U8(s),o.targetId,!1,o.resumeToken),aw(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&(yield d0(r.localStore,i,!1).then(()=>{nv(r.remoteStore,i),y0(r,i)}).catch(Tl))}}),o2.apply(this,arguments)}function a2(e){const t=qe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=O8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wse.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mse.bind(null,t),t.Va.a_=ose.bind(null,t.eventManager),t.Va.Fa=ase.bind(null,t.eventManager),t}function c2(e){const t=qe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_se.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vse.bind(null,t),t}class rv{constructor(){this.synchronizeTabs=!1}initialize(t){var n=this;return(0,Te.Z)(function*(){n.serializer=ev(t.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(t),n.persistence=n.createPersistence(t),yield n.persistence.start(),n.localStore=n.createLocalStore(t),n.gcScheduler=n.createGarbageCollectionScheduler(t,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(t,n.localStore)})()}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return f8(this.persistence,new l8,t.initialUser,this.serializer)}createPersistence(t){return new XD(JE.jr,this.serializer)}createSharedClientState(t){return new x8}terminate(){var t=this;return(0,Te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class u2 extends rv{constructor(t,n,r){super(),this.xa=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var n=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield n().call(r,t),yield r.xa.initialize(r,t),yield c2(r.xa.syncEngine),yield p0(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return f8(this.persistence,new l8,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,n){return new t8(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,n)}createIndexBackfillerScheduler(t,n){const r=new nre(n,this.persistence);return new tre(t.asyncQueue,r)}createPersistence(t){const n=tb(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new eb(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,w8(),ow(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new x8}}class j8 extends u2{constructor(t,n){super(t,n,!1),this.xa=t,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(t){var n=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield n().call(r,t);const i=r.xa.syncEngine;r.sharedClientState instanceof lb&&(r.sharedClientState.syncEngine={Ys:Ase.bind(null,i),Zs:Dse.bind(null,i),Xs:bse.bind(null,i),Bi:Sse.bind(null,i),Js:Tse.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,Te.Z)(function*(o){yield function Cse(e,t){return r2.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const n=w8();if(!lb.D(n))throw new ke(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tb(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new lb(n,t.asyncQueue,r,t.clientId,t.initialUser)}}class x0{initialize(t,n){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>L8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ese.bind(null,r.syncEngine),yield bb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new sse}createDatastore(t){const n=ev(t.databaseInfo.databaseId),r=new Hie(t.databaseInfo);return new Wie(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return r=this.localStore,i=this.datastore,s=t.asyncQueue,o=n=>L8(this.syncEngine,n,0),a=E8.D()?new E8:new Bie,new Kie(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(t,n){return function(i,s,o,a,c,u,l){const h=new dse(i,s,o,a,c,u);return l&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return(t=(0,Te.Z)(function*(r){const i=qe(r);Me("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield h0(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return t.apply(this,arguments)})(this.remoteStore);var t}}function H8(e,t=10240){let n=0;return{read:()=>(0,Te.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class uw{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Qr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}class Pse{constructor(t,n){this.Ba=t,this.serializer=n,this.metadata=new wi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,Te.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,Te.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,Te.Z)(function*(){const n=yield t.qa();if(null===n)return null;const r=t.La.decode(n),i=Number(r);isNaN(i)&&t.Qa(`length string (${r}) is not valid number`);const s=yield t.Ka(i);return new cse(JSON.parse(s),n.length+i)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,Te.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const n=t.$a();n<0&&t.Qa("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,n);return t.buffer=t.buffer.slice(n),r})()}Ka(t){var n=this;return(0,Te.Z)(function*(){for(;n.buffer.length<t;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,t));return n.buffer=n.buffer.slice(t),r})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,Te.Z)(function*(){const n=yield t.Ba.read();if(!n.done){const r=new Uint8Array(t.buffer.length+n.value.length);r.set(t.buffer),r.set(n.value,t.buffer.length),t.buffer=r}return n.done})()}}class Nse{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var n=this;return(0,Te.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new ke(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(o,a){const c=qe(o),u=W_(c.serializer)+"/documents",l={documents:a.map(y=>G_(c.serializer,y))},h=yield c.Co("BatchGetDocuments",u,l,a.length),g=new Map;h.forEach(y=>{const v=function eie(e,t){return"found"in t?function(r,i){vt(!!i.found);const s=xc(r,i.found.name),o=Xr(i.found.updateTime),a=i.found.createTime?Xr(i.found.createTime):xt.min(),c=new ts({mapValue:{fields:i.found.fields}});return mr.newFoundDocument(s,o,a,c)}(e,t):"missing"in t?function(r,i){vt(!!i.missing),vt(!!i.readTime);const s=xc(r,i.missing),o=Xr(i.readTime);return mr.newNoDocument(s,o)}(e,t):ot()}(c.serializer,y);g.set(v.key.toString(),v)});const _=[];return a.forEach(y=>{const v=g.get(y.toString());vt(!!v),_.push(v)}),_}),function s(o,a){return i.apply(this,arguments)})(n.datastore,t);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new r0(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const n=t.readVersions;var r;t.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=Ze.fromPath(i);t.mutations.push(new MD(s,t.precondition(s)))}),yield(r=(0,Te.Z)(function*(s,o){const a=qe(s),c=W_(a.serializer)+"/documents",u={writes:o.map(l=>z_(a.serializer,l))};yield a.wo("Commit",c,u)}),function i(s,o){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ot();n=xt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new ke(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(xt.min())?Ar.exists(!1):Ar.updateTime(n):Ar.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(xt.min()))throw new ke(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ar.updateTime(n)}return Ar.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Mse{constructor(t,n,r,i,s){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new db(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,Te.Z)(function*(){const n=new Nse(t.datastore),r=t.za(n);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{t.deferred.resolve(i)}).catch(s=>{t.ja(s)}))}).catch(i=>{t.ja(i)})}))}za(t){try{const n=this.updateFunction(t);return!S_(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const n=t.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!h6(n)}return!1}}class Fse{constructor(t,n,r,i){var s=this;this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mi.UNAUTHENTICATED,this.clientId=uB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Te.Z)(function*(a){Me("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,Te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const n=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=m0(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function lw(e,t){return l2.apply(this,arguments)}function l2(){return l2=(0,Te.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(s){r.isEqual(s)||(yield d8(t.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}),l2.apply(this,arguments)}function f2(e,t){return d2.apply(this,arguments)}function d2(){return d2=(0,Te.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield h2(e);Me("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(i=>b8(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>b8(t.remoteStore,s)),e._onlineComponents=t}),d2.apply(this,arguments)}function $8(e){return"FirebaseError"===e.name?e.code===ae.FAILED_PRECONDITION||e.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function h2(e){return p2.apply(this,arguments)}function p2(){return p2=(0,Te.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lw(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!$8(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),yield lw(e,new rv)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),yield lw(e,new rv);return e._offlineComponents}),p2.apply(this,arguments)}function fw(e){return g2.apply(this,arguments)}function g2(){return g2=(0,Te.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),yield f2(e,e._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),yield f2(e,new x0))),e._onlineComponents}),g2.apply(this,arguments)}function G8(e){return h2(e).then(t=>t.persistence)}function E0(e){return h2(e).then(t=>t.localStore)}function W8(e){return fw(e).then(t=>t.remoteStore)}function m2(e){return fw(e).then(t=>t.syncEngine)}function w0(e){return _2.apply(this,arguments)}function _2(){return _2=(0,Te.Z)(function*(e){const t=yield fw(e),n=t.eventManager;return n.onListen=hse.bind(null,t.syncEngine),n.onUnlisten=pse.bind(null,t.syncEngine),n}),_2.apply(this,arguments)}function q8(e,t,n={}){const r=new wi;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(s,o,a,c,u){const l=new uw({next:g=>{o.enqueueAndForget(()=>Mb(s,h));const _=g.docs.has(a);!_&&g.fromCache?u.reject(new ke(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&"server"===c.source?u.reject(new ke(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new Lb(Qp(a.path),l,{includeMetadataChanges:!0,J_:!0});return Pb(s,h)}(yield w0(e),e.asyncQueue,t,n,r)})),r.promise}function K8(e,t,n={}){const r=new wi;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(s,o,a,c,u){const l=new uw({next:g=>{o.enqueueAndForget(()=>Mb(s,h)),g.fromCache&&"server"===c.source?u.reject(new ke(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new Lb(a,l,{includeMetadataChanges:!0,J_:!0});return Pb(s,h)}(yield w0(e),e.asyncQueue,t,n,r)})),r.promise}function Z8(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Y8=new Map;function v2(e,t,n){if(!n)throw new ke(ae.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Q8(e,t,n,r){if(!0===t&&!0===r)throw new ke(ae.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function X8(e){if(!Ze.isDocumentKey(e))throw new ke(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function J8(e){if(Ze.isDocumentKey(e))throw new ke(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function dw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=(r=e).constructor?r.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var r;return"function"==typeof e?"a function":ot()}function ln(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ke(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dw(e);throw new ke(ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function eU(e,t){if(t<=0)throw new ke(ae.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class tU{constructor(t){var n,r;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Q8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Z8(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ke(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ke(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ke(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class iv{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tU(t),void 0!==t.credentials&&(this._authCredentials=function(r){if(!r)return new $ne;switch(r.type){case"firstParty":return new qne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y8.get(n);r&&(Me("ComponentProvider","Removing Datastore"),Y8.delete(n),r.terminate())}(this),Promise.resolve()}}class ns{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ns(this.firestore,t,this._query)}}class _r{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _r(this.firestore,t,this._key)}}class Ec extends ns{constructor(t,n,r){super(t,n,Qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _r(this.firestore,null,new Ze(t))}withConverter(t){return new Ec(this.firestore,t,this._path)}}function rU(e,t,...n){if(e=(0,Qn.m9)(e),v2("collection","path",t),e instanceof iv){const r=In.fromString(t,...n);return J8(r),new Ec(e,null,r)}{if(!(e instanceof _r||e instanceof Ec))throw new ke(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(In.fromString(t,...n));return J8(r),new Ec(e.firestore,null,r)}}function hw(e,t,...n){if(e=(0,Qn.m9)(e),1===arguments.length&&(t=uB.newId()),v2("doc","path",t),e instanceof iv){const r=In.fromString(t,...n);return X8(r),new _r(e,null,new Ze(r))}{if(!(e instanceof _r||e instanceof Ec))throw new ke(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(In.fromString(t,...n));return X8(r),new _r(e.firestore,e instanceof Ec?e.converter:null,new Ze(r))}}function iU(e,t){return e=(0,Qn.m9)(e),t=(0,Qn.m9)(t),(e instanceof _r||e instanceof Ec)&&(t instanceof _r||t instanceof Ec)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function y2(e,t){return e=(0,Qn.m9)(e),t=(0,Qn.m9)(t),e instanceof ns&&t instanceof ns&&e.firestore===t.firestore&&F_(e._query,t._query)&&e.converter===t.converter}class qse{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new db(this,"async_queue_retry"),this.iu=()=>{const n=ow();n&&Me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=ow();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=ow();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,Te.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(n){if(!Al(n))throw n;Me("AsyncQueue","Operation failed with retryable error: "+n)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{throw this.eu=r,this.tu=!1,Qr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=Rb.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ot()}verifyOperationInProgress(){}uu(){var t=this;return(0,Te.Z)(function*(){let n;do{n=t.Ja,yield n}while(n!==t.Ja)})()}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==t&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function x2(e){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(e)}class Kse{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,n,r){this._progressObserver={next:t,error:n,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,n){return this._taskCompletionResolver.promise.then(t,n)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class or extends iv{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new qse,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sU(this),this._firestoreClient.terminate()}}function Mr(e){return e._firestoreClient||sU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sU(e){var t,n,r;const i=e._freezeSettings(),s=(c=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new Ire(e._databaseId,c,e._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Z8(l.experimentalLongPollingOptions),l.useFetchStreams));var c,l;e._firestoreClient=new Fse(e._authCredentials,e._appCheckCredentials,e._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function oU(e,t,n){const r=new wi;return e.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield lw(e,n),yield f2(e,t),r.resolve()}catch(i){const s=i;if(!$8(s))throw s;lo("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function aU(e){if(e._initialized||e._terminated)throw new ke(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wc(Ii.fromBase64String(t))}catch(n){throw new ke(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new wc(Ii.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class gu{constructor(...t){for(let n=0;n<t.length;++n)if(0===t[n].length)throw new ke(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Sd{constructor(t){this._methodName=t}}class pw{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ke(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ke(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}const soe=/^__.*__$/;class ooe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return null!==this.fieldMask?new du(t,this.data,this.fieldMask,n,this.fieldTransforms):new n0(t,this.data,n,this.fieldTransforms)}}class cU{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new du(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function uU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class gw{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new gw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return vw(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(n=>t.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>t.isPrefixOf(n.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(uU(this.Iu)&&soe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class aoe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ev(t)}pu(t,n,r,i=!1){return new gw({Iu:t,methodName:n,gu:r,path:gr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dd(e){const t=e._freezeSettings(),n=ev(e._databaseId);return new aoe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mw(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);T2("Data must be an object, but it was:",o,r);const a=dU(r,o);let c,u;if(s.merge)c=new fo(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const h of s.mergeFields){const g=av(t,h,n);if(!o.contains(g))throw new ke(ae.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);pU(l,g)||l.push(g)}c=new fo(l),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new ooe(new ts(a),c,u)}class ov extends Sd{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ov}}function lU(e,t,n){return new gw({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class E2 extends Sd{_toFieldTransform(t){return new B_(t.path,new e0)}isEqual(t){return t instanceof E2}}class coe extends Sd{constructor(t,n){super(t),this.yu=n}_toFieldTransform(t){const n=lU(this,t,!0),r=this.yu.map(s=>bd(s,n)),i=new vd(r);return new B_(t.path,i)}isEqual(t){return this===t}}class uoe extends Sd{constructor(t,n){super(t),this.yu=n}_toFieldTransform(t){const n=lU(this,t,!0),r=this.yu.map(s=>bd(s,n)),i=new yd(r);return new B_(t.path,i)}isEqual(t){return this===t}}class loe extends Sd{constructor(t,n){super(t),this.wu=n}_toFieldTransform(t){const n=new t0(t.serializer,n6(t.serializer,this.wu));return new B_(t.path,n)}isEqual(t){return this===t}}function w2(e,t,n,r){const i=e.pu(1,t,n);T2("Data must be an object, but it was:",i,r);const s=[],o=ts.empty();Cl(r,(c,u)=>{const l=_w(t,c,n);u=(0,Qn.m9)(u);const h=i.Ru(l);if(u instanceof ov)s.push(l);else{const g=bd(u,h);null!=g&&(s.push(l),o.set(l,g))}});const a=new fo(s);return new cU(o,a,i.fieldTransforms)}function I2(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[av(t,r,n)],c=[i];if(s.length%2!=0)throw new ke(ae.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(av(t,s[g])),c.push(s[g+1]);const u=[],l=ts.empty();for(let g=a.length-1;g>=0;--g)if(!pU(u,a[g])){const _=a[g];let y=c[g];y=(0,Qn.m9)(y);const v=o.Ru(_);if(y instanceof ov)u.push(_);else{const x=bd(y,v);null!=x&&(u.push(_),l.set(_,x))}}const h=new fo(u);return new cU(l,h,o.fieldTransforms)}function fU(e,t,n,r=!1){return bd(n,e.pu(r?4:3,t))}function bd(e,t){if(hU(e=(0,Qn.m9)(e)))return T2("Unsupported field value:",t,e),dU(e,t);if(e instanceof Sd)return function(r,i){if(!uU(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=bd(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if(null===(r=(0,Qn.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return n6(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Tr.fromDate(r);return{timestampValue:s0(i.serializer,s)}}if(r instanceof Tr){const s=new Tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:s0(i.serializer,s)}}if(r instanceof pw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wc)return{bytesValue:I6(i.serializer,r._byteString)};if(r instanceof _r){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${dw(r)}`)}(e,t)}function dU(e,t){const n={};return TB(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cl(e,(r,i)=>{const s=bd(i,t.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function hU(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tr||e instanceof pw||e instanceof wc||e instanceof _r||e instanceof Sd)}function T2(e,t,n){if(!hU(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=dw(n);throw t.mu("an object"===r?e+" a custom object":e+" "+r)}var i}function av(e,t,n){if((t=(0,Qn.m9)(t))instanceof gu)return t._internalPath;if("string"==typeof t)return _w(e,t);throw vw("Field path arguments must be of type string or ",e,!1,void 0,n)}const foe=new RegExp("[~\\*/\\[\\]]");function _w(e,t,n){if(t.search(foe)>=0)throw vw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new gu(...t.split("."))._internalPath}catch{throw vw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function vw(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ke(ae.INVALID_ARGUMENT,a+e+c)}function pU(e,t){return e.some(n=>n.isEqual(t))}class cv{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new doe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(yw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n)}}}class doe extends cv{data(){return super.data()}}function yw(e,t){return"string"==typeof t?_w(e,t):t instanceof gu?t._internalPath:t._delegate._internalPath}function gU(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ke(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A2{}class uv extends A2{}function Bl(e,t,...n){let r=[];t instanceof A2&&r.push(t),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof I0).length,a=s.filter(c=>c instanceof lv).length;if(o>1||o>0&&a>0)throw new ke(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class lv extends uv{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new lv(t,n,r)}_apply(t){const n=this._parse(t);return yU(t._query,n),new ns(t.firestore,t.converter,PD(t._query,n))}_parse(t){const n=Dd(t.firestore);return function(s,o,a,c,u,l,h){let g;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new ke(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){vU(h,l);const _=[];for(const y of h)_.push(_U(c,s,y));g={arrayValue:{values:_}}}else g=_U(c,s,h)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||vU(h,l),g=fU(a,"where",h,"in"===l||"not-in"===l);return _n.create(u,l,g)}(t._query,0,n,t.firestore._databaseId,this._field,this._op,this._value)}}class I0 extends A2{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new I0(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:jn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return 0===n.getFilters().length?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)yU(o,c),o=PD(o,c)}(t._query,n),new ns(t.firestore,t.converter,PD(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class C2 extends uv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new C2(t,n)}_apply(t){const n=function(i,s,o){if(null!==i.startAt)throw new ke(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new N_(s,o)}(t._query,this._field,this._direction);return new ns(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new lu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}class xw extends uv{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new xw(t,n,r)}_apply(t){return new ns(t.firestore,t.converter,UE(t._query,this._limit,this._limitType))}}class Ew extends uv{constructor(t,n,r){super(),this.type=t,this._docOrFields=n,this._inclusive=r}static _create(t,n,r){return new Ew(t,n,r)}_apply(t){const n=mU(t,this.type,this._docOrFields,this._inclusive);return new ns(t.firestore,t.converter,(s=n,new lu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class ww extends uv{constructor(t,n,r){super(),this.type=t,this._docOrFields=n,this._inclusive=r}static _create(t,n,r){return new ww(t,n,r)}_apply(t){const n=mU(t,this.type,this._docOrFields,this._inclusive);return new ns(t.firestore,t.converter,(s=n,new lu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function mU(e,t,n,r){if(n[0]=(0,Qn.m9)(n[0]),n[0]instanceof cv)return function(s,o,a,c,u){if(!c)throw new ke(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const l=[];for(const h of Xp(s))if(h.field.isKeyField())l.push(md(o,c.key));else{const g=c.data.field(h.field);if(NE(g))throw new ke(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const _=h.field.canonicalString();throw new ke(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}l.push(g)}return new Pl(l,u)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Dd(e.firestore);return function(o,a,c,u,l,h){const g=o.explicitOrderBy;if(l.length>g.length)throw new ke(ae.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let y=0;y<l.length;y++){const v=l[y];if(g[y].field.isKeyField()){if("string"!=typeof v)throw new ke(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!RD(o)&&-1!==v.indexOf("/"))throw new ke(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const x=o.path.child(In.fromString(v));if(!Ze.isDocumentKey(x))throw new ke(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const T=new Ze(x);_.push(md(a,T))}else{const x=fU(c,u,v);_.push(x)}}return new Pl(_,h)}(e._query,e.firestore._databaseId,i,t,n,r)}}function _U(e,t,n){if("string"==typeof(n=(0,Qn.m9)(n))){if(""===n)throw new ke(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RD(t)&&-1!==n.indexOf("/"))throw new ke(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(In.fromString(n));if(!Ze.isDocumentKey(r))throw new ke(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return md(e,new Ze(r))}if(n instanceof _r)return md(e,n._key);throw new ke(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dw(n)}.`)}function vU(e,t){if(!Array.isArray(e)||0===e.length)throw new ke(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yU(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new ke(ae.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class S2{convertValue(t,n="none"){switch(kl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(uu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ot()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Cl(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new pw(Nr(t.latitude),Nr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ME(t);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(b_(t));default:return null}}convertTimestamp(t){const n=Sl(t);return new Tr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=In.fromString(t);vt(N6(r));const i=new Dl(r.get(1),r.get(3)),s=new Ze(r.popFirst(5));return i.isEqual(n)||Qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function Iw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Eoe extends S2{constructor(t){super(),this.firestore=t}convertBytes(t){return new wc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _r(this.firestore,null,n)}}class kd{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mu extends cv{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(yw("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fv extends mu{data(t={}){return super.data(t)}}class Ul{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new fv(this._firestore,this._userDataWriter,r.key,r,new kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new fv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new fv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,l=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:Ioe(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ioe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function EU(e,t){return e instanceof mu&&t instanceof mu?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ul&&t instanceof Ul&&e._firestore===t._firestore&&y2(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class jl extends S2{constructor(t){super(),this.firestore=t}convertBytes(t){return new wc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function wU(e,t,n){e=ln(e,_r);const r=ln(e.firestore,or),i=Iw(e.converter,t,n);return T0(r,[mw(Dd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ar.none())])}function IU(e,t,n,...r){e=ln(e,_r);const i=ln(e.firestore,or),s=Dd(i);let o;return o="string"==typeof(t=(0,Qn.m9)(t))||t instanceof gu?I2(s,"updateDoc",e._key,t,n,r):w2(s,"updateDoc",e._key,t),T0(i,[o.toMutation(e._key,Ar.exists(!0))])}function TU(e,...t){var n,r,i;e=(0,Qn.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||x2(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(x2(t[o])){const h=t[o];t[o]=null===(n=h.next)||void 0===n?void 0:n.bind(h),t[o+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),t[o+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let c,u,l;if(e instanceof _r)u=ln(e.firestore,or),l=Qp(e._key.path),c={next:h=>{t[o]&&t[o](D2(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=ln(e,ns);u=ln(h.firestore,or),l=h._query;const g=new jl(u);c={next:_=>{t[o]&&t[o](new Ul(u,g,h,_))},error:t[o+1],complete:t[o+2]},gU(e._query)}return function(g,_,y,v){const x=new uw(v),T=new Lb(_,x,y);return g.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Pb(yield w0(g),T)})),()=>{x.Na(),g.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Mb(yield w0(g),T)}))}}(Mr(u),l,a,c)}function T0(e,t){return function(r,i){const s=new wi;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function gse(e,t,n){return Hb.apply(this,arguments)}(yield m2(r),i,s)})),s.promise}(Mr(e),t)}function D2(e,t,n){const r=n.docs.get(t._key),i=new jl(e);return new mu(e,i,t._key,r,new kd(n.hasPendingWrites,n.fromCache),t.converter)}const joe={maxAttempts:5};class AU{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Dd(t)}set(t,n,r){this._verifyNotCommitted();const i=Hl(t,this._firestore),s=Iw(i.converter,n,r),o=mw(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Ar.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=Hl(t,this._firestore);let o;return o="string"==typeof(n=(0,Qn.m9)(n))||n instanceof gu?I2(this._dataReader,"WriteBatch.update",s._key,n,r,i):w2(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ar.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Hl(t,this._firestore);return this._mutations=this._mutations.concat(new r0(n._key,Ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hl(e,t){if((e=(0,Qn.m9)(e)).firestore!==t)throw new ke(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Hoe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Dd(n)}get(n){const r=Hl(n,this._firestore),i=new Eoe(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return ot();const o=s[0];if(o.isFoundDocument())return new cv(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new cv(this._firestore,i,r._key,null,r.converter);throw ot()})}set(n,r,i){const s=Hl(n,this._firestore),o=Iw(s.converter,r,i),a=mw(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Hl(n,this._firestore);let a;return a="string"==typeof(r=(0,Qn.m9)(r))||r instanceof gu?I2(this._dataReader,"Transaction.update",o._key,r,i,s):w2(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Hl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Hl(t,this._firestore),r=new jl(this._firestore);return super.get(t).then(i=>new mu(this._firestore,r,n._key,i._document,new kd(!1,!1),n.converter))}}function k2(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function bU(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function kU(){if(!function Ere(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,n=!0){$p=Np.SDK_VERSION,(0,Np._registerComponent)(new $V.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new or(new Wne(r.getProvider("auth-internal")),new Kne(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ke(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Np.registerVersion)(oB,"4.3.2",t),(0,Np.registerVersion)(oB,"4.3.2","esm2017")}();class dv{constructor(t){this._delegate=t}static fromBase64String(t){return kU(),new dv(wc.fromBase64String(t))}static fromUint8Array(t){return bU(),new dv(wc.fromUint8Array(t))}toBase64(){return kU(),this._delegate.toBase64()}toUint8Array(){return bU(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function R2(e){return function Xoe(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Joe{enableIndexedDbPersistence(t,n){return function Yse(e,t){aU(e=ln(e,or));const n=Mr(e);if(n._uninitializedComponentsProvider)throw new ke(ae.FAILED_PRECONDITION,"SDK cache is already specified.");lo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new x0;return oU(n,i,new u2(i,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(t){return function Qse(e){aU(e=ln(e,or));const t=Mr(e);if(t._uninitializedComponentsProvider)throw new ke(ae.FAILED_PRECONDITION,"SDK cache is already specified.");lo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new x0;return oU(t,r,new j8(r,n.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Xse(e){if(e._initialized&&!e._terminated)throw new ke(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new wi;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(n=(0,Te.Z)(function*(i){if(!Ua.D())return Promise.resolve();const s=i+"main";yield Ua.delete(s)}),function r(i){return n.apply(this,arguments)})(tb(e._databaseId,e._persistenceKey)),t.resolve()}catch(n){t.reject(n)}var n})),t.promise}(t._delegate)}}class RU{constructor(t,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Dl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const n=this._delegate._getSettings();!t.merge&&n.host!==t.host&&lo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)}useEmulator(t,n,r={}){!function nU(e,t,n,r={}){var i;const s=(e=ln(e,iv))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Mi.MOCK_USER;else{a=(0,Qn.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ke(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Mi(u)}e._authCredentials=new Gne(new aB(a,c))}}(this._delegate,t,n,r)}enableNetwork(){return function eoe(e){return function Ose(e){return e.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield G8(e),n=yield W8(e);return t.setNetworkEnabled(!0),function(i){const s=qe(i);return s.C_.delete(0),tv(s)}(n)}))}(Mr(e=ln(e,or)))}(this._delegate)}disableNetwork(){return function toe(e){return function Lse(e){return e.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield G8(e),n=yield W8(e);return t.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(s){const o=qe(s);o.C_.add(0),yield h0(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(n);var r}))}(Mr(e=ln(e,or)))}(this._delegate)}enablePersistence(t){let n=!1,r=!1;return t&&(n=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,Q8("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Jse(e){return function(n){const r=new wi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function yse(e,t){return qb.apply(this,arguments)}(yield m2(n),r)})),r.promise}(Mr(e=ln(e,or)))}(this._delegate)}onSnapshotsInSync(t){return function Poe(e,t){return function Use(e,t){const n=new uw(t);return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield w0(e),s=n,qe(i).q_.add(s),void s.next();var i,s})),()=>{n.Na(),e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield w0(e),s=n,void qe(i).q_.delete(s);var i,s}))}}(Mr(e=ln(e,or)),x2(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new A0(this,rU(this._delegate,t))}catch(n){throw qs(n,"collection()","Firestore.collection()")}}doc(t){try{return new ua(this,hw(this._delegate,t))}catch(n){throw qs(n,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ks(this,function zse(e,t){if(e=ln(e,iv),v2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(ae.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(e,null,(r=t,new lu(In.emptyPath(),r)));var r}(this._delegate,t))}catch(n){throw qs(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function $oe(e,t,n){e=ln(e,or);const r=Object.assign(Object.assign({},joe),n);return function(s){if(s.maxAttempts<1)throw new ke(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const c=new wi;return s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const u=yield function z8(e){return fw(e).then(t=>t.datastore)}(s);new Mse(s.asyncQueue,u,a,o,c).run()})),c.promise}(Mr(e),i=>t(new Hoe(e,i)),r)}(this._delegate,n=>t(new PU(this,n)))}batch(){return Mr(this._delegate),new NU(new AU(this._delegate,t=>T0(this._delegate,t)))}loadBundle(t){return function noe(e,t){const n=Mr(e=ln(e,or)),r=new Kse;return function jse(e,t,n,r){const i=function(o,a){let c;return c="string"==typeof o?g6().encode(o):o,l=function(l,h){if(l instanceof Uint8Array)return H8(l,h);if(l instanceof ArrayBuffer)return H8(new Uint8Array(l),h);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Pse(l,a);var l}(n,ev(t));e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function kse(e,t,n){const r=qe(e);var i;(i=(0,Te.Z)(function*(o,a,c){try{const u=yield a.getMetadata();if(yield function(y,v){const x=qe(y),T=Xr(v.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",w=>x.Kr.getBundleMetadata(w,v.id)).then(w=>!!w&&w.createTime.compareTo(T)>=0)}(o.localStore,u))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(y=u).totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}),Promise.resolve(new Set);c._updateProgress(P8(u));const l=new use(u,o.localStore,a.serializer);let h=yield a.Ma();for(;h;){const _=yield l.ea(h);_&&c._updateProgress(_),h=yield a.Ma()}const g=yield l.complete();return yield pu(o,g.ra,void 0),yield function(y,v){const x=qe(y);return x.persistence.runTransaction("Save bundle","readwrite",T=>x.Kr.saveBundleMetadata(T,v))}(o.localStore,u),c._completeWith(g.progress),Promise.resolve(g.na)}catch(u){return lo("SyncEngine",`Loading bundle failed with ${u}`),c._failWith(u),Promise.resolve(new Set)}var y}),function s(o,a,c){return i.apply(this,arguments)})(r,t,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield m2(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function roe(e,t){return function Hse(e,t){return e.asyncQueue.enqueue((0,Te.Z)(function*(){return function(r,i){const s=qe(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield E0(e),t)}))}(Mr(e=ln(e,or)),t).then(n=>n?new ns(e,null,n.query):null)}(this._delegate,t).then(n=>n?new Ks(this,n):null)}}class Aw extends S2{constructor(t){super(),this.firestore=t}convertBytes(t){return new dv(new wc(t))}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return ua.forKey(n,this.firestore,null)}}class PU{constructor(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Aw(t)}get(t){const n=Pd(t);return this._delegate.get(n).then(r=>new hv(this._firestore,new mu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(t,n,r){const i=Pd(t);return r?(k2("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(t,n,r,...i){const s=Pd(t);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(t){const n=Pd(t);return this._delegate.delete(n),this}}class NU{constructor(t){this._delegate=t}set(t,n,r){const i=Pd(t);return r?(k2("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(t,n,r,...i){const s=Pd(t);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(t){const n=Pd(t);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Rd{constructor(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}fromFirestore(t,n){const r=new fv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new pv(this._firestore,r),n??{})}toFirestore(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)}static getInstance(t,n){const r=Rd.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(n);return s||(s=new Rd(t,new Aw(t),n),i.set(n,s)),s}}Rd.INSTANCES=new WeakMap;class ua{constructor(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Aw(t)}static forPath(t,n,r){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ua(n,new _r(n._delegate,r,new Ze(t)))}static forKey(t,n,r){return new ua(n,new _r(n._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new A0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new A0(this.firestore,rU(this._delegate,t))}catch(n){throw qs(n,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Qn.m9)(t))instanceof _r&&iU(this._delegate,t)}set(t,n){n=k2("DocumentReference.set",n);try{return n?wU(this._delegate,t,n):wU(this._delegate,t)}catch(r){throw qs(r,"setDoc()","DocumentReference.set()")}}update(t,n,...r){try{return 1===arguments.length?IU(this._delegate,t):IU(this._delegate,t,n,...r)}catch(i){throw qs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function koe(e){return T0(ln(e.firestore,or),[new r0(e._key,Ar.none())])}(this._delegate)}onSnapshot(...t){const n=MU(t),r=FU(t,i=>new hv(this.firestore,new mu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return TU(this._delegate,n,r)}get(t){let n;return n="cache"===t?.source?function Aoe(e){e=ln(e,_r);const t=ln(e.firestore,or),n=Mr(t),r=new jl(t);return function Vse(e,t){const n=new wi;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(s,o,a){try{const c=yield function(l,h){const g=qe(l);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,h))}(s,o);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ke(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const u=m0(c,`Failed to get document '${o} from cache`);a.reject(u)}}),function i(s,o,a){return r.apply(this,arguments)})(yield E0(e),t,n);var r})),n.promise}(n,e._key).then(i=>new mu(t,r,e._key,i,new kd(null!==i&&i.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===t?.source?function Coe(e){e=ln(e,_r);const t=ln(e.firestore,or);return q8(Mr(t),e._key,{source:"server"}).then(n=>D2(t,e,n))}(this._delegate):function Toe(e){e=ln(e,_r);const t=ln(e.firestore,or);return q8(Mr(t),e._key).then(n=>D2(t,e,n))}(this._delegate),n.then(r=>new hv(this.firestore,new mu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new ua(this.firestore,this._delegate.withConverter(t?Rd.getInstance(this.firestore,t):null))}}function qs(e,t,n){return e.message=e.message.replace(t,n),e}function MU(e){for(const t of e)if("object"==typeof t&&!R2(t))return t;return{}}function FU(e,t){var n,r;let i;return i=R2(e[0])?e[0]:R2(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:s=>{i.next&&i.next(t(s))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class hv{constructor(t,n){this._firestore=t,this._delegate=n}get ref(){return new ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,n){return this._delegate.get(t,n)}isEqual(t){return EU(this._delegate,t._delegate)}}class pv extends hv{data(t){const n=this._delegate.data(t);return function Hne(e,t){e||ot()}(void 0!==n),n}}class Ks{constructor(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Aw(t)}where(t,n,r){try{return new Ks(this.firestore,Bl(this._delegate,function hoe(e,t,n){const r=t,i=yw("where",e);return lv._create(i,r,n)}(t,n,r)))}catch(i){throw qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,n){try{return new Ks(this.firestore,Bl(this._delegate,function poe(e,t="asc"){const n=t,r=yw("orderBy",e);return C2._create(r,n)}(t,n)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ks(this.firestore,Bl(this._delegate,function goe(e){return eU("limit",e),xw._create("limit",e,"F")}(t)))}catch(n){throw qs(n,"limit()","Query.limit()")}}limitToLast(t){try{return new Ks(this.firestore,Bl(this._delegate,function moe(e){return eU("limitToLast",e),xw._create("limitToLast",e,"L")}(t)))}catch(n){throw qs(n,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ks(this.firestore,Bl(this._delegate,function _oe(...e){return Ew._create("startAt",e,!0)}(...t)))}catch(n){throw qs(n,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ks(this.firestore,Bl(this._delegate,function voe(...e){return Ew._create("startAfter",e,!1)}(...t)))}catch(n){throw qs(n,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ks(this.firestore,Bl(this._delegate,function yoe(...e){return ww._create("endBefore",e,!1)}(...t)))}catch(n){throw qs(n,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ks(this.firestore,Bl(this._delegate,function xoe(...e){return ww._create("endAt",e,!0)}(...t)))}catch(n){throw qs(n,"endAt()","Query.endAt()")}}isEqual(t){return y2(this._delegate,t._delegate)}get(t){let n;return n="cache"===t?.source?function Doe(e){e=ln(e,ns);const t=ln(e.firestore,or),n=Mr(t),r=new jl(t);return function Bse(e,t){const n=new wi;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(s,o,a){try{const c=yield nw(s,o,!0),u=new F8(o,c.ls),l=u.ca(c.documents),h=u.applyChanges(l,!1);a.resolve(h.snapshot)}catch(c){const u=m0(c,`Failed to execute query '${o} against cache`);a.reject(u)}}),function i(s,o,a){return r.apply(this,arguments)})(yield E0(e),t,n);var r})),n.promise}(n,e._query).then(i=>new Ul(t,r,e,i))}(this._delegate):"server"===t?.source?function boe(e){e=ln(e,ns);const t=ln(e.firestore,or),n=Mr(t),r=new jl(t);return K8(n,e._query,{source:"server"}).then(i=>new Ul(t,r,e,i))}(this._delegate):function Soe(e){e=ln(e,ns);const t=ln(e.firestore,or),n=Mr(t),r=new jl(t);return gU(e._query),K8(n,e._query).then(i=>new Ul(t,r,e,i))}(this._delegate),n.then(r=>new P2(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const n=MU(t),r=FU(t,i=>new P2(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return TU(this._delegate,n,r)}withConverter(t){return new Ks(this.firestore,this._delegate.withConverter(t?Rd.getInstance(this.firestore,t):null))}}class tae{constructor(t,n){this._firestore=t,this._delegate=n}get type(){return this._delegate.type}get doc(){return new pv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class P2{constructor(t,n){this._firestore=t,this._delegate=n}get query(){return new Ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new pv(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(n=>new tae(this._firestore,n))}forEach(t,n){this._delegate.forEach(r=>{t.call(n,new pv(this._firestore,r))})}isEqual(t){return EU(this._delegate,t._delegate)}}class A0 extends Ks{constructor(t,n){super(t,n),this.firestore=t,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ua(this.firestore,t):null}doc(t){try{return new ua(this.firestore,void 0===t?hw(this._delegate):hw(this._delegate,t))}catch(n){throw qs(n,"doc()","CollectionReference.doc()")}}add(t){return function Roe(e,t){const n=ln(e.firestore,or),r=hw(e),i=Iw(e.converter,t);return T0(n,[mw(Dd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}(this._delegate,t).then(n=>new ua(this.firestore,n))}isEqual(t){return iU(this._delegate,t._delegate)}withConverter(t){return new A0(this.firestore,this._delegate.withConverter(t?Rd.getInstance(this.firestore,t):null))}}function Pd(e){return ln(e,_r)}class N2{constructor(...t){this._delegate=new gu(...t)}static documentId(){return new N2(gr.keyField().canonicalString())}isEqual(t){return(t=(0,Qn.m9)(t))instanceof gu&&this._delegate._internalPath.isEqual(t._internalPath)}}class Nd{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Woe(){return new E2("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Nd(t)}static delete(){const t=function Goe(){return new ov("deleteField")}();return t._methodName="FieldValue.delete",new Nd(t)}static arrayUnion(...t){const n=function zoe(...e){return new coe("arrayUnion",e)}(...t);return n._methodName="FieldValue.arrayUnion",new Nd(n)}static arrayRemove(...t){const n=function qoe(...e){return new uoe("arrayRemove",e)}(...t);return n._methodName="FieldValue.arrayRemove",new Nd(n)}static increment(t){const n=function Koe(e){return new loe("increment",e)}(t);return n._methodName="FieldValue.increment",new Nd(n)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const nae={Firestore:RU,GeoPoint:pw,Timestamp:Tr,Blob:dv,Transaction:PU,WriteBatch:NU,DocumentReference:ua,DocumentSnapshot:hv,Query:Ks,QueryDocumentSnapshot:pv,QuerySnapshot:P2,CollectionReference:A0,FieldPath:N2,FieldValue:Nd,setLogLevel:function eae(e){!function jne(e){Il.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function OU(e,t){return function sae(e,t=CV){return new pn(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(e,t)}function M2(e,t){return OU(e,t).pipe(dt(n=>({payload:n,type:"query"})))}!function iae(e){(function rae(e,t){e.INTERNAL.registerComponent(new $V.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return t(r,i)},"PUBLIC").setServiceProps(Object.assign({},nae)))})(e,(t,n)=>new RU(t,n,new Joe)),e.registerVersion("@firebase/firestore-compat","0.3.21")}(xl.Z);class LU{ref;afs;constructor(t,n){this.ref=t,this.afs=n}set(t,n){return this.ref.set(t,n)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,n){const r=this.ref.collection(t),{ref:i,query:s}=$U(r,n);return new UU(i,s,this.afs)}snapshotChanges(){return function oae(e,t){return OU(e,t).pipe(Fx(void 0),kS(),dt(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Do)}valueChanges(t={}){return this.snapshotChanges().pipe(dt(({payload:n})=>t.idField?{...n.data(),[t.idField]:n.id}:n.data()))}get(t){return j(this.ref.get(t)).pipe(Do)}}function Cw(e,t){return M2(e,t).pipe(Fx(void 0),kS(),dt(n=>{const[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const u=s.find(h=>h.doc.ref.isEqual(a.ref)),l=r?.payload.docs.find(h=>h.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&l&&JSON.stringify(l.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function VU(e,t,n){return Cw(e,n).pipe(Lx((r,i)=>function aae(e,t,n){return t.forEach(r=>{n.indexOf(r.type)>-1&&(e=function cae(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return F2(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return F2(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return F2(e,t.oldIndex,1)}return e}(e,r))}),e}(r,i.map(s=>s.payload),t),[]),lr(),dt(r=>r.map(i=>({type:i.type,payload:i}))))}function F2(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function BU(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}class UU{ref;query;afs;constructor(t,n,r){this.ref=t,this.query=n,this.afs=r}stateChanges(t){let n=Cw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(dt(r=>r.filter(i=>t.indexOf(i.type)>-1)))),n.pipe(Fx(void 0),kS(),Oa(([r,i])=>i.length>0||!r),dt(([,r])=>r),Do)}auditTrail(t){return this.stateChanges(t).pipe(Lx((n,r)=>[...n,...r],[]))}snapshotChanges(t){const n=BU(t);return VU(this.query,n,this.afs.schedulers.outsideAngular).pipe(Do)}valueChanges(t={}){return M2(this.query,this.afs.schedulers.outsideAngular).pipe(dt(n=>n.payload.docs.map(r=>t.idField?{...r.data(),[t.idField]:r.id}:r.data())),Do)}get(t){return j(this.query.get(t)).pipe(Do)}add(t){return this.ref.add(t)}doc(t){return new LU(this.ref.doc(t),this.afs)}}class uae{query;afs;constructor(t,n){this.query=t,this.afs=n}stateChanges(t){return t&&0!==t.length?Cw(this.query,this.afs.schedulers.outsideAngular).pipe(dt(n=>n.filter(r=>t.indexOf(r.type)>-1)),Oa(n=>n.length>0),Do):Cw(this.query,this.afs.schedulers.outsideAngular).pipe(Do)}auditTrail(t){return this.stateChanges(t).pipe(Lx((n,r)=>[...n,...r],[]))}snapshotChanges(t){const n=BU(t);return VU(this.query,n,this.afs.schedulers.outsideAngular).pipe(Do)}valueChanges(t={}){return M2(this.query,this.afs.schedulers.outsideAngular).pipe(dt(r=>r.payload.docs.map(i=>t.idField?{[t.idField]:i.id,...i.data()}:i.data())),Do)}get(t){return j(this.query.get(t)).pipe(Do)}}const jU=new Ye("angularfire2.enableFirestorePersistence"),HU=new Ye("angularfire2.firestore.persistenceSettings"),lae=new Ye("angularfire2.firestore.settings"),fae=new Ye("angularfire2.firestore.use-emulator");function $U(e,t=(n=>n)){return{query:t(e),ref:e}}let O2=(()=>{class e{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,c,u,l,h,g,_,y,v,x,T,w){this.schedulers=c;const I=bS(n,a,r),k=l;h&&jV(I,a,g,y,v,x,_,T),[this.firestore,this.persistenceEnabled$]=RV(`${I.name}.firestore`,"AngularFirestore",I.name,()=>{const O=a.runOutsideAngular(()=>I.firestore());if(s&&O.settings(s),k&&O.useEmulator(...k),i&&!kx(o)){const q=()=>{try{return j(O.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(N){return typeof console<"u"&&console.warn(N),me(!1)}};return[O,a.runOutsideAngular(q)]}return[O,me(!1)]},[s,k,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:s,query:o}=$U(i,r),a=this.schedulers.ngZone.run(()=>s);return new UU(a,o,this)}collectionGroup(n,r){const i=r||(o=>o),s=this.firestore.collectionGroup(n);return new uae(i(s),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new LU(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||e)(Be(tE),Be(nE,8),Be(jU,8),Be(lae,8),Be(Zc),Be(Pn),Be(bV),Be(HU,8),Be(fae,8),Be(HV,8),Be(FV,8),Be(OV,8),Be(LV,8),Be(VV,8),Be(BV,8),Be(UV,8),Be(SV,8))};static \u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),dae=(()=>{class e{constructor(){xl.Z.registerVersion("angularfire",DS.full,"fst-compat")}static enablePersistence(n){return{ngModule:e,providers:[{provide:jU,useValue:!0},{provide:HU,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wi({type:e});static \u0275inj=Ls({providers:[O2]})}return e})(),Sw=(()=>{class e{constructor(n){this.afs=n,this.itemsCollection=n.collection("exams"),this.items=this.itemsCollection.snapshotChanges().pipe(dt(r=>r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s}})))}getItems(){return this.items}addItem(n){this.itemsCollection.add(n)}updateItem(n,r){this.itemsCollection.doc(n).update(r)}deleteItem(n){this.itemsCollection.doc(n).delete()}getExamStatus(n){return this.afs.doc(`exams/${n}`).snapshotChanges().pipe(dt(r=>r.payload.data().examEnded),_l(r=>(console.error(`Error fetching exam status for ${n}:`,r),me(!1))))}static#e=this.\u0275fac=function(r){return new(r||e)(Be(O2))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const hae=function(e,t){return{"bg-blue-500 hover:bg-blue-700 text-white font-bold":e,"bg-gray-400 text-gray-600 cursor-not-allowed":t}};function pae(e,t){if(1&e){const n=Xf();oe(0,"tr")(1,"td",6),we(2),re(),oe(3,"td",6)(4,"button",7),Gt("click",function(){const s=Sa(n).$implicit;return $c(ul().startExam(s))}),we(5," Attempt "),re()(),oe(6,"td",6),we(7),re(),oe(8,"td",6),we(9),re(),oe(10,"td",6),we(11),re(),oe(12,"td",6),we(13),re()()}if(2&e){const n=t.$implicit;st(2),Nn(n.examName),st(2),un("ngClass",XA(7,hae,!n.examEnded,n.examEnded))("disabled",n.examEnded),st(3),Nn(n.startDate),st(2),Nn(n.endDate),st(2),Nn(n.duration),st(2),Nn(!n.examEnded)}}let GU=(()=>{class e{constructor(n,r){this.firebaseService=n,this.router=r;const i=localStorage.getItem("userDetails");i&&(this.userDetails=JSON.parse(i))}ngOnInit(){this.itemsSubscription=this.firebaseService.getItems().subscribe(n=>{this.examsData=n})}startExam(n){console.log(n),window.confirm("Do you want to start the exam?")&&(localStorage.setItem("examData",JSON.stringify(n)),localStorage.getItem("questionOrder")||localStorage.setItem("questionOrder",JSON.stringify(IV(this.generateNumericArray(n.questions.length)))),localStorage.getItem("answerOrder")||localStorage.setItem("answerOrder",JSON.stringify(IV([0,1,2,3]))),this.router.navigate(["/exam"]))}generateNumericArray(n){return Array.from({length:n},(r,i)=>i)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Sw),Se(Ri))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-available-exams"]],decls:19,vars:2,consts:[[1,"text-center","my-8","text-2xl","font-bold"],[1,"min-w-full","divide-y","divide-gray-200","p-8"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"py-2","px-4","rounded",3,"ngClass","disabled","click"]],template:function(r,i){1&r&&(oe(0,"div",0),we(1),re(),oe(2,"table",1)(3,"thead",2)(4,"tr")(5,"th",3),we(6,"Exam Name"),re(),oe(7,"th",3),we(8,"Actions"),re(),oe(9,"th",3),we(10,"Start Date"),re(),oe(11,"th",3),we(12,"End Date"),re(),oe(13,"th",3),we(14,"Duration"),re(),oe(15,"th",3),we(16,"Exam Available"),re()()(),oe(17,"tbody",4),ao(18,pae,14,10,"tr",5),re()()),2&r&&(st(1),fl("Welcome ",i.userDetails.username,"! Following examinations are available-"),st(17),un("ngForOf",i.examsData))},dependencies:[UC,pl]})}return e})();const gae=function(){return["/user/available"]},mae=function(){return["/user/all"]};let _ae=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-sidebar-user"]],decls:12,vars:4,consts:[[1,"flex","h-[calc(100vh-60px)]"],[1,"w-1/5","bg-gray-100","text-black-900"],[1,"mt-5"],[1,"hover:bg-gray-200"],[1,"block","px-4","py-2",3,"routerLink"],[1,"w-4/5","bg-white"]],template:function(r,i){1&r&&(vs(0,"app-navbar"),oe(1,"div",0)(2,"div",1)(3,"ul",2)(4,"li",3)(5,"a",4),we(6,"Available Exams"),re()(),oe(7,"li",3)(8,"a",4),we(9,"Attempted Exams"),re()()()(),oe(10,"div",5),vs(11,"router-outlet"),re()()),2&r&&(st(5),un("routerLink",_p(2,gae)),st(3),un("routerLink",_p(3,mae)))},dependencies:[Dp,ad,t_]})}return e})();var gv={version:"0.18.5"},Po=1200,Md=1252,vae=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],L2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Dw=function(e){-1!=vae.indexOf(e)&&(Md=L2[0]=e)},la=function(e){Po=e,Dw(e)};var An,mv=function(t){return String.fromCharCode(t)},V2=function(t){return String.fromCharCode(t)},Fr=null,$l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function vv(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0,c=0,u=0;u<e.length;)s=(n=e.charCodeAt(u++))>>2,o=(3&n)<<4|(r=e.charCodeAt(u++))>>4,a=(15&r)<<2|(i=e.charCodeAt(u++))>>6,c=63&i,isNaN(r)?a=c=64:isNaN(i)&&(c=64),t+=$l.charAt(s)+$l.charAt(o)+$l.charAt(a)+$l.charAt(c);return t}function No(e){var t="",s=0,o=0,a=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=$l.indexOf(e.charAt(u++)),o=$l.indexOf(e.charAt(u++)),t+=String.fromCharCode(s<<2|o>>4),64!==(a=$l.indexOf(e.charAt(u++)))&&(t+=String.fromCharCode((15&o)<<4|a>>2)),64!==(c=$l.indexOf(e.charAt(u++)))&&(t+=String.fromCharCode((3&a)<<6|c));return t}var sn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),_u=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Gl(e){return sn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function zU(e){return sn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Mo=function(t){return sn?_u(t,"binary"):t.split("").map(function(n){return 255&n.charCodeAt(0)})};function yv(e){if(typeof ArrayBuffer>"u")return Mo(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function Wl(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var Li=sn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:_u(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},Ts=/\u0000/g,xv=/[\u0001-\u0006]/g;function S0(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function ja(e,t){var n=""+e;return n.length>=t?n:Lr("0",t-n.length)+n}function U2(e,t){var n=""+e;return n.length>=t?n:Lr(" ",t-n.length)+n}function Rw(e,t){var n=""+e;return n.length>=t?n:n+Lr(" ",t-n.length)}var qU=Math.pow(2,32);function D0(e,t){return e>qU||e<-qU?function Iae(e,t){var n=""+Math.round(e);return n.length>=t?n:Lr("0",t-n.length)+n}(e,t):function Tae(e,t){var n=""+e;return n.length>=t?n:Lr("0",t-n.length)+n}(Math.round(e),t)}function Pw(e,t){return e.length>=7+(t=t||0)&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var KU=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],j2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],It={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},ZU={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Cae={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Nw(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,o=1,a=0,c=1,u=0,l=0,h=Math.floor(i);u<t&&(a=(h=Math.floor(i))*o+s,l=h*u+c,!(i-h<5e-8));)i=1/(i-h),s=o,o=a,c=u,u=l;if(l>t&&(u>t?(l=c,a=s):(l=u,a=o)),!n)return[0,r*a,l];var g=Math.floor(r*a/l);return[g,r*a-g*l,l]}function zl(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),s=0,o=[],a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,86400==++i&&(a.T=i=0,++r,++a.D)),60===r)o=n?[1317,10,29]:[1900,2,29],s=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),n&&(s=function Pae(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}(c,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var YU=new Date(1899,11,31,0,0,0),Sae=YU.getTime(),Dae=new Date(1900,2,1,0,0,0);function QU(e,t){var n=e.getTime();return t?n-=1262304e5:e>=Dae&&(n+=864e5),(n-(Sae+6e4*(e.getTimezoneOffset()-YU.getTimezoneOffset())))/864e5}function H2(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Fd(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function Ev(e){var n,t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return n=t>=-4&&t<=-1?e.toPrecision(10+t):Math.abs(t)<=9?function kae(e){var t=e<0?12:11,n=H2(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===t?e.toFixed(10).substr(0,12):function Rae(e){var t=H2(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),H2(function bae(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(n.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Fo(14,QU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Nae(e,t,n,r){var c,i="",s=0,o=0,a=n.y,u=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:c=a%100,u=2;break;default:c=a%1e4,u=4}break;case 109:switch(t.length){case 1:case 2:c=n.m,u=t.length;break;case 3:return j2[n.m-1][1];case 5:return j2[n.m-1][0];default:return j2[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=n.d,u=t.length;break;case 3:return KU[n.q][0];default:return KU[n.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(s=Math.round(o*(n.S+n.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(i=ja(s,2+r),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):ja(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":c=24*n.D+n.H;break;case"[m]":case"[mm]":c=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":c=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=3===t.length?1:2;break;case 101:c=a,u=1}return u>0?ja(c,u):""}function ql(e){if(e.length<=3)return e;for(var n=e.length%3,r=e.substr(0,n);n!=e.length;n+=3)r+=(r.length>0?",":"")+e.substr(n,3);return r}var XU=/%/g;function JU(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+JU(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,u,l){return c+u+l.substr(0,(i+s)%i)+"."+l.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var e5=/# (\?+)( ?)\/( ?)(\d+)/,t5=/^#*0*\.([0#]+)/,n5=/\).*[0#]/,r5=/\(###\) ###\\?-####/;function Zs(e){for(var n,t="",r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function i5(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function s5(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function fa(e,t,n){if(40===e.charCodeAt(0)&&!t.match(n5)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?fa("n",r,n):"("+fa("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function Fae(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return vu(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function Mae(e,t,n){var r=t.replace(XU,""),i=t.length-r.length;return vu(e,r,n*Math.pow(10,2*i))+Lr("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return JU(t,n);if(36===t.charCodeAt(0))return"$"+fa(e,t.substr(" "==t.charAt(1)?2:1),n);var i,s,o,a,c=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+D0(c,t.length);if(t.match(/^[#?]+$/))return"0"===(i=D0(n,0))&&(i=""),i.length>t.length?i:Zs(t.substr(0,t.length-i.length))+i;if(s=t.match(e5))return function Oae(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(0===s?"":""+s)+" "+(0===o?Lr(" ",e[1].length+1+e[4].length):U2(o,e[1].length)+e[2]+"/"+e[3]+ja(a,e[4].length))}(s,c,u);if(t.match(/^#+0+$/))return u+D0(c,t.length-t.indexOf("0"));if(s=t.match(t5))return i=i5(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Zs(s[1])).replace(/\.$/,"."+Zs(s[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Lr("0",Zs(s[1]).length-v.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+i5(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+ql(D0(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+fa(e,t,-n):ql(""+(Math.floor(n)+function Vae(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,s[1].length)))+"."+ja(s5(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return fa(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=S0(fa(e,t.replace(/[\\-]/g,""),n)),o=0,S0(S0(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):"0"===y?"0":""}));if(t.match(r5))return"("+(i=fa(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var l="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=Nw(c,Math.pow(10,o)-1,!1),i=""+u," "==(l=vu("n",s[1],a[1])).charAt(l.length-1)&&(l=l.substr(0,l.length-1)+"0"),i+=l+s[2]+"/"+s[3],(l=Rw(a[2],o)).length<s[4].length&&(l=Zs(s[4].substr(s[4].length-l.length))+l),i+=l;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),u+((a=Nw(c,Math.pow(10,o)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?U2(a[1],o)+s[2]+"/"+s[3]+Rw(a[2],o):Lr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=D0(n,0),t.length<=i.length?i:Zs(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,g=t.length-i.length-h;return Zs(t.substr(0,h)+i+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=s5(n,s[1].length),n<0?"-"+fa(e,t,-n):ql(function Bae(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ja(0,3-y.length):"")+y})+"."+ja(o,s[1].length);switch(t){case"###,##0.00":return fa(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var _=ql(D0(c,0));return"0"!==_?u+_:"";case"###,###.00":return fa(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return fa(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function o5(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+o5(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),!(n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,u,l){return c+u+l.substr(0,(i+s)%i)+"."+l.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ic(e,t,n){if(40===e.charCodeAt(0)&&!t.match(n5)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ic("n",r,n):"("+Ic("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function Uae(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return vu(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function jae(e,t,n){var r=t.replace(XU,""),i=t.length-r.length;return vu(e,r,n*Math.pow(10,2*i))+Lr("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return o5(t,n);if(36===t.charCodeAt(0))return"$"+Ic(e,t.substr(" "==t.charAt(1)?2:1),n);var i,s,o,a,c=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+ja(c,t.length);if(t.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>t.length?i:Zs(t.substr(0,t.length-i.length))+i;if(s=t.match(e5))return function Lae(e,t,n){return n+(0===t?"":""+t)+Lr(" ",e[1].length+2+e[4].length)}(s,c,u);if(t.match(/^#+0+$/))return u+ja(c,t.length-t.indexOf("0"));if(s=t.match(t5))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+Zs(s[1])).replace(/\.$/,"."+Zs(s[1]))).replace(/\.(\d*)$/,function(y,v){return"."+v+Lr("0",Zs(s[1]).length-v.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+ql(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ic(e,t,-n):ql(""+n)+"."+Lr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ic(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=S0(Ic(e,t.replace(/[\\-]/g,""),n)),o=0,S0(S0(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):"0"===y?"0":""}));if(t.match(r5))return"("+(i=Ic(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var l="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=Nw(c,Math.pow(10,o)-1,!1),i=""+u," "==(l=vu("n",s[1],a[1])).charAt(l.length-1)&&(l=l.substr(0,l.length-1)+"0"),i+=l+s[2]+"/"+s[3],(l=Rw(a[2],o)).length<s[4].length&&(l=Zs(s[4].substr(s[4].length-l.length))+l),i+=l;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),u+((a=Nw(c,Math.pow(10,o)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?U2(a[1],o)+s[2]+"/"+s[3]+Rw(a[2],o):Lr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return t.length<=(i=""+n).length?i:Zs(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,g=t.length-i.length-h;return Zs(t.substr(0,h)+i+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ic(e,t,-n):ql(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ja(0,3-y.length):"")+y})+"."+ja(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var _=ql(""+c);return"0"!==_?u+_:"";default:if(t.match(/\.[0#?]*$/))return Ic(e,t.slice(0,t.lastIndexOf(".")),n)+Zs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function vu(e,t,n){return(0|n)===n?Ic(e,t,n):fa(e,t,n)}var a5=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function b0(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Pw(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase()||"AM/PM"===e.substr(t,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(a5))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(" "==e.charAt(t)||"*"==e.charAt(t))&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var c5=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function u5(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function Fo(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:It)[e])&&(r=n.table&&n.table[ZU[e]]||It[ZU[e]]),null==r&&(r=Cae[e]||"General")}if(Pw(r,0))return Fd(t,n);t instanceof Date&&(t=QU(t,n.date1904));var i=function Gae(e,t){var n=function Hae(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var s=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,s];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var o=n[0].match(c5),a=n[1].match(c5);return u5(t,o)?[r,n[0]]:u5(t,a)?[r,n[1]]:[r,n[null!=o&&null!=a?2:1]]}return[r,s]}(r,t);if(Pw(i[1]))return Fd(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function $ae(e,t,n,r){for(var u,l,h,i=[],s="",o=0,a="",c="t",g="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!Pw(e,o))throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(h=e.charCodeAt(++o))&&o<e.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++o;break;case"\\":var _=e.charAt(++o);i[i.length]={t:"("===_||")"===_?_:"t",v:_},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if("1"===e.charAt(o+1)||"2"===e.charAt(o+1)){if(null==u&&null==(u=zl(t,n,"2"===e.charAt(o+1))))return"";i[i.length]={t:"X",v:e.substr(o,2)},c=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==u&&null==(u=zl(t,n)))return"";for(s=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)s+=a;"m"===a&&"h"===c.toLowerCase()&&(a="M"),"h"===a&&(a=g),i[i.length]={t:a,v:s},c=a;break;case"A":case"a":case"\u4e0a":var v={t:a,v:a};if(null==u&&(u=zl(t,n)),"A/P"===e.substr(o,3).toUpperCase()?(null!=u&&(v.v=u.H>=12?"P":"A"),v.t="T",g="h",o+=3):"AM/PM"===e.substr(o,5).toUpperCase()?(null!=u&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,g="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(o,5).toUpperCase()?(null!=u&&(v.v=u.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),v.t="T",o+=5,g="h"):(v.t="t",++o),null==u&&"T"===v.t)return"";i[i.length]=v,c=a;break;case"[":for(s=a;"]"!==e.charAt(o++)&&o<e.length;)s+=e.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(a5)){if(null==u&&null==(u=zl(t,n)))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",b0(e)||(i[i.length]={t:"t",v:s}));break;case".":if(null!=u){for(s=a;++o<e.length&&"0"===(a=e.charAt(o));)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;e.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},c=a;break;case"*":++o,(" "==e.charAt(o)||"*"==e.charAt(o))&&++o;break;case"(":case")":i[i.length]={t:1===r?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(a))throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"t",v:a},++o}var w,x=0,T=0;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=g,c="h",x<1&&(x=1);break;case"s":(w=i[o].v.match(/\.0+$/))&&(T=Math.max(T,w[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":"s"===c&&(i[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[o].v.match(/[Hh]/)&&(x=1),x<2&&i[o].v.match(/[Mm]/)&&(x=2),x<3&&i[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M)}var k,I="";for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=Nae(i[o].t.charCodeAt(0),i[o].v,u,T),i[o].t="t";break;case"n":case"?":for(k=o+1;null!=i[k]&&("?"===(a=i[k].t)||"D"===a||(" "===a||"t"===a)&&null!=i[k+1]&&("?"===i[k+1].t||"t"===i[k+1].t&&"/"===i[k+1].v)||"("===i[o].t&&(" "===a||"n"===a||")"===a)||"t"===a&&("/"===i[k].v||" "===i[k].v&&null!=i[k+1]&&"?"==i[k+1].t));)i[o].v+=i[k].v,i[k]={v:"",t:";"},++k;I+=i[o].v,o=k-1;break;case"G":i[o].t="t",i[o].v=Fd(t,n)}var q,N,O="";if(I.length>0){40==I.charCodeAt(0)?(q=t<0&&45===I.charCodeAt(0)?-t:t,N=vu("n",I,q)):(N=vu("n",I,q=t<0&&r>1?-t:t),q<0&&i[0]&&"t"==i[0].t&&(N=N.substr(1),i[0].v="-"+i[0].v)),k=N.length-1;var z=i.length;for(o=0;o<i.length;++o)if(null!=i[o]&&"t"!=i[o].t&&i[o].v.indexOf(".")>-1){z=o;break}var K=i.length;if(z===i.length&&-1===N.indexOf("E")){for(o=i.length-1;o>=0;--o)null==i[o]||-1==="n?".indexOf(i[o].t)||(k>=i[o].v.length-1?i[o].v=N.substr(1+(k-=i[o].v.length),i[o].v.length):k<0?i[o].v="":(i[o].v=N.substr(0,k+1),k=-1),i[o].t="t",K=o);k>=0&&K<i.length&&(i[K].v=N.substr(0,k+1)+i[K].v)}else if(z!==i.length&&-1===N.indexOf("E")){for(k=N.indexOf(".")-1,o=z;o>=0;--o)if(null!=i[o]&&-1!=="n?".indexOf(i[o].t)){for(l=i[o].v.indexOf(".")>-1&&o===z?i[o].v.indexOf(".")-1:i[o].v.length-1,O=i[o].v.substr(l+1);l>=0;--l)k>=0&&("0"===i[o].v.charAt(l)||"#"===i[o].v.charAt(l))&&(O=N.charAt(k--)+O);i[o].v=O,i[o].t="t",K=o}for(k>=0&&K<i.length&&(i[K].v=N.substr(0,k+1)+i[K].v),k=N.indexOf(".")+1,o=z;o<i.length;++o)if(null!=i[o]&&(-1!=="n?(".indexOf(i[o].t)||o===z)){for(l=i[o].v.indexOf(".")>-1&&o===z?i[o].v.indexOf(".")+1:0,O=i[o].v.substr(0,l);l<i[o].v.length;++l)k<N.length&&(O+=N.charAt(k++));i[o].v=O,i[o].t="t",K=o}}}for(o=0;o<i.length;++o)null!=i[o]&&"n?".indexOf(i[o].t)>-1&&(i[o].v=vu(i[o].t,i[o].v,q=r>1&&t<0&&o>0&&"-"===i[o-1].v?-t:t),i[o].t="t");var le="";for(o=0;o!==i.length;++o)null!=i[o]&&(le+=i[o].v);return le}(i[1],t,n,i[0])}function Tc(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(null!=It[n]){if(It[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return It[t]=e,t}function wv(e){for(var t=0;392!=t;++t)void 0!==e[t]&&Tc(e[t],t)}function k0(){It=function Aae(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var l5=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,Zae=function(){var e={version:"1.2.0"},n=function t(){for(var N=0,z=new Array(256),K=0;256!=K;++K)z[K]=N=1&(N=1&(N=1&(N=1&(N=1&(N=1&(N=1&(N=1&(N=K)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1;return typeof Int32Array<"u"?new Int32Array(z):z}(),i=function r(N){var z=0,K=0,le=0,pe=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(le=0;256!=le;++le)pe[le]=N[le];for(le=0;256!=le;++le)for(K=N[le],z=256+le;z<4096;z+=256)K=pe[z]=K>>>8^N[255&K];var Y=[];for(le=1;16!=le;++le)Y[le-1]=typeof Int32Array<"u"?pe.subarray(256*le,256*le+256):pe.slice(256*le,256*le+256);return Y}(n),s=i[0],o=i[1],a=i[2],c=i[3],u=i[4],l=i[5],h=i[6],g=i[7],_=i[8],y=i[9],v=i[10],x=i[11],T=i[12],w=i[13],I=i[14];return e.table=n,e.bstr=function k(N,z){for(var K=-1^z,le=0,pe=N.length;le<pe;)K=K>>>8^n[255&(K^N.charCodeAt(le++))];return~K},e.buf=function O(N,z){for(var K=-1^z,le=N.length-15,pe=0;pe<le;)K=I[N[pe++]^255&K]^w[N[pe++]^K>>8&255]^T[N[pe++]^K>>16&255]^x[N[pe++]^K>>>24]^v[N[pe++]]^y[N[pe++]]^_[N[pe++]]^g[N[pe++]]^h[N[pe++]]^l[N[pe++]]^u[N[pe++]]^c[N[pe++]]^a[N[pe++]]^o[N[pe++]]^s[N[pe++]]^n[N[pe++]];for(le+=15;pe<le;)K=K>>>8^n[255&(K^N[pe++])];return~K},e.str=function q(N,z){for(var K=-1^z,le=0,pe=N.length,Y=0,$e=0;le<pe;)(Y=N.charCodeAt(le++))<128?K=K>>>8^n[255&(K^Y)]:Y<2048?K=(K=K>>>8^n[255&(K^(192|Y>>6&31))])>>>8^n[255&(K^(128|63&Y))]:Y>=55296&&Y<57344?(Y=64+(1023&Y),$e=1023&N.charCodeAt(le++),K=(K=(K=(K=K>>>8^n[255&(K^(240|Y>>8&7))])>>>8^n[255&(K^(128|Y>>2&63))])>>>8^n[255&(K^(128|$e>>6&15|(3&Y)<<4))])>>>8^n[255&(K^(128|63&$e))]):K=(K=(K=K>>>8^n[255&(K^(224|Y>>12&15))])>>>8^n[255&(K^(128|Y>>6&63))])>>>8^n[255&(K^(128|63&Y))];return~K},e}(),Et=function(){var c,t={};function r(C){if("/"==C.charAt(C.length-1))return-1===C.slice(0,-1).indexOf("/")?C:r(C.slice(0,-1));var R=C.lastIndexOf("/");return-1===R?C:C.slice(0,R+1)}function i(C){if("/"==C.charAt(C.length-1))return i(C.slice(0,-1));var R=C.lastIndexOf("/");return-1===R?C:C.slice(R+1)}function s(C,R){"string"==typeof R&&(R=new Date(R));var S=R.getHours();S=(S=S<<6|R.getMinutes())<<5|R.getSeconds()>>>1,C.write_shift(2,S);var D=R.getFullYear()-1980;D=(D=D<<4|R.getMonth()+1)<<5|R.getDate(),C.write_shift(2,D)}function a(C){is(C,0);for(var R={},S=0;C.l<=C.length-4;){var D=C.read_shift(2),P=C.read_shift(2),M=C.l+P,ee={};21589===D&&(1&(S=C.read_shift(1))&&(ee.mtime=C.read_shift(4)),P>5&&(2&S&&(ee.atime=C.read_shift(4)),4&S&&(ee.ctime=C.read_shift(4))),ee.mtime&&(ee.mt=new Date(1e3*ee.mtime))),C.l=M,R[D]=ee}return R}function u(){return c||(c={})}function l(C,R){if(80==C[0]&&75==C[1])return mH(C,R);if(109==(32|C[0])&&105==(32|C[1]))return function qye(C,R){if("mime-version:"!=it(C.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var S=R&&R.root||"",D=(sn&&Buffer.isBuffer(C)?C.toString("binary"):it(C)).split("\r\n"),P=0,M="";for(P=0;P<D.length;++P)if(/^Content-Location:/i.test(M=D[P])&&(M=M.slice(M.indexOf("file")),S||(S=M.slice(0,M.lastIndexOf("/")+1)),M.slice(0,S.length)!=S))for(;S.length>0&&(S=(S=S.slice(0,S.length-1)).slice(0,S.lastIndexOf("/")+1),M.slice(0,S.length)!=S););var ee=(D[1]||"").match(/boundary="(.*?)"/);if(!ee)throw new Error("MAD cannot find boundary");var ve="--"+(ee[1]||""),ce={FileIndex:[],FullPaths:[]};N(ce);var Le,Ge=0;for(P=0;P<D.length;++P){var pt=D[P];pt!==ve&&pt!==ve+"--"||(Ge++&&zye(ce,D.slice(Le,P),S),Le=P)}return ce}(C,R);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var S,P,M,ee,ve,ne,D=512,te=[],ce=C.slice(0,512);is(ce,0);var Le=function h(C){if(80==C[C.l]&&75==C[C.l+1])return[0,0];C.chk(ct,"Header Signature: "),C.l+=16;var R=C.read_shift(2,"u");return[C.read_shift(2,"u"),R]}(ce);switch(S=Le[0]){case 3:D=512;break;case 4:D=4096;break;case 0:if(0==Le[1])return mH(C,R);default:throw new Error("Major Version: Expected 3 or 4 saw "+S)}512!==D&&is(ce=C.slice(0,D),28);var Ge=C.slice(0,D);!function g(C,R){var S;switch(C.l+=2,S=C.read_shift(2)){case 9:if(3!=R)throw new Error("Sector Shift: Expected 9 saw "+S);break;case 12:if(4!=R)throw new Error("Sector Shift: Expected 12 saw "+S);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+S)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}(ce,S);var pt=ce.read_shift(4,"i");if(3===S&&0!==pt)throw new Error("# Directory Sectors: Expected 0 saw "+pt);ce.l+=4,ee=ce.read_shift(4,"i"),ce.l+=4,ce.chk("00100000","Mini Stream Cutoff Size: "),ve=ce.read_shift(4,"i"),P=ce.read_shift(4,"i"),ne=ce.read_shift(4,"i"),M=ce.read_shift(4,"i");for(var We=-1,Qe=0;Qe<109&&!((We=ce.read_shift(4,"i"))<0);++Qe)te[Qe]=We;var Ut=function _(C,R){for(var S=Math.ceil(C.length/R)-1,D=[],P=1;P<S;++P)D[P-1]=C.slice(P*R,(P+1)*R);return D[S-1]=C.slice(S*R),D}(C,D);x(ne,M,Ut,D,te);var xr=function w(C,R,S,D){var P=C.length,M=[],ee=[],ve=[],ne=[],te=D-1,ce=0,Le=0,Ge=0,pt=0;for(ce=0;ce<P;++ce)if(ve=[],(Ge=ce+R)>=P&&(Ge-=P),!ee[Ge]){ne=[];var We=[];for(Le=Ge;Le>=0;){We[Le]=!0,ee[Le]=!0,ve[ve.length]=Le,ne.push(C[Le]);var Qe=S[Math.floor(4*Le/D)];if(D<4+(pt=4*Le&te))throw new Error("FAT boundary crossed: "+Le+" 4 "+D);if(!C[Qe]||We[Le=Ld(C[Qe],pt)])break}M[Ge]={nodes:ve,data:P5([ne])}}return M}(Ut,ee,te,D);xr[ee].name="!Directory",P>0&&ve!==$e&&(xr[ve].name="!MiniFAT"),xr[te[0]].name="!FAT",xr.fat_addrs=te,xr.ssz=D;var gi=[],Bo=[],iy=[];(function I(C,R,S,D,P,M,ee,ve){for(var pt,ne=0,te=D.length?2:0,ce=R[C].data,Le=0,Ge=0;Le<ce.length;Le+=128){var We=ce.slice(Le,Le+128);is(We,64),Ge=We.read_shift(2),pt=Vw(We,0,Ge-te),D.push(pt);var Qe={name:pt,type:We.read_shift(1),color:We.read_shift(1),L:We.read_shift(4,"i"),R:We.read_shift(4,"i"),C:We.read_shift(4,"i"),clsid:We.read_shift(16),state:We.read_shift(4,"i"),start:0,size:0};0!==We.read_shift(2)+We.read_shift(2)+We.read_shift(2)+We.read_shift(2)&&(Qe.ct=k(We,We.l-8)),0!==We.read_shift(2)+We.read_shift(2)+We.read_shift(2)+We.read_shift(2)&&(Qe.mt=k(We,We.l-8)),Qe.start=We.read_shift(4,"i"),Qe.size=We.read_shift(4,"i"),Qe.size<0&&Qe.start<0&&(Qe.size=Qe.type=0,Qe.start=$e,Qe.name=""),5===Qe.type?(ne=Qe.start,P>0&&ne!==$e&&(R[ne].name="!StreamData")):Qe.size>=4096?(Qe.storage="fat",void 0===R[Qe.start]&&(R[Qe.start]=T(S,Qe.start,R.fat_addrs,R.ssz)),R[Qe.start].name=Qe.name,Qe.content=R[Qe.start].data.slice(0,Qe.size)):(Qe.storage="minifat",Qe.size<0?Qe.size=0:ne!==$e&&Qe.start!==$e&&R[ne]&&(Qe.content=v(Qe,R[ne].data,(R[ve]||{}).data))),Qe.content&&is(Qe.content,0),M[pt]=Qe,ee.push(Qe)}})(ee,xr,Ut,gi,P,{},Bo,ve),function y(C,R,S){for(var D=0,P=0,M=0,ee=0,ve=0,ne=S.length,te=[],ce=[];D<ne;++D)te[D]=ce[D]=D,R[D]=S[D];for(;ve<ce.length;++ve)P=C[D=ce[ve]].L,M=C[D].R,ee=C[D].C,te[D]===D&&(-1!==P&&te[P]!==P&&(te[D]=te[P]),-1!==M&&te[M]!==M&&(te[D]=te[M])),-1!==ee&&(te[ee]=D),-1!==P&&D!=te[D]&&(te[P]=te[D],ce.lastIndexOf(P)<ve&&ce.push(P)),-1!==M&&D!=te[D]&&(te[M]=te[D],ce.lastIndexOf(M)<ve&&ce.push(M));for(D=1;D<ne;++D)te[D]===D&&(-1!==M&&te[M]!==M?te[D]=te[M]:-1!==P&&te[P]!==P&&(te[D]=te[P]));for(D=1;D<ne;++D)if(0!==C[D].type){if((ve=D)!=te[ve])do{R[D]=R[ve=te[ve]]+"/"+R[D]}while(0!==ve&&-1!==te[ve]&&ve!=te[ve]);te[D]=-1}for(R[0]+="/",D=1;D<ne;++D)2!==C[D].type&&(R[D]+="/")}(Bo,iy,gi),gi.shift();var sy={FileIndex:Bo,FullPaths:iy};return R&&R.raw&&(sy.raw={header:Ge,sectors:Ut}),sy}function v(C,R,S){for(var P=C.size,M=[],ee=C.start;S&&P>0&&ee>=0;)M.push(R.slice(ee*Y,ee*Y+Y)),P-=Y,ee=Ld(S,4*ee);return 0===M.length?_e(0):Li(M).slice(0,C.size)}function x(C,R,S,D,P){var M=$e;if(C===$e){if(0!==R)throw new Error("DIFAT chain shorter than expected")}else if(-1!==C){var ee=S[C],ve=(D>>>2)-1;if(!ee)return;for(var ne=0;ne<ve&&(M=Ld(ee,4*ne))!==$e;++ne)P.push(M);x(Ld(ee,D-4),R-1,S,D,P)}}function T(C,R,S,D,P){var M=[],ee=[];P||(P=[]);var ve=D-1,ne=0,te=0;for(ne=R;ne>=0;){P[ne]=!0,M[M.length]=ne,ee.push(C[ne]);var ce=S[Math.floor(4*ne/D)];if(D<4+(te=4*ne&ve))throw new Error("FAT boundary crossed: "+ne+" 4 "+D);if(!C[ce])break;ne=Ld(C[ce],te)}return{nodes:M,data:P5([ee])}}function k(C,R){return new Date(1e3*(Bi(C,R+4)/1e7*Math.pow(2,32)+Bi(C,R)/1e7-11644473600))}function N(C,R){var S=R||{},D=S.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");0===C.FullPaths.length&&(C.FullPaths[0]=D+"/",C.FileIndex[0]={name:D,type:5}),S.CLSID&&(C.FileIndex[0].clsid=S.CLSID),function z(C){var R="\x01Sh33tJ5";if(!Et.find(C,"/"+R)){var S=_e(4);S[0]=55,S[1]=S[3]=50,S[2]=54,C.FileIndex.push({name:R,type:2,content:S,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+R),K(C)}}(C)}function K(C,R){N(C);for(var S=!1,D=!1,P=C.FullPaths.length-1;P>=0;--P){var M=C.FileIndex[P];switch(M.type){case 0:D?S=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:D=!0,isNaN(M.R*M.L*M.C)&&(S=!0),M.R>-1&&M.L>-1&&M.R==M.L&&(S=!0);break;default:S=!0}}if(S||R){var ee=new Date(1987,1,19),ve=0,ne=Object.create?Object.create(null):{},te=[];for(P=0;P<C.FullPaths.length;++P)ne[C.FullPaths[P]]=!0,0!==C.FileIndex[P].type&&te.push([C.FullPaths[P],C.FileIndex[P]]);for(P=0;P<te.length;++P){var ce=r(te[P][0]);(D=ne[ce])||(te.push([ce,{name:i(ce).replace("/",""),type:1,clsid:Ct,ct:ee,mt:ee,content:null}]),ne[ce]=!0)}for(te.sort(function(pt,We){return function n(C,R){for(var S=C.split("/"),D=R.split("/"),P=0,M=0,ee=Math.min(S.length,D.length);P<ee;++P){if(M=S[P].length-D[P].length)return M;if(S[P]!=D[P])return S[P]<D[P]?-1:1}return S.length-D.length}(pt[0],We[0])}),C.FullPaths=[],C.FileIndex=[],P=0;P<te.length;++P)C.FullPaths[P]=te[P][0],C.FileIndex[P]=te[P][1];for(P=0;P<te.length;++P){var Le=C.FileIndex[P],Ge=C.FullPaths[P];if(Le.name=i(Ge).replace("/",""),Le.L=Le.R=Le.C=-(Le.color=1),Le.size=Le.content?Le.content.length:0,Le.start=0,Le.clsid=Le.clsid||Ct,0===P)Le.C=te.length>1?1:-1,Le.size=0,Le.type=5;else if("/"==Ge.slice(-1)){for(ve=P+1;ve<te.length&&r(C.FullPaths[ve])!=Ge;++ve);for(Le.C=ve>=te.length?-1:ve,ve=P+1;ve<te.length&&r(C.FullPaths[ve])!=r(Ge);++ve);Le.R=ve>=te.length?-1:ve,Le.type=1}else r(C.FullPaths[P+1]||"")==r(Ge)&&(Le.R=P+1),Le.type=2}}}function le(C,R){var S=R||{};if("mad"==S.fileType)return function Kye(C,R){for(var S=R||{},D=S.boundary||"SheetJS",P=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(D="------="+D).slice(2)+'"',"","",""],M=C.FullPaths[0],ee=M,ve=C.FileIndex[0],ne=1;ne<C.FullPaths.length;++ne)if(ee=C.FullPaths[ne].slice(M.length),(ve=C.FileIndex[ne]).size&&ve.content&&"\x01Sh33tJ5"!=ee){ee=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ut){return"_x"+Ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ut){return"_u"+Ut.charCodeAt(0).toString(16)+"_"});for(var te=ve.content,ce=sn&&Buffer.isBuffer(te)?te.toString("binary"):it(te),Le=0,Ge=Math.min(1024,ce.length),pt=0,We=0;We<=Ge;++We)(pt=ce.charCodeAt(We))>=32&&pt<128&&++Le;var Qe=Le>=4*Ge/5;P.push(D),P.push("Content-Location: "+(S.root||"file:///C:/SheetJS/")+ee),P.push("Content-Transfer-Encoding: "+(Qe?"quoted-printable":"base64")),P.push("Content-Type: "+Hye(ve,ee)),P.push(""),P.push(Qe?Gye(ce):$ye(ce))}return P.push(D+"--\r\n"),P.join("\r\n")}(C,S);if("zip"===(K(C),S.fileType))return function jye(C,R){var S=R||{},D=[],P=[],M=_e(1),ee=S.compression?8:0,ve=0,te=0,ce=0,Le=0,Ge=0,pt=C.FullPaths[0],We=pt,Qe=C.FileIndex[0],Ut=[],xr=0;for(te=1;te<C.FullPaths.length;++te)if(We=C.FullPaths[te].slice(pt.length),(Qe=C.FileIndex[te]).size&&Qe.content&&"\x01Sh33tJ5"!=We){var go=Le,gi=_e(We.length);for(ce=0;ce<We.length;++ce)gi.write_shift(1,127&We.charCodeAt(ce));gi=gi.slice(0,gi.l),Ut[Ge]=Zae.buf(Qe.content,0);var Bo=Qe.content;8==ee&&(Bo=G(Bo)),(M=_e(30)).write_shift(4,67324752),M.write_shift(2,20),M.write_shift(2,ve),M.write_shift(2,ee),Qe.mt?s(M,Qe.mt):M.write_shift(4,0),M.write_shift(-4,8&ve?0:Ut[Ge]),M.write_shift(4,8&ve?0:Bo.length),M.write_shift(4,8&ve?0:Qe.content.length),M.write_shift(2,gi.length),M.write_shift(2,0),Le+=M.length,D.push(M),Le+=gi.length,D.push(gi),Le+=Bo.length,D.push(Bo),8&ve&&((M=_e(12)).write_shift(-4,Ut[Ge]),M.write_shift(4,Bo.length),M.write_shift(4,Qe.content.length),Le+=M.l,D.push(M)),(M=_e(46)).write_shift(4,33639248),M.write_shift(2,0),M.write_shift(2,20),M.write_shift(2,ve),M.write_shift(2,ee),M.write_shift(4,0),M.write_shift(-4,Ut[Ge]),M.write_shift(4,Bo.length),M.write_shift(4,Qe.content.length),M.write_shift(2,gi.length),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(4,0),M.write_shift(4,go),xr+=M.l,P.push(M),xr+=gi.length,P.push(gi),++Ge}return(M=_e(22)).write_shift(4,101010256),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,Ge),M.write_shift(2,Ge),M.write_shift(4,xr),M.write_shift(4,Le),M.write_shift(2,0),Li([Li(D),Li(P),M])}(C,S);var D=function(pt){for(var We=0,Qe=0,Ut=0;Ut<pt.FileIndex.length;++Ut){var xr=pt.FileIndex[Ut];if(xr.content){var go=xr.content.length;go>0&&(go<4096?We+=go+63>>6:Qe+=go+511>>9)}}for(var gi=pt.FullPaths.length+3>>2,iy=We+127>>7,sy=(We+7>>3)+Qe+gi+iy,eh=sy+127>>7,ER=eh<=109?0:Math.ceil((eh-109)/127);sy+eh+ER+127>>7>eh;)ER=++eh<=109?0:Math.ceil((eh-109)/127);var Cu=[1,ER,eh,iy,gi,Qe,We,0];return pt.FileIndex[0].size=We<<6,Cu[7]=(pt.FileIndex[0].start=Cu[0]+Cu[1]+Cu[2]+Cu[3]+Cu[4]+Cu[5])+(Cu[6]+7>>3),Cu}(C),P=_e(D[7]<<9),M=0,ee=0;for(M=0;M<8;++M)P.write_shift(1,Ke[M]);for(M=0;M<8;++M)P.write_shift(2,0);for(P.write_shift(2,62),P.write_shift(2,3),P.write_shift(2,65534),P.write_shift(2,9),P.write_shift(2,6),M=0;M<3;++M)P.write_shift(2,0);for(P.write_shift(4,0),P.write_shift(4,D[2]),P.write_shift(4,D[0]+D[1]+D[2]+D[3]-1),P.write_shift(4,0),P.write_shift(4,4096),P.write_shift(4,D[3]?D[0]+D[1]+D[2]-1:$e),P.write_shift(4,D[3]),P.write_shift(-4,D[1]?D[0]-1:$e),P.write_shift(4,D[1]),M=0;M<109;++M)P.write_shift(-4,M<D[2]?D[1]+M:-1);if(D[1])for(ee=0;ee<D[1];++ee){for(;M<236+127*ee;++M)P.write_shift(-4,M<D[2]?D[1]+M:-1);P.write_shift(-4,ee===D[1]-1?$e:ee+1)}var ve=function(pt){for(ee+=pt;M<ee-1;++M)P.write_shift(-4,M+1);pt&&(++M,P.write_shift(-4,$e))};for(ee=M=0,ee+=D[1];M<ee;++M)P.write_shift(-4,_t.DIFSECT);for(ee+=D[2];M<ee;++M)P.write_shift(-4,_t.FATSECT);ve(D[3]),ve(D[4]);for(var ne=0,te=0,ce=C.FileIndex[0];ne<C.FileIndex.length;++ne)(ce=C.FileIndex[ne]).content&&!((te=ce.content.length)<4096)&&(ce.start=ee,ve(te+511>>9));for(ve(D[6]+7>>3);511&P.l;)P.write_shift(-4,_t.ENDOFCHAIN);for(ee=M=0,ne=0;ne<C.FileIndex.length;++ne)(ce=C.FileIndex[ne]).content&&(te=ce.content.length)&&!(te>=4096)&&(ce.start=ee,ve(te+63>>6));for(;511&P.l;)P.write_shift(-4,_t.ENDOFCHAIN);for(M=0;M<D[4]<<2;++M){var Le=C.FullPaths[M];if(Le&&0!==Le.length){ce=C.FileIndex[M],0===M&&(ce.start=ce.size?ce.start-1:$e);var Ge=0===M&&S.root||ce.name;if(te=2*(Ge.length+1),P.write_shift(64,Ge,"utf16le"),P.write_shift(2,te),P.write_shift(1,ce.type),P.write_shift(1,ce.color),P.write_shift(-4,ce.L),P.write_shift(-4,ce.R),P.write_shift(-4,ce.C),ce.clsid)P.write_shift(16,ce.clsid,"hex");else for(ne=0;ne<4;++ne)P.write_shift(4,0);P.write_shift(4,ce.state||0),P.write_shift(4,0),P.write_shift(4,0),P.write_shift(4,0),P.write_shift(4,0),P.write_shift(4,ce.start),P.write_shift(4,ce.size),P.write_shift(4,0)}else{for(ne=0;ne<17;++ne)P.write_shift(4,0);for(ne=0;ne<3;++ne)P.write_shift(4,-1);for(ne=0;ne<12;++ne)P.write_shift(4,0)}}for(M=1;M<C.FileIndex.length;++M)if((ce=C.FileIndex[M]).size>=4096)if(P.l=ce.start+1<<9,sn&&Buffer.isBuffer(ce.content))ce.content.copy(P,P.l,0,ce.size),P.l+=ce.size+511&-512;else{for(ne=0;ne<ce.size;++ne)P.write_shift(1,ce.content[ne]);for(;511&ne;++ne)P.write_shift(1,0)}for(M=1;M<C.FileIndex.length;++M)if((ce=C.FileIndex[M]).size>0&&ce.size<4096)if(sn&&Buffer.isBuffer(ce.content))ce.content.copy(P,P.l,0,ce.size),P.l+=ce.size+63&-64;else{for(ne=0;ne<ce.size;++ne)P.write_shift(1,ce.content[ne]);for(;63&ne;++ne)P.write_shift(1,0)}if(sn)P.l=P.length;else for(;P.l<P.length;)P.write_shift(1,0);return P}t.version="1.2.1";var Fe,Y=64,$e=-2,ct="d0cf11e0a1b11ae1",Ke=[208,207,17,224,161,177,26,225],Ct="00000000000000000000000000000000",_t={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:$e,FREESECT:-1,HEADER_SIGNATURE:ct,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ct,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function it(C){for(var R=new Array(C.length),S=0;S<C.length;++S)R[S]=String.fromCharCode(C[S]);return R.join("")}function G(C){return Fe?Fe.deflateRawSync(C):on(C)}for(var C,R,H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],je=typeof Uint8Array<"u",Pe=je?new Uint8Array(256):[],Jt=0;Jt<256;++Jt)Pe[Jt]=(void 0,255&((R=139536&((C=Jt)<<1|C<<11)|558144&(C<<5|C<<15))>>16|R>>8|R));function V(C,R){var S=Pe[255&C];return R<=8?S>>>8-R:(S=S<<8|Pe[C>>8&255],R<=16?S>>>16-R:(S=S<<8|Pe[C>>16&255])>>>24-R)}function Gn(C,R){var S=7&R,D=R>>>3;return(C[D]|(S<=6?0:C[D+1]<<8))>>>S&3}function dn(C,R){var S=7&R,D=R>>>3;return(C[D]|(S<=5?0:C[D+1]<<8))>>>S&7}function hn(C,R){var S=7&R,D=R>>>3;return(C[D]|(S<=3?0:C[D+1]<<8))>>>S&31}function nt(C,R){var S=7&R,D=R>>>3;return(C[D]|(S<=1?0:C[D+1]<<8))>>>S&127}function ti(C,R,S){var D=7&R,P=R>>>3,ee=C[P]>>>D;return S<8-D||(ee|=C[P+1]<<8-D,S<16-D)||(ee|=C[P+2]<<16-D,S<24-D)||(ee|=C[P+3]<<24-D),ee&(1<<S)-1}function va(C,R,S){var D=7&R,P=R>>>3;return D<=5?C[P]|=(7&S)<<D:(C[P]|=S<<D&255,C[P+1]=(7&S)>>8-D),R+3}function Pc(C,R,S){return C[R>>>3]|=S=(1&S)<<(7&R),R+1}function Tu(C,R,S){var P=R>>>3;return C[P]|=255&(S<<=7&R),C[P+1]=S>>>=8,R+8}function ny(C,R,S){var P=R>>>3;return C[P]|=255&(S<<=7&R),C[P+1]=255&(S>>>=8),C[P+2]=S>>>8,R+16}function af(C,R){var S=C.length,D=2*S>R?2*S:R+5,P=0;if(S>=R)return C;if(sn){var M=zU(D);if(C.copy)C.copy(M);else for(;P<C.length;++P)M[P]=C[P];return M}if(je){var ee=new Uint8Array(D);if(ee.set)ee.set(C);else for(;P<S;++P)ee[P]=C[P];return ee}return C.length=D,C}function Vo(C){for(var R=new Array(C),S=0;S<C;++S)R[S]=0;return R}function Au(C,R,S){var D=1,P=0,M=0,ee=0,ve=0,ne=C.length,te=je?new Uint16Array(32):Vo(32);for(M=0;M<32;++M)te[M]=0;for(M=ne;M<S;++M)C[M]=0;ne=C.length;var ce=je?new Uint16Array(ne):Vo(ne);for(M=0;M<ne;++M)te[P=C[M]]++,D<P&&(D=P),ce[M]=0;for(te[0]=0,M=1;M<=D;++M)te[M+16]=ve=ve+te[M-1]<<1;for(M=0;M<ne;++M)0!=(ve=C[M])&&(ce[M]=te[ve+16]++);var Le=0;for(M=0;M<ne;++M)if(0!=(Le=C[M]))for(ve=V(ce[M],D)>>D-Le,ee=(1<<D+4-Le)-1;ee>=0;--ee)R[ve|ee<<Le]=15&Le|M<<4;return D}var cf=je?new Uint16Array(512):Vo(512),ry=je?new Uint16Array(32):Vo(32);if(!je){for(var eo=0;eo<512;++eo)cf[eo]=0;for(eo=0;eo<32;++eo)ry[eo]=0}!function(){for(var C=[],R=0;R<32;R++)C.push(5);Au(C,ry,32);var S=[];for(R=0;R<=143;R++)S.push(8);for(;R<=255;R++)S.push(9);for(;R<=279;R++)S.push(7);for(;R<=287;R++)S.push(8);Au(S,cf,288)}();var Nc=function(){for(var R=je?new Uint8Array(32768):[],S=0,D=0;S<Xe.length-1;++S)for(;D<Xe[S+1];++D)R[D]=S;for(;D<32768;++D)R[D]=29;var P=je?new Uint8Array(259):[];for(S=0,D=0;S<Ie.length-1;++S)for(;D<Ie[S+1];++D)P[D]=S;return function(ne,te){return ne.length<8?function M(ve,ne){for(var te=0;te<ve.length;){var ce=Math.min(65535,ve.length-te);for(ne.write_shift(1,+(te+ce==ve.length)),ne.write_shift(2,ce),ne.write_shift(2,65535&~ce);ce-- >0;)ne[ne.l++]=ve[te++]}return ne.l}(ne,te):function ee(ve,ne){for(var te=0,ce=0,Le=je?new Uint16Array(32768):[];ce<ve.length;){var Ge=Math.min(65535,ve.length-ce);if(Ge<10){for(7&(te=va(ne,te,+(ce+Ge==ve.length)))&&(te+=8-(7&te)),ne.l=te/8|0,ne.write_shift(2,Ge),ne.write_shift(2,65535&~Ge);Ge-- >0;)ne[ne.l++]=ve[ce++];te=8*ne.l}else{te=va(ne,te,+(ce+Ge==ve.length)+2);for(var pt=0;Ge-- >0;){var We=ve[ce],Qe=-1,Ut=0;if((Qe=Le[pt=32767&(pt<<5^We)])&&((Qe|=-32768&ce)>ce&&(Qe-=32768),Qe<ce))for(;ve[Qe+Ut]==ve[ce+Ut]&&Ut<250;)++Ut;if(Ut>2){(We=P[Ut])<=22?te=Tu(ne,te,Pe[We+1]>>1)-1:(Tu(ne,te,3),Tu(ne,te+=5,Pe[We-23]>>5),te+=3);var xr=We<8?0:We-4>>2;xr>0&&(ny(ne,te,Ut-Ie[We]),te+=xr),te=Tu(ne,te,Pe[We=R[ce-Qe]]>>3),te-=3;var go=We<4?0:We-2>>1;go>0&&(ny(ne,te,ce-Qe-Xe[We]),te+=go);for(var gi=0;gi<Ut;++gi)Le[pt]=32767&ce,pt=32767&(pt<<5^ve[ce]),++ce;Ge-=Ut-1}else We<=143?We+=48:te=Pc(ne,te,1),te=Tu(ne,te,Pe[We]),Le[pt]=32767&ce,++ce}te=Tu(ne,te,0)-1}}return ne.l=(te+7)/8|0,ne.l}(ne,te)}}();function on(C){var R=_e(50+Math.floor(1.1*C.length)),S=Nc(C,R);return R.slice(0,S)}var ni=je?new Uint16Array(32768):Vo(32768),ya=je?new Uint16Array(32768):Vo(32768),Ti=je?new Uint16Array(128):Vo(128),Jd=1,hH=1;function Vye(C,R){var S=hn(C,R)+257,D=hn(C,R+=5)+1,P=function Wn(C,R){var S=7&R,D=R>>>3;return(C[D]|(S<=4?0:C[D+1]<<8))>>>S&15}(C,R+=5)+4;R+=4;for(var M=0,ee=je?new Uint8Array(19):Vo(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=1,te=je?new Uint8Array(8):Vo(8),ce=je?new Uint8Array(8):Vo(8),Le=ee.length,Ge=0;Ge<P;++Ge)ee[H[Ge]]=M=dn(C,R),ne<M&&(ne=M),te[M]++,R+=3;var pt=0;for(te[0]=0,Ge=1;Ge<=ne;++Ge)ce[Ge]=pt=pt+te[Ge-1]<<1;for(Ge=0;Ge<Le;++Ge)0!=(pt=ee[Ge])&&(ve[Ge]=ce[pt]++);var We=0;for(Ge=0;Ge<Le;++Ge)if(0!=(We=ee[Ge])){pt=Pe[ve[Ge]]>>8-We;for(var Qe=(1<<7-We)-1;Qe>=0;--Qe)Ti[pt|Qe<<We]=7&We|Ge<<3}var Ut=[];for(ne=1;Ut.length<S+D;)switch(pt=Ti[nt(C,R)],R+=7&pt,pt>>>=3){case 16:for(M=3+Gn(C,R),R+=2,pt=Ut[Ut.length-1];M-- >0;)Ut.push(pt);break;case 17:for(M=3+dn(C,R),R+=3;M-- >0;)Ut.push(0);break;case 18:for(M=11+nt(C,R),R+=7;M-- >0;)Ut.push(0);break;default:Ut.push(pt),ne<pt&&(ne=pt)}var xr=Ut.slice(0,S),go=Ut.slice(S);for(Ge=S;Ge<286;++Ge)xr[Ge]=0;for(Ge=D;Ge<30;++Ge)go[Ge]=0;return Jd=Au(xr,ni,286),hH=Au(go,ya,30),R}function pH(C,R){var D=function Bye(C,R){if(3==C[0]&&!(3&C[1]))return[Gl(R),2];for(var S=0,D=0,P=zU(R||1<<18),M=0,ee=P.length>>>0,ve=0,ne=0;!(1&D);)if(D=dn(C,S),S+=3,D>>>1)for(D>>1==1?(ve=9,ne=5):(S=Vye(C,S),ve=Jd,ne=hH);;){!R&&ee<M+32767&&(ee=(P=af(P,M+32767)).length);var ce=ti(C,S,ve),Le=D>>>1==1?cf[ce]:ni[ce];if(S+=15&Le,(Le>>>=4)>>>8&255){if(256==Le)break;var Ge=(Le-=257)<8?0:Le-4>>2;Ge>5&&(Ge=0);var pt=M+Ie[Le];Ge>0&&(pt+=ti(C,S,Ge),S+=Ge),ce=ti(C,S,ne),S+=15&(Le=D>>>1==1?ry[ce]:ya[ce]);var We=(Le>>>=4)<4?0:Le-2>>1,Qe=Xe[Le];for(We>0&&(Qe+=ti(C,S,We),S+=We),!R&&ee<pt&&(ee=(P=af(P,pt+100)).length);M<pt;)P[M]=P[M-Qe],++M}else P[M++]=Le}else{7&S&&(S+=8-(7&S));var te=C[S>>>3]|C[1+(S>>>3)]<<8;if(S+=32,te>0)for(!R&&ee<M+te&&(ee=(P=af(P,M+te)).length);te-- >0;)P[M++]=C[S>>>3],S+=8}return R?[P,S+7>>>3]:[P.slice(0,M),S+7>>>3]}(C.slice(C.l||0),R);return C.l+=D[1],D[0]}function gH(C,R){if(!C)throw new Error(R);typeof console<"u"&&console.error(R)}function mH(C,R){var S=C;is(S,0);var M={FileIndex:[],FullPaths:[]};N(M,{root:R.root});for(var ee=S.length-4;(80!=S[ee]||75!=S[ee+1]||5!=S[ee+2]||6!=S[ee+3])&&ee>=0;)--ee;S.l=ee+4,S.l+=4;var ve=S.read_shift(2);S.l+=6;var ne=S.read_shift(4);for(S.l=ne,ee=0;ee<ve;++ee){S.l+=20;var te=S.read_shift(4),ce=S.read_shift(4),Le=S.read_shift(2),Ge=S.read_shift(2),pt=S.read_shift(2);S.l+=8;var We=S.read_shift(4),Qe=a(S.slice(S.l+Le,S.l+Le+Ge));S.l+=Le+Ge+pt;var Ut=S.l;S.l=We+4,Uye(S,te,ce,M,Qe),S.l=Ut}return M}function Uye(C,R,S,D,P){C.l+=2;var M=C.read_shift(2),ee=C.read_shift(2),ve=function o(C){var R=65535&C.read_shift(2),S=65535&C.read_shift(2),D=new Date,P=31&S,M=15&(S>>>=5);S>>>=4,D.setMilliseconds(0),D.setFullYear(S+1980),D.setMonth(M-1),D.setDate(P);var ee=31&R,ve=63&(R>>>=5);return D.setHours(R>>>=6),D.setMinutes(ve),D.setSeconds(ee<<1),D}(C);if(8257&M)throw new Error("Unsupported ZIP encryption");C.read_shift(4);for(var te=C.read_shift(4),ce=C.read_shift(4),Le=C.read_shift(2),Ge=C.read_shift(2),pt="",We=0;We<Le;++We)pt+=String.fromCharCode(C[C.l++]);if(Ge){var Qe=a(C.slice(C.l,C.l+Ge));(Qe[21589]||{}).mt&&(ve=Qe[21589].mt),((P||{})[21589]||{}).mt&&(ve=P[21589].mt)}C.l+=Ge;var Ut=C.slice(C.l,C.l+te);switch(ee){case 8:Ut=function ie(C,R){if(!Fe)return pH(C,R);var D=new(0,Fe.InflateRaw),P=D._processChunk(C.slice(C.l),D._finishFlushFlag);return C.l+=D.bytesRead,P}(C,ce);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ee)}var xr=!1;8&M&&(134695760==C.read_shift(4)&&(C.read_shift(4),xr=!0),te=C.read_shift(4),ce=C.read_shift(4)),te!=R&&gH(xr,"Bad compressed size: "+R+" != "+te),ce!=S&&gH(xr,"Bad uncompressed size: "+S+" != "+ce),xR(D,pt,Ut,{unsafe:!0,mt:ve})}var EI={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Hye(C,R){if(C.ctype)return C.ctype;var S=C.name||"",D=S.match(/\.([^\.]+)$/);return D&&EI[D[1]]||R&&(D=(S=R).match(/[\.\\]([^\.\\])+$/))&&EI[D[1]]?EI[D[1]]:"application/octet-stream"}function $ye(C){for(var R=vv(C),S=[],D=0;D<R.length;D+=76)S.push(R.slice(D,D+76));return S.join("\r\n")+"\r\n"}function Gye(C){var R=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(te){var ce=te.charCodeAt(0).toString(16).toUpperCase();return"="+(1==ce.length?"0"+ce:ce)});"\n"==(R=R.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(R="=0D"+R.slice(1));for(var S=[],D=(R=R.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),P=0;P<D.length;++P){var M=D[P];if(0!=M.length)for(var ee=0;ee<M.length;){var ve=76,ne=M.slice(ee,ee+ve);"="==ne.charAt(ve-1)?ve--:"="==ne.charAt(ve-2)?ve-=2:"="==ne.charAt(ve-3)&&(ve-=3),ne=M.slice(ee,ee+ve),(ee+=ve)<M.length&&(ne+="="),S.push(ne)}else S.push("")}return S.join("\r\n")}function zye(C,R,S){for(var ee,D="",P="",M="",ve=0;ve<10;++ve){var ne=R[ve];if(!ne||ne.match(/^\s*$/))break;var te=ne.match(/^(.*?):\s*([^\s].*)$/);if(te)switch(te[1].toLowerCase()){case"content-location":D=te[2].trim();break;case"content-type":M=te[2].trim();break;case"content-transfer-encoding":P=te[2].trim()}}switch(++ve,P.toLowerCase()){case"base64":ee=Mo(No(R.slice(ve).join("")));break;case"quoted-printable":ee=function Wye(C){for(var R=[],S=0;S<C.length;++S){for(var D=C[S];S<=C.length&&"="==D.charAt(D.length-1);)D=D.slice(0,D.length-1)+C[++S];R.push(D)}for(var P=0;P<R.length;++P)R[P]=R[P].replace(/[=][0-9A-Fa-f]{2}/g,function(M){return String.fromCharCode(parseInt(M.slice(1),16))});return Mo(R.join("\r\n"))}(R.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+P)}var ce=xR(C,D.slice(S.length),ee,{unsafe:!0});M&&(ce.ctype=M)}function xR(C,R,S,D){var P=D&&D.unsafe;P||N(C);var M=!P&&Et.find(C,R);if(!M){var ee=C.FullPaths[0];R.slice(0,ee.length)==ee?ee=R:("/"!=ee.slice(-1)&&(ee+="/"),ee=(ee+R).replace("//","/")),M={name:i(R),type:2},C.FileIndex.push(M),C.FullPaths.push(ee),P||Et.utils.cfb_gc(C)}return M.content=S,M.size=S?S.length:0,D&&(D.CLSID&&(M.clsid=D.CLSID),D.mt&&(M.mt=D.mt),D.ct&&(M.ct=D.ct)),M}return t.find=function pe(C,R){var S=C.FullPaths.map(function(ne){return ne.toUpperCase()}),D=S.map(function(ne){var te=ne.split("/");return te[te.length-("/"==ne.slice(-1)?2:1)]}),P=!1;47===R.charCodeAt(0)?(P=!0,R=S[0].slice(0,-1)+R):P=-1!==R.indexOf("/");var M=R.toUpperCase(),ee=!0===P?S.indexOf(M):D.indexOf(M);if(-1!==ee)return C.FileIndex[ee];var ve=!M.match(xv);for(M=M.replace(Ts,""),ve&&(M=M.replace(xv,"!")),ee=0;ee<S.length;++ee)if((ve?S[ee].replace(xv,"!"):S[ee]).replace(Ts,"")==M||(ve?D[ee].replace(xv,"!"):D[ee]).replace(Ts,"")==M)return C.FileIndex[ee];return null},t.read=function q(C,R){var S=R&&R.type;switch(S||sn&&Buffer.isBuffer(C)&&(S="buffer"),S||"base64"){case"file":return function O(C,R){return u(),l(c.readFileSync(C),R)}(C,R);case"base64":return l(Mo(No(C)),R);case"binary":return l(Mo(C),R)}return l(C,R)},t.parse=l,t.write=function Pt(C,R){var S=le(C,R);switch(R&&R.type||"buffer"){case"file":return u(),c.writeFileSync(R.filename,S),S;case"binary":return"string"==typeof S?S:it(S);case"base64":return vv("string"==typeof S?S:it(S));case"buffer":if(sn)return Buffer.isBuffer(S)?S:_u(S);case"array":return"string"==typeof S?Mo(S):S}return S},t.writeFile=function fn(C,R,S){u();var D=le(C,S);c.writeFileSync(R,D)},t.utils={cfb_new:function Zye(C){var R={};return N(R,C),R},cfb_add:xR,cfb_del:function Yye(C,R){N(C);var S=Et.find(C,R);if(S)for(var D=0;D<C.FileIndex.length;++D)if(C.FileIndex[D]==S)return C.FileIndex.splice(D,1),C.FullPaths.splice(D,1),!0;return!1},cfb_mov:function Qye(C,R,S){N(C);var D=Et.find(C,R);if(D)for(var P=0;P<C.FileIndex.length;++P)if(C.FileIndex[P]==D)return C.FileIndex[P].name=i(S),C.FullPaths[P]=S,!0;return!1},cfb_gc:function Xye(C){K(C,!0)},ReadShift:Sv,CheckField:G5,prep_blob:is,bconcat:Li,use_zlib:function B(C){try{var S=new(0,C.InflateRaw);if(S._processChunk(new Uint8Array([3,0]),S._finishFlushFlag),!S.bytesRead)throw new Error("zlib does not expose bytesRead");Fe=C}catch(D){console.error("cannot use native zlib: "+(D.message||D))}},_deflateRaw:on,_inflateRaw:pH,consts:_t},t}();let Kl;function Yae(e){return"string"==typeof e?yv(e):Array.isArray(e)?function Eae(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function Iv(e,t,n){if(typeof Kl<"u"&&Kl.writeFileSync)return n?Kl.writeFileSync(e,t,n):Kl.writeFileSync(e,t);if(typeof Deno<"u"){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=yv(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?Cc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var i=new Blob([Yae(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Wl(t)),a.write(t),a.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Or(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function f5(e,t){for(var n=[],r=Or(e),i=0;i!==r.length;++i)null==n[e[r[i]][t]]&&(n[e[r[i]][t]]=r[i]);return n}function Mw(e){for(var t=[],n=Or(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function Fw(e){for(var t=[],n=Or(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var Ow=new Date(1899,11,30,0,0,0);function Vi(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(Ow.getTime()+6e4*(e.getTimezoneOffset()-Ow.getTimezoneOffset())))/864e5}var d5=new Date,Jae=Ow.getTime()+6e4*(d5.getTimezoneOffset()-Ow.getTimezoneOffset()),h5=d5.getTimezoneOffset();function $2(e){var t=new Date;return t.setTime(24*e*60*60*1e3+Jae),t.getTimezoneOffset()!==h5&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-h5)),t}var p5=new Date("2017-02-19T19:06:09.000Z"),g5=isNaN(p5.getFullYear())?new Date("2/19/17"):p5,tce=2017==g5.getFullYear();function br(e,t){var n=new Date(e);if(tce)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==g5.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function Od(e,t){if(sn&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return Cc(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Cc(function WU(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(255==e[0]&&254==e[1])return Cc(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Cc(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function Xn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Xn(e[n]));return t}function Lr(e,t){for(var n="";n.length<t;)n+=e;return n}function Ha(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(t=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),isNaN(t=Number(r)))?t:t/n}var nce=["january","february","march","april","may","june","july","august","september","october","november","december"];function R0(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==nce.indexOf(o))return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function Zt(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=sn?_u(n):function wae(e){for(var t=[],n=0,r=e.length+250,i=Gl(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var a=1023&e.charCodeAt(++s);i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(3&o)<<4,i[n++]=128|63&a}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|63&o;n>r&&(t.push(i.slice(0,n)),n=0,i=Gl(65535),r=65530)}return t.push(i.slice(0,n)),Li(t)}(n),Et.utils.cfb_add(e,t,r);Et.utils.cfb_add(e,t,n)}else e.file(t,n)}function W2(){return Et.utils.cfb_new()}var Vr='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',z2=Mw({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),q2=/[&<>'"]/g,lce=/[\u0000-\u0008\u000b-\u001f]/g;function $n(e){return(e+"").replace(q2,function(n){return z2[n]}).replace(lce,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function w5(e){return $n(e).replace(/ /g,"_x0020_")}var I5=/[\u0000-\u001f]/g;function T5(e){return(e+"").replace(q2,function(n){return z2[n]}).replace(/\n/g,"<br/>").replace(I5,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function K2(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,t+=String.fromCharCode(o)):(s=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s):(a=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&(o=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(1023&a)))));return t}function C5(e){var n,r,a,t=Gl(2*e.length),i=1,s=0,o=0;for(r=0;r<e.length;r+=i)i=1,(a=e.charCodeAt(r))<128?n=a:a<224?(n=64*(31&a)+(63&e.charCodeAt(r+1)),i=2):a<240?(n=4096*(15&a)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),i=3):(i=4,n=262144*(7&a)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),o=55296+((n-=65536)>>>10&1023),n=56320+(1023&n)),0!==o&&(t[s++]=255&o,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function S5(e){return _u(e,"binary").toString("utf8")}var Lw="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",vr=sn&&(S5(Lw)==K2(Lw)&&S5||C5(Lw)==K2(Lw)&&C5)||K2,Cc=sn?function(e){return _u(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},D5=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),k5=/(^\s|\s$|\n)/;function rs(e,t){return"<"+e+(t.match(k5)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Av(e){return Or(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ve(e,t,n){return"<"+e+(null!=n?Av(n):"")+(null!=t?(t.match(k5)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Z2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}var di={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Zl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Lo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},R5=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=10240)t.push.apply(t,e[0][r].slice(i,i+10240));return t},P5=sn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:_u(t)})):R5(e)}:R5,N5=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(yu(e,i)));return r.join("").replace(Ts,"")},Vw=sn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ts,""):N5(e,t,n)}:N5,M5=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},F5=sn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):M5(e,t,n)}:M5,O5=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(N0(e,i)));return r.join("")},P0=sn?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):O5(t,n,r)}:O5,L5=function(e,t){var n=Bi(e,t);return n>0?P0(e,t+4,t+4+n-1):""},Q2=L5,V5=function(e,t){var n=Bi(e,t);return n>0?P0(e,t+4,t+4+n-1):""},X2=V5,B5=function(e,t){var n=2*Bi(e,t);return n>0?P0(e,t+4,t+4+n-1):""},J2=B5,U5=function(t,n){var r=Bi(t,n);return r>0?Vw(t,n+4,n+4+r):""},ek=U5,j5=function(e,t){var n=Bi(e,t);return n>0?P0(e,t+4,t+4+n):""},tk=j5,H5=function(e,t){return function vce(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],s=5;s>=0;--s)i=256*i+e[t+s];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)},Bw=H5,nk=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};sn&&(Q2=function(t,n){if(!Buffer.isBuffer(t))return L5(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},X2=function(t,n){if(!Buffer.isBuffer(t))return V5(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},J2=function(t,n){if(!Buffer.isBuffer(t))return B5(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},ek=function(t,n){if(!Buffer.isBuffer(t))return U5(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},tk=function(t,n){if(!Buffer.isBuffer(t))return j5(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},Bw=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):H5(t,n)},nk=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array}),typeof An<"u"&&function $5(){Vw=function(e,t,n){return An.utils.decode(1200,e.slice(t,n)).replace(Ts,"")},P0=function(e,t,n){return An.utils.decode(65001,e.slice(t,n))},Q2=function(e,t){var n=Bi(e,t);return n>0?An.utils.decode(Md,e.slice(t+4,t+4+n-1)):""},X2=function(e,t){var n=Bi(e,t);return n>0?An.utils.decode(Po,e.slice(t+4,t+4+n-1)):""},J2=function(e,t){var n=2*Bi(e,t);return n>0?An.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},ek=function(e,t){var n=Bi(e,t);return n>0?An.utils.decode(1200,e.slice(t+4,t+4+n)):""},tk=function(e,t){var n=Bi(e,t);return n>0?An.utils.decode(65001,e.slice(t+4,t+4+n)):""}}();var N0=function(e,t){return e[t]},yu=function(e,t){return 256*e[t+1]+e[t]},xce=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},Bi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ld=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Ece=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Sv(e,t){var r,i,o,a,c,u,n="",s=[];switch(t){case"dbcs":if(u=this.l,sn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)n+=String.fromCharCode(yu(this,u)),u+=2;e*=2;break;case"utf8":n=P0(this,this.l,this.l+e);break;case"utf16le":n=Vw(this,this.l,this.l+(e*=2));break;case"wstr":if(!(typeof An<"u"))return Sv.call(this,e,"dbcs");n=An.utils.decode(Po,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":n=Q2(this,this.l),e=4+Bi(this,this.l);break;case"lpstr-cp":n=X2(this,this.l),e=4+Bi(this,this.l);break;case"lpwstr":n=J2(this,this.l),e=4+2*Bi(this,this.l);break;case"lpp4":e=4+Bi(this,this.l),n=ek(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Bi(this,this.l),n=tk(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,n="";0!==(o=N0(this,this.l+e++));)s.push(mv(o));n=s.join("");break;case"_wstr":for(e=0,n="";0!==(o=yu(this,this.l+e));)s.push(mv(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",u=this.l,c=0;c<e;++c){if(this.lens&&-1!==this.lens.indexOf(u))return o=N0(this,u),this.l=u+1,a=Sv.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(mv(yu(this,u))),u+=2}n=s.join(""),e*=2;break;case"cpstr":if(typeof An<"u"){n=An.utils.decode(Po,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(n="",u=this.l,c=0;c!=e;++c){if(this.lens&&-1!==this.lens.indexOf(u))return o=N0(this,u),this.l=u+1,a=Sv.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(mv(N0(this,u))),u+=1}n=s.join("");break;default:switch(e){case 1:return r=N0(this,this.l),this.l++,r;case 2:return r=("i"===t?xce:yu)(this,this.l),this.l+=2,r;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(i=Bi(this,this.l),this.l+=4,i):(r=(e>0?Ld:Ece)(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return i=8==e?Bw(this,this.l):Bw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=F5(this,this.l,e)}}return this.l+=e,n}var wce=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Ice=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Tce=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function Ace(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)Tce(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){if(typeof An<"u"&&874==Md)for(i=0;i!=t.length;++i){var s=An.utils.encode(Md,t.charAt(i));this[this.l+i]=s[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var a=t.charCodeAt(i);this[this.l++]=255&a,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8);break;case 3:r=3,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8),this[this.l+2]=255&(t>>>=8);break;case 4:r=4,wce(this,t,this.l);break;case 8:if(r=8,"f"===n){!function yce(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?0==o?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[n+a]=255&s;e[n+6]=(15&i)<<4|15&s,e[n+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,Ice(this,t,this.l)}}return this.l+=r,this}function G5(e,t){var n=F5(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function is(e,t){e.l=t,e.read_shift=Sv,e.chk=G5,e.write_shift=Ace}function Cs(e,t){e.l+=t}function _e(e){var t=Gl(e);return is(t,0),t}function Ys(){var e=[],t=sn?256:2048,n=function(u){var l=_e(u);return is(l,0),l},r=n(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=n(Math.max(u+1,t)))};return{next:s,push:function(u){i(),null==(r=u).l&&(r.l=r.length),s(t)},end:function(){return i(),Li(e)},_bufs:e}}function Re(e,t,n,r){var s,i=+t;if(!isNaN(i)){r||(r=Wv[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=e.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,128+(127&i)),o.write_shift(1,i>>7));for(var a=0;4!=a;++a){if(!(r>=128)){o.write_shift(1,r);break}o.write_shift(1,128+(127&r)),r>>=7}r>0&&nk(n)&&e.push(n)}}function Dv(e,t,n){var r=Xn(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function W5(e,t,n){var r=Xn(e);return r.s=Dv(r.s,t.s,n),r.e=Dv(r.e,t.s,n),r}function bv(e,t){if(e.cRel&&e.c<0)for(e=Xn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Xn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Rt(e);return!e.cRel&&null!=e.cRel&&(n=function Dce(e){return e.replace(/^([A-Z])/,"$$$1")}(n)),!e.rRel&&null!=e.rRel&&(n=function Cce(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function rk(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?bv(e.s,t.biff)+":"+bv(e.e,t.biff):(e.s.rRel?"":"$")+Br(e.s.r)+":"+(e.e.rRel?"":"$")+Br(e.e.r):(e.s.cRel?"":"$")+yr(e.s.c)+":"+(e.e.cRel?"":"$")+yr(e.e.c)}function ik(e){return parseInt(function Sce(e){return e.replace(/\$(\d+)$/,"$1")}(e),10)-1}function Br(e){return""+(e+1)}function sk(e){for(var t=function bce(e){return e.replace(/^\$([A-Z])/,"$1")}(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function yr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Jr(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function Rt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Qs(e){var t=e.indexOf(":");return-1==t?{s:Jr(e),e:Jr(e)}:{s:Jr(e.slice(0,t)),e:Jr(e.slice(t+1))}}function qt(e,t){return typeof t>"u"||"number"==typeof t?qt(e.s,e.e):("string"!=typeof e&&(e=Rt(e)),"string"!=typeof t&&(t=Rt(t)),e==t?e:e+":"+t)}function xn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function Sc(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?Eu[e.v]||e.v:function z5(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=Fo(e.z,n?Vi(t):t)}catch{}try{return e.w=Fo((e.XF||{}).numFmtId||(n?14:0),n?Vi(t):t)}catch{return""+t}}(e,null==t?e.v:t))}function Yl(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function q5(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense;null!=Fr&&null==i&&(i=Fr);var s=e||(i?[]:{}),o=0,a=0;if(s&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var c="string"==typeof r.origin?Jr(r.origin):r.origin;o=c.r,a=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var l=xn(s["!ref"]);u.s.c=l.s.c,u.s.r=l.s.r,u.e.c=Math.max(u.e.c,l.e.c),u.e.r=Math.max(u.e.r,l.e.r),-1==o&&(u.e.r=o=l.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[h].length;++g)if(!(typeof t[h][g]>"u")){var _={v:t[h][g]},y=o+h,v=a+g;if(u.s.r>y&&(u.s.r=y),u.s.c>v&&(u.s.c=v),u.e.r<y&&(u.e.r=y),u.e.c<v&&(u.e.c=v),!t[h][g]||"object"!=typeof t[h][g]||Array.isArray(t[h][g])||t[h][g]instanceof Date)if(Array.isArray(_.v)&&(_.f=t[h][g][1],_.v=_.v[0]),null===_.v)if(_.f)_.t="n";else if(r.nullError)_.t="e",_.v=0;else{if(!r.sheetStubs)continue;_.t="z"}else"number"==typeof _.v?_.t="n":"boolean"==typeof _.v?_.t="b":_.v instanceof Date?(_.z=r.dateNF||It[14],r.cellDates?(_.t="d",_.w=Fo(_.z,Vi(_.v))):(_.t="n",_.v=Vi(_.v),_.w=Fo(_.z,_.v))):_.t="s";else _=t[h][g];if(i)s[y]||(s[y]=[]),s[y][v]&&s[y][v].z&&(_.z=s[y][v].z),s[y][v]=_;else{var x=Rt({c:v,r:y});s[x]&&s[x].z&&(_.z=s[x].z),s[x]=_}}}return u.s.c<1e7&&(s["!ref"]=qt(u)),s}function M0(e,t){return q5(null,e,t)}function $a(e,t){return t||(t=_e(4)),t.write_shift(4,e),t}function Ss(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function Ui(e,t){var n=!1;return null==t&&(n=!0,t=_e(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function Pce(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ok(e,t){var n=e.l,r=e.read_shift(1),i=Ss(e),s=[],o={t:i,h:i};if(1&r){for(var a=e.read_shift(4),c=0;c!=a;++c)s.push(Pce(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var Fce=ok;function ha(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Vd(e,t){return null==t&&(t=_e(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Bd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ud(e,t){return null==t&&(t=_e(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Lce=Ss,K5=Ui;function ak(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Uw(e,t){var n=!1;return null==t&&(n=!0,t=_e(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var Vce=Ss,ck=ak,uk=Uw;function lk(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var i=0===r?Bw([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Ld(t,0)>>2;return n?i/100:i}function Z5(e,t){null==t&&(t=_e(4));var n=0,r=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?i:e)<<2)+(n+2))}function Y5(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var jd=Y5,F0=function Bce(e,t){return t||(t=_e(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function Ds(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Hd(e,t){return(t||_e(8)).write_shift(8,e,"f")}function jw(e,t){if(t||(t=_e(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var dk={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},hk={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Qce(e){return e.map(function(t){return[t>>16&255,t>>8&255,255&t]})}var $d=Xn(Qce([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Eu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},pk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ww={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function t9(e,t){var i,n=function Xae(e){for(var t=[],n=Or(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(pk),r=[];r[r.length]=Vr,r[r.length]=Ve("Types",null,{xmlns:di.CT,"xmlns:xsd":di.xsd,"xmlns:xsi":di.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ve("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(r[r.length]=Ve("Override",null,{PartName:("/"==(i=e[c][0])[0]?"":"/")+i,ContentType:Ww[c][t.bookType]||Ww[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){r[r.length]=Ve("Override",null,{PartName:("/"==u[0]?"":"/")+u,ContentType:Ww[c][t.bookType]||Ww[c].xlsx})})},a=function(c){(e[c]||[]).forEach(function(u){r[r.length]=Ve("Override",null,{PartName:("/"==u[0]?"":"/")+u,ContentType:n[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Kt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function kv(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function O0(e){var t=[Vr,Ve("Relationships",null,{xmlns:di.RELS})];return Or(e["!id"]).forEach(function(n){t[t.length]=Ve("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Mn(e,t,n,r,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,s?i.TargetMode=s:[Kt.HLINK,Kt.XPATH,Kt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function n9(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function iue(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function r9(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+gv.version+"</meta:generator></office:meta></office:document-meta>"}var wu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function mk(e,t,n,r,i){null!=i[e]||null==t||""===t||(i[e]=t,t=$n(t),r[r.length]=n?Ve(e,t,n):rs(e,t))}function s9(e,t){var n=t||{},r=[Vr,Ve("cp:coreProperties",null,{"xmlns:cp":di.CORE_PROPS,"xmlns:dc":di.dc,"xmlns:dcterms":di.dcterms,"xmlns:dcmitype":di.dcmitype,"xmlns:xsi":di.xsi})],i={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&mk("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:Z2(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&mk("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:Z2(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=wu.length;++s){var o=wu[s],a=n.Props&&null!=n.Props[o[1]]?n.Props[o[1]]:e?e[o[1]]:null;!0===a?a="1":!1===a?a="0":"number"==typeof a&&(a=String(a)),null!=a&&mk(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Gd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],o9=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function c9(e){var t=[],n=Ve;return e||(e={}),e.Application="SheetJS",t[t.length]=Vr,t[t.length]=Ve("Properties",null,{xmlns:di.EXT_PROPS,"xmlns:vt":di.vt}),Gd.forEach(function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=$n(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+$n(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function u9(e){var t=[Vr,Ve("Properties",null,{xmlns:di.CUST_PROPS,"xmlns:vt":di.vt})];if(!e)return t.join("");var n=1;return Or(e).forEach(function(i){++n,t[t.length]=Ve("property",function _ce(e,t){switch(typeof e){case"string":var n=Ve("vt:lpwstr",$n(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return Ve((0|e)==e?"vt:i4":"vt:r8",$n(String(e)));case"boolean":return Ve("vt:bool",e?"true":"false")}if(e instanceof Date)return Ve("vt:filetime",Z2(e));throw new Error("Unable to serialize "+e)}(e[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:$n(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _k={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function g9(e,t){var n=_e(4),r=_e(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=_e(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function hue(e){var n=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);i*=1e7;var s=(r*=1e7)/Math.pow(2,32)|0;s>0&&(r%=Math.pow(2,32),i+=s);var o=_e(8);return o.write_shift(4,r),o.write_shift(4,i),o}(t);break;case 31:case 80:for((r=_e(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Li([n,r])}var _9=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function xue(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function v9(e,t,n){var r=_e(8),i=[],s=[],o=8,a=0,c=_e(8),u=_e(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),i.push(u),o+=8+c.length,!t){(u=_e(8)).write_shift(4,0),i.unshift(u);var l=[_e(4)];for(l[0].write_shift(4,e.length),a=0;a<e.length;++a){var h=e[a][0];for((c=_e(8+2*(h.length+1)+(h.length%2?0:2))).write_shift(4,a+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);l.push(c)}c=Li(l),s.unshift(c),o+=8+c.length}for(a=0;a<e.length;++a)if((!t||t[e[a][0]])&&!(_9.indexOf(e[a][0])>-1||o9.indexOf(e[a][0])>-1)&&null!=e[a][1]){var g=e[a][1],_=0;if(t){var y=n[_=+t[e[a][0]]];if("version"==y.p&&"string"==typeof g){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}c=g9(y.t,g)}else{var x=xue(g);-1==x&&(x=31,g=String(g)),c=g9(x,g)}s.push(c),(u=_e(8)).write_shift(4,t?_:2+a),i.push(u),o+=8+c.length}var T=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,T),T+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),Li([r].concat(i).concat(s))}function x9(e,t,n,r,i,s){var o=_e(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Et.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var c=v9(e,n,r);if(a.push(c),i){var u=v9(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),a.push(u)}return Li(a)}function Xs(e,t){return t||(t=_e(2)),t.write_shift(2,+!!e),t}function hi(e){return e.read_shift(2,"u")}function pa(e,t){return t||(t=_e(2)),t.write_shift(2,e),t}function w9(e,t,n){return n||(n=_e(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function Pv(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=Po;n&&n.biff>=8&&(Po=1200),n&&8!=n.biff?12==n.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont"),n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?e.read_shift(r,i):"";return Po=s,a}function Aue(e){var t=e.t||"",r=_e(3);r.write_shift(2,t.length),r.write_shift(1,1);var i=_e(2*t.length);return i.write_shift(2*t.length,t,"utf16le"),Li([r,i])}function I9(e,t,n){return n||(n=_e(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function T9(e,t){t||(t=_e(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Rue(e){var t=_e(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(28==s)T9(r=r.slice(1),t);else if(2&s){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var a=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)t.write_shift(2,a.charCodeAt(n));t.write_shift(2,0),8&s&&T9(i>-1?r.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var c=0;"../"==r.slice(3*c,3*c+3)||"..\\"==r.slice(3*c,3*c+3);)++c;for(t.write_shift(2,c),t.write_shift(4,r.length-3*c+1),n=0;n<r.length-3*c;++n)t.write_shift(1,255&r.charCodeAt(n+3*c));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function qd(e,t,n,r){return r||(r=_e(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function Mue(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function Kw(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function D9(e,t){return t||(t=_e(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Ek(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var s=_e(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function zue(e,t){var n=!t||t.biff>=8?2:1,r=_e(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function fle(e,t,n,r){var i=n&&5==n.biff;r||(r=_e(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return null==s.l&&(s.l=s.length),s}function N9(e,t,n,r){var i=n&&5==n.biff;r||(r=_e(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function Ble(e){var t=_e(24),n=Jr(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return Li([t,Rue(e[1])])}function jle(e){var t=e[1].Tooltip,n=_e(10+2*(t.length+1));n.write_shift(2,2048);var r=Jr(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}var wk=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Mw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(a,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var l=M0(function n(a,c){var u=[],l=Gl(1);switch(c.type){case"base64":l=Mo(No(a));break;case"binary":l=Mo(a);break;case"buffer":case"array":l=a}is(l,0);var h=l.read_shift(1),g=!!(136&h),_=!1,y=!1;switch(h){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:_=!0,g=!0;break;case 140:y=!0;break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,x=521;2==h&&(v=l.read_shift(2)),l.l+=3,2!=h&&(v=l.read_shift(4)),v>1048576&&(v=1e6),2!=h&&(x=l.read_shift(2));var T=l.read_shift(2),w=c.codepage||1252;2!=h&&(l.l+=16,l.read_shift(1),0!==l[l.l]&&(w=e[l[l.l]]),l.l+=1,l.l+=2),y&&(l.l+=36);for(var I=[],k={},O=Math.min(l.length,2==h?521:x-10-(_?264:0)),q=y?32:11;l.l<O&&13!=l[l.l];)switch(k={},k.name=An.utils.decode(w,l.slice(l.l,l.l+q)).replace(/[\u0000\r\n].*$/g,""),l.l+=q,k.type=String.fromCharCode(l.read_shift(1)),2!=h&&!y&&(k.offset=l.read_shift(4)),k.len=l.read_shift(1),2==h&&(k.offset=l.read_shift(2)),k.dec=l.read_shift(1),k.name.length&&I.push(k),2!=h&&(l.l+=y?13:14),k.type){case"B":(!_||8!=k.len)&&c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(13!==l[l.l]&&(l.l=x-1),13!==l.read_shift(1))throw new Error("DBF Terminator not found "+l.l+" "+l[l.l]);l.l=x;var N=0,z=0;for(u[0]=[],z=0;z!=I.length;++z)u[0][z]=I[z].name;for(;v-- >0;)if(42!==l[l.l])for(++l.l,u[++N]=[],z=0,z=0;z!=I.length;++z){var K=l.slice(l.l,l.l+I[z].len);l.l+=I[z].len,is(K,0);var le=An.utils.decode(w,K);switch(I[z].type){case"C":le.trim().length&&(u[N][z]=le.replace(/\s+$/,""));break;case"D":u[N][z]=8===le.length?new Date(+le.slice(0,4),+le.slice(4,6)-1,+le.slice(6,8)):le;break;case"F":u[N][z]=parseFloat(le.trim());break;case"+":case"I":u[N][z]=y?2147483648^K.read_shift(-4,"i"):K.read_shift(4,"i");break;case"L":switch(le.trim().toUpperCase()){case"Y":case"T":u[N][z]=!0;break;case"N":case"F":u[N][z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+le+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[N][z]="##MEMO##"+(y?parseInt(le.trim(),10):K.read_shift(4));break;case"N":(le=le.replace(/\u0000/g,"").trim())&&"."!=le&&(u[N][z]=+le||0);break;case"@":u[N][z]=new Date(K.read_shift(-8,"f")-621356832e5);break;case"T":u[N][z]=new Date(864e5*(K.read_shift(4)-2440588)+K.read_shift(4));break;case"Y":u[N][z]=K.read_shift(4,"i")/1e4+K.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][z]=-K.read_shift(-8,"f");break;case"B":if(_&&8==I[z].len){u[N][z]=K.read_shift(8,"f");break}case"G":case"P":K.l+=I[z].len;break;case"0":if("_NullFlags"===I[z].name)break;default:throw new Error("DBF Unsupported data type "+I[z].type)}}else l.l+=T;if(2!=h&&l.l<l.length&&26!=l[l.l++])throw new Error("DBF EOF Marker missing "+(l.l-1)+" of "+l.length+" "+l[l.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=I,u}(a,u),u);return l["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,l}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function i(a,c){try{return Yl(r(a,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function o(a,c){var u=c||{};if(+u.codepage>=0&&la(+u.codepage),"string"==u.type)throw new Error("Cannot write DBF to JS string");var l=Ys(),h=aI(a,{header:1,raw:!0,cellDates:!0}),g=h[0],_=h.slice(1),y=a["!cols"]||[],v=0,x=0,T=0,w=1;for(v=0;v<g.length;++v)if(((y[v]||{}).DBF||{}).name)g[v]=y[v].DBF.name,++T;else if(null!=g[v]){if(++T,"number"==typeof g[v]&&(g[v]=g[v].toString(10)),"string"!=typeof g[v])throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v)for(x=0;x<1024;++x)if(-1==g.indexOf(g[v]+"_"+x)){g[v]+="_"+x;break}}var I=xn(a["!ref"]),k=[],O=[],q=[];for(v=0;v<=I.e.c-I.s.c;++v){var N="",z="",K=0,le=[];for(x=0;x<_.length;++x)null!=_[x][v]&&le.push(_[x][v]);if(0!=le.length&&null!=g[v]){for(x=0;x<le.length;++x){switch(typeof le[x]){case"number":z="B";break;case"string":default:z="C";break;case"boolean":z="L";break;case"object":z=le[x]instanceof Date?"D":"C"}K=Math.max(K,String(le[x]).length),N=N&&N!=z?"C":z}K>250&&(K=250),"C"==(z=((y[v]||{}).DBF||{}).type)&&y[v].DBF.len>K&&(K=y[v].DBF.len),"B"==N&&"N"==z&&(N="N",q[v]=y[v].DBF.dec,K=y[v].DBF.len),O[v]="C"==N||"N"==z?K:s[N]||0,w+=O[v],k[v]=N}else k[v]="?"}var pe=l.next(32);for(pe.write_shift(4,318902576),pe.write_shift(4,_.length),pe.write_shift(2,296+32*T),pe.write_shift(2,w),v=0;v<4;++v)pe.write_shift(4,0);for(pe.write_shift(4,0|(+t[Md]||3)<<8),v=0,x=0;v<g.length;++v)if(null!=g[v]){var Y=l.next(32),$e=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Y.write_shift(1,$e,"sbcs"),Y.write_shift(1,"?"==k[v]?"C":k[v],"sbcs"),Y.write_shift(4,x),Y.write_shift(1,O[v]||s[k[v]]||0),Y.write_shift(1,q[v]||0),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(1,0),Y.write_shift(4,0),Y.write_shift(4,0),x+=O[v]||s[k[v]]||0}var ct=l.next(264);for(ct.write_shift(4,13),v=0;v<65;++v)ct.write_shift(4,0);for(v=0;v<_.length;++v){var Ke=l.next(w);for(Ke.write_shift(1,0),x=0;x<g.length;++x)if(null!=g[x])switch(k[x]){case"L":Ke.write_shift(1,null==_[v][x]?63:_[v][x]?84:70);break;case"B":Ke.write_shift(8,_[v][x]||0,"f");break;case"N":var Ct="0";for("number"==typeof _[v][x]&&(Ct=_[v][x].toFixed(q[x]||0)),T=0;T<O[x]-Ct.length;++T)Ke.write_shift(1,32);Ke.write_shift(1,Ct,"sbcs");break;case"D":_[v][x]?(Ke.write_shift(4,("0000"+_[v][x].getFullYear()).slice(-4),"sbcs"),Ke.write_shift(2,("00"+(_[v][x].getMonth()+1)).slice(-2),"sbcs"),Ke.write_shift(2,("00"+_[v][x].getDate()).slice(-2),"sbcs")):Ke.write_shift(8,"00000000","sbcs");break;case"C":var _t=String(null!=_[v][x]?_[v][x]:"").slice(0,O[x]);for(Ke.write_shift(1,_t,"sbcs"),T=0;T<O[x]-_t.length;++T)Ke.write_shift(1,32)}}return l.next(1).write_shift(1,26),l.end()}}}(),j9=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Or(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,_){var y=e[_];return"number"==typeof y?V2(y):y},r=function(g,_,y){var v=_.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return 59==v?g:V2(v)};function s(g,_){var pe,y=g.split(/[\n\r]+/),v=-1,x=-1,T=0,w=0,I=[],k=[],O=null,q={},N=[],z=[],K=[],le=0;for(+_.codepage>=0&&la(+_.codepage);T!==y.length;++T){le=0;var Ke,Y=y[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),$e=Y.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")});if(Y.length>0)switch($e[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==$e[1].charAt(0)&&k.push(Y.slice(3).replace(/;;/g,";"));break;case"C":var Ct=!1,_t=!1,fn=!1,it=!1,Pt=-1,Fe=-1;for(w=1;w<$e.length;++w)switch($e[w].charAt(0)){case"A":case"G":break;case"X":x=parseInt($e[w].slice(1))-1,_t=!0;break;case"Y":for(v=parseInt($e[w].slice(1))-1,_t||(x=0),pe=I.length;pe<=v;++pe)I[pe]=[];break;case"K":'"'===(Ke=$e[w].slice(1)).charAt(0)?Ke=Ke.slice(1,Ke.length-1):"TRUE"===Ke?Ke=!0:"FALSE"===Ke?Ke=!1:isNaN(Ha(Ke))?isNaN(R0(Ke).getDate())||(Ke=br(Ke)):(Ke=Ha(Ke),null!==O&&b0(O)&&(Ke=$2(Ke))),typeof An<"u"&&"string"==typeof Ke&&"string"!=(_||{}).type&&(_||{}).codepage&&(Ke=An.utils.decode(_.codepage,Ke)),Ct=!0;break;case"E":it=!0;var B=B0($e[w].slice(1),{r:v,c:x});I[v][x]=[I[v][x],B];break;case"S":fn=!0,I[v][x]=[I[v][x],"S5S"];break;case"R":Pt=parseInt($e[w].slice(1))-1;break;case"C":Fe=parseInt($e[w].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Y)}if(Ct&&(I[v][x]&&2==I[v][x].length?I[v][x][0]=Ke:I[v][x]=Ke,O=null),fn){if(it)throw new Error("SYLK shared formula cannot have own formula");var ie=Pt>-1&&I[Pt][Fe];if(!ie||!ie[1])throw new Error("SYLK shared formula cannot find base");I[v][x][1]=c7(ie[1],{r:v-Pt,c:x-Fe})}break;case"F":var G=0;for(w=1;w<$e.length;++w)switch($e[w].charAt(0)){case"X":x=parseInt($e[w].slice(1))-1,++G;break;case"Y":for(v=parseInt($e[w].slice(1))-1,pe=I.length;pe<=v;++pe)I[pe]=[];break;case"M":le=parseInt($e[w].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":O=k[parseInt($e[w].slice(1))];break;case"W":for(K=$e[w].slice(1).split(" "),pe=parseInt(K[0],10);pe<=parseInt(K[1],10);++pe)le=parseInt(K[2],10),z[pe-1]=0===le?{hidden:!0}:{wch:le},Xl(z[pe-1]);break;case"C":z[x=parseInt($e[w].slice(1))-1]||(z[x]={});break;case"R":N[v=parseInt($e[w].slice(1))-1]||(N[v]={}),le>0?(N[v].hpt=le,N[v].hpx=Xw(le)):0===le&&(N[v].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Y)}G<1&&(O=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Y)}}return N.length>0&&(q["!rows"]=N),z.length>0&&(q["!cols"]=z),_&&_.sheetRows&&(I=I.slice(0,_.sheetRows)),[I,q]}function o(g,_){var y=function i(g,_){switch(_.type){case"base64":return s(No(g),_);case"binary":return s(g,_);case"buffer":return s(sn&&Buffer.isBuffer(g)?g.toString("binary"):Wl(g),_);case"array":return s(Od(g),_)}throw new Error("Unrecognized type "+_.type)}(g,_),x=y[1],T=M0(y[0],_);return Or(x).forEach(function(w){T[w]=x[w]}),T}function c(g,_,y,v){var x="C;Y"+(y+1)+";X"+(v+1)+";K";switch(g.t){case"n":x+=g.v||0,g.f&&!g.F&&(x+=";E"+bk(g.f,{r:y,c:v}));break;case"b":x+=g.v?"TRUE":"FALSE";break;case"e":x+=g.w||g.v;break;case"d":x+='"'+(g.w||g.v)+'"';break;case"s":x+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return x}return e["|"]=254,{to_workbook:function a(g,_){return Yl(o(g,_),_)},to_sheet:o,from_sheet:function h(g,_){var T,y=["ID;PWXL;N;E"],v=[],x=xn(g["!ref"]),w=Array.isArray(g),I="\r\n";y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&function u(g,_){_.forEach(function(y,v){var x="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?x+="0":("number"==typeof y.width&&!y.wpx&&(y.wpx=Fv(y.width)),"number"==typeof y.wpx&&!y.wch&&(y.wch=Ov(y.wpx)),"number"==typeof y.wch&&(x+=Math.round(y.wch)))," "!=x.charAt(x.length-1)&&g.push(x)})}(y,g["!cols"]),g["!rows"]&&function l(g,_){_.forEach(function(y,v){var x="F;";y.hidden?x+="M0;":y.hpt?x+="M"+20*y.hpt+";":y.hpx&&(x+="M"+20*Lv(y.hpx)+";"),x.length>2&&g.push(x+"R"+(v+1))})}(y,g["!rows"]),y.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var k=x.s.r;k<=x.e.r;++k)for(var O=x.s.c;O<=x.e.c;++O){var q=Rt({r:k,c:O});(T=w?(g[k]||[])[O]:g[q])&&(null!=T.v||T.f&&!T.F)&&v.push(c(T,0,k,O))}return y.join(I)+I+v.join(I)+I+"E"+I}}}(),H9=function(){function t(s,o){for(var a=s.split("\n"),c=-1,u=-1,l=0,h=[];l!==a.length;++l)if("BOT"!==a[l].trim()){if(!(c<0)){for(var g=a[l].trim().split(","),_=g[0],y=g[1],v=a[++l]||"";1&(v.match(/["]/g)||[]).length&&l<a.length-1;)v+="\n"+a[++l];switch(v=v.trim(),+_){case-1:if("BOT"===v){h[++c]=[],u=0;continue}if("EOD"!==v)throw new Error("Unrecognized DIF special command "+v);break;case 0:h[c][u]="TRUE"===v||"FALSE"!==v&&(isNaN(Ha(y))?isNaN(R0(y).getDate())?y:br(y):Ha(y)),++u;break;case 1:(v=(v=v.slice(1,v.length-1)).replace(/""/g,'"'))&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[c][u++]=""!==v?v:null}if("EOD"===v)break}}else h[++c]=[],u=0;return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function n(s,o){return M0(function e(s,o){switch(o.type){case"base64":return t(No(s),o);case"binary":return t(s,o);case"buffer":return t(sn&&Buffer.isBuffer(s)?s.toString("binary"):Wl(s),o);case"array":return t(Od(s),o)}throw new Error("Unrecognized type "+o.type)}(s,o),o)}return{to_workbook:function r(s,o){return Yl(n(s,o),o)},to_sheet:n,from_sheet:function(){var s=function(c,u,l,h,g){c.push(u),c.push(l+","+h),c.push('"'+g.replace(/"/g,'""')+'"')},o=function(c,u,l,h){c.push(u+","+l),c.push(1==u?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var h,u=[],l=xn(c["!ref"]),g=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,l.e.r-l.s.r+1,""),s(u,"TUPLES",0,l.e.c-l.s.c+1,""),s(u,"DATA",0,0,"");for(var _=l.s.r;_<=l.e.r;++_){o(u,-1,0,"BOT");for(var y=l.s.c;y<=l.e.c;++y){var v=Rt({r:_,c:y});if(h=g?(c[_]||[])[y]:c[v])switch(h.t){case"n":var x=h.w;!x&&null!=h.v&&(x=h.v),null==x?o(u,1,0,h.f&&!h.F?"="+h.f:""):o(u,0,x,"V");break;case"b":o(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Fo(h.z||It[14],Vi(br(h.v)))),o(u,0,h.w,"V");break;default:o(u,1,0,"")}else o(u,1,0,"")}}return o(u,-1,0,"EOD"),u.join("\r\n")}}()}}(),$9=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,g){return M0(function n(h,g){for(var _=h.split("\n"),y=-1,v=-1,x=0,T=[];x!==_.length;++x){var w=_[x].trim().split(":");if("cell"===w[0]){var I=Jr(w[1]);if(T.length<=I.r)for(y=T.length;y<=I.r;++y)T[y]||(T[y]=[]);switch(y=I.r,v=I.c,w[2]){case"t":T[y][v]=e(w[3]);break;case"v":T[y][v]=+w[3];break;case"vtf":var k=w[w.length-1];case"vtc":T[y][v]="nl"===w[3]?!!+w[4]:+w[4],"vtf"==w[2]&&(T[y][v]=[T[y][v],k])}}}return g&&g.sheetRows&&(T=T.slice(0,g.sheetRows)),T}(h,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var y,g=[],_=[],v="",x=Qs(h["!ref"]),T=Array.isArray(h),w=x.s.r;w<=x.e.r;++w)for(var I=x.s.c;I<=x.e.c;++I)if(v=Rt({r:w,c:I}),(y=T?(h[w]||[])[I]:h[v])&&null!=y.v&&"z"!==y.t){switch(_=["cell",v,"t"],y.t){case"s":case"str":_.push(t(y.v));break;case"n":y.f?(_[2]="vtf",_[3]="n",_[4]=y.v,_[5]=t(y.f)):(_[2]="v",_[3]=y.v);break;case"b":_[2]="vt"+(y.f?"f":"c"),_[3]="nl",_[4]=y.v?"1":"0",_[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var k=Vi(br(y.v));_[2]="vtc",_[3]="nd",_[4]=""+k,_[5]=y.w||Fo(y.z||It[14],k);break;case"e":continue}g.push(_.join(":"))}return g.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join("\n")}return{to_workbook:function i(h,g){return Yl(r(h,g),g)},to_sheet:r,from_sheet:function l(h){return[s,o,a,o,u(h),c].join("\n")}}}(),L0=function(){function e(l,h,g,_,y){y.raw?h[g][_]=l:""===l||(h[g][_]="TRUE"===l||"FALSE"!==l&&(isNaN(Ha(l))?isNaN(R0(l).getDate())?l:br(l):Ha(l)))}var n={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(l){for(var h={},g=!1,_=0,y=0;_<l.length;++_)34==(y=l.charCodeAt(_))?g=!g:!g&&y in n&&(h[y]=(h[y]||0)+1);for(_ in y=[],h)Object.prototype.hasOwnProperty.call(h,_)&&y.push([h[_],_]);if(!y.length)for(_ in h=r)Object.prototype.hasOwnProperty.call(h,_)&&y.push([h[_],_]);return y.sort(function(v,x){return v[0]-x[0]||r[v[1]]-r[x[1]]}),n[y.pop()[1]]||44}function o(l,h){return!h||!h.PRN||h.FS||"sep="==l.slice(0,4)||l.indexOf("\t")>=0||l.indexOf(",")>=0||l.indexOf(";")>=0?function s(l,h){var g=h||{},_="";null!=Fr&&null==g.dense&&(g.dense=Fr);var y=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};"sep="==l.slice(0,4)?13==l.charCodeAt(5)&&10==l.charCodeAt(6)?(_=l.charAt(4),l=l.slice(7)):13==l.charCodeAt(5)||10==l.charCodeAt(5)?(_=l.charAt(4),l=l.slice(6)):_=i(l.slice(0,1024)):_=g&&g.FS?g.FS:i(l.slice(0,1024));var x=0,T=0,w=0,I=0,k=0,O=_.charCodeAt(0),q=!1,N=0,z=l.charCodeAt(0);l=l.replace(/\r\n/gm,"\n");var K=null!=g.dateNF?function qae(e){var t="number"==typeof e?It[e]:e;return t=t.replace(l5,"(\\d+)"),new RegExp("^"+t+"$")}(g.dateNF):null;function le(){var pe=l.slice(I,k),Y={};if('"'==pe.charAt(0)&&'"'==pe.charAt(pe.length-1)&&(pe=pe.slice(1,-1).replace(/""/g,'"')),0===pe.length)Y.t="z";else if(g.raw)Y.t="s",Y.v=pe;else if(0===pe.trim().length)Y.t="s",Y.v=pe;else if(61==pe.charCodeAt(0))34==pe.charCodeAt(1)&&34==pe.charCodeAt(pe.length-1)?(Y.t="s",Y.v=pe.slice(2,-1).replace(/""/g,'"')):function _he(e){return 1!=e.length}(pe)?(Y.t="n",Y.f=pe.slice(1)):(Y.t="s",Y.v=pe);else if("TRUE"==pe)Y.t="b",Y.v=!0;else if("FALSE"==pe)Y.t="b",Y.v=!1;else if(isNaN(w=Ha(pe)))if(!isNaN(R0(pe).getDate())||K&&pe.match(K)){Y.z=g.dateNF||It[14];var $e=0;K&&pe.match(K)&&(pe=function Kae(e,t,n){var r=-1,i=-1,s=-1,o=-1,a=-1,c=-1;(t.match(l5)||[]).forEach(function(h,g){var _=parseInt(n[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":r=_;break;case"d":s=_;break;case"h":o=_;break;case"s":c=_;break;case"m":o>=0?a=_:i=_}}),c>=0&&-1==a&&i>=0&&(a=i,i=-1);var u=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==u.length&&(u="0"+u),8==u.length&&(u="20"+u);var l=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return-1==o&&-1==a&&-1==c?u:-1==r&&-1==i&&-1==s?l:u+"T"+l}(0,g.dateNF,pe.match(K)||[]),$e=1),g.cellDates?(Y.t="d",Y.v=br(pe,$e)):(Y.t="n",Y.v=Vi(br(pe,$e))),!1!==g.cellText&&(Y.w=Fo(Y.z,Y.v instanceof Date?Vi(Y.v):Y.v)),g.cellNF||delete Y.z}else Y.t="s",Y.v=pe;else Y.t="n",!1!==g.cellText&&(Y.w=pe),Y.v=w;if("z"==Y.t||(g.dense?(y[x]||(y[x]=[]),y[x][T]=Y):y[Rt({c:T,r:x})]=Y),z=l.charCodeAt(I=k+1),v.e.c<T&&(v.e.c=T),v.e.r<x&&(v.e.r=x),N==O)++T;else if(T=0,++x,g.sheetRows&&g.sheetRows<=x)return!0}e:for(;k<l.length;++k)switch(N=l.charCodeAt(k)){case 34:34===z&&(q=!q);break;case O:case 10:case 13:if(!q&&le())break e}return k-I>0&&le(),y["!ref"]=qt(v),y}(l,h):M0(function t(l,h){var g=h||{},_=[];if(!l||0===l.length)return _;for(var y=l.split(/[\r\n]/),v=y.length-1;v>=0&&0===y[v].length;)--v;for(var x=10,T=0,w=0;w<=v;++w)-1==(T=y[w].indexOf(" "))?T=y[w].length:T++,x=Math.max(x,T);for(w=0;w<=v;++w){_[w]=[];var I=0;for(e(y[w].slice(0,x).trim(),_,w,I,g),I=1;I<=(y[w].length-x)/10+1;++I)e(y[w].slice(x+10*(I-1),x+10*I).trim(),_,w,I,g)}return g.sheetRows&&(_=_.slice(0,g.sheetRows)),_}(l,h),h)}function a(l,h){var g="",_="string"==h.type?[0,0,0,0]:function zk(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=No(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}(l,h);switch(h.type){case"base64":g=No(l);break;case"binary":case"string":g=l;break;case"buffer":g=65001==h.codepage?l.toString("utf8"):h.codepage&&typeof An<"u"?An.utils.decode(h.codepage,l):sn&&Buffer.isBuffer(l)?l.toString("binary"):Wl(l);break;case"array":g=Od(l);break;default:throw new Error("Unrecognized type "+h.type)}return 239==_[0]&&187==_[1]&&191==_[2]?g=vr(g.slice(3)):"string"!=h.type&&"buffer"!=h.type&&65001==h.codepage?g=vr(g):"binary"==h.type&&typeof An<"u"&&h.codepage&&(g=An.utils.decode(h.codepage,An.utils.encode(28591,g))),"socialcalc:version:"==g.slice(0,19)?$9.to_sheet("string"==h.type?g:vr(g),h):o(g,h)}return{to_workbook:function c(l,h){return Yl(a(l,h),h)},to_sheet:a,from_sheet:function u(l){for(var _,h=[],g=xn(l["!ref"]),y=Array.isArray(l),v=g.s.r;v<=g.e.r;++v){for(var x=[],T=g.s.c;T<=g.e.c;++T){var w=Rt({r:v,c:T});if((_=y?(l[v]||[])[T]:l[w])&&null!=_.v){for(var I=(_.w||(Sc(_),_.w)||"").slice(0,10);I.length<10;)I+=" ";x.push(I+(0===T?" ":""))}else x.push("          ")}h.push(x.join(""))}return h.join("\n")}}}(),Kd=function(){function e(B,ie,G){if(B){is(B,B.l||0);for(var H=G.Enum||Pt;B.l<B.length;){var Ie=B.read_shift(2),Xe=H[Ie]||H[65535],Ue=B.read_shift(2),je=B.l+Ue,Pe=Xe.f&&Xe.f(B,Ue,G);if(B.l=je,ie(Pe,Xe,Ie))return}}}function n(B,ie){if(!B)return B;var G=ie||{};null!=Fr&&null==G.dense&&(G.dense=Fr);var H=G.dense?[]:{},Ie="Sheet1",Xe="",Ue=0,je={},Pe=[],Jt=[],V={s:{r:0,c:0},e:{r:0,c:0}},Gn=G.sheetRows||0;if(0==B[2]&&(8==B[3]||9==B[3])&&B.length>=16&&5==B[14]&&108===B[15])throw new Error("Unsupported Works 3 for Mac file");if(2==B[2])G.Enum=Pt,e(B,function(nt,ti,va){switch(va){case 0:G.vers=nt,nt>=4096&&(G.qpro=!0);break;case 6:V=nt;break;case 204:nt&&(Xe=nt);break;case 222:Xe=nt;break;case 15:case 51:G.qpro||(nt[1].v=nt[1].v.slice(1));case 13:case 14:case 16:14==va&&112==(112&nt[2])&&(15&nt[2])>1&&(15&nt[2])<15&&(nt[1].z=G.dateNF||It[14],G.cellDates&&(nt[1].t="d",nt[1].v=$2(nt[1].v))),G.qpro&&nt[3]>Ue&&(H["!ref"]=qt(V),je[Ie]=H,Pe.push(Ie),H=G.dense?[]:{},V={s:{r:0,c:0},e:{r:0,c:0}},Ue=nt[3],Ie=Xe||"Sheet"+(Ue+1),Xe="");var Pc=G.dense?(H[nt[0].r]||[])[nt[0].c]:H[Rt(nt[0])];if(Pc){Pc.t=nt[1].t,Pc.v=nt[1].v,null!=nt[1].z&&(Pc.z=nt[1].z),null!=nt[1].f&&(Pc.f=nt[1].f);break}G.dense?(H[nt[0].r]||(H[nt[0].r]=[]),H[nt[0].r][nt[0].c]=nt[1]):H[Rt(nt[0])]=nt[1]}},G);else{if(26!=B[2]&&14!=B[2])throw new Error("Unrecognized LOTUS BOF "+B[2]);G.Enum=Fe,14==B[2]&&(G.qpro=!0,B.l=0),e(B,function(nt,ti,va){switch(va){case 204:Ie=nt;break;case 22:nt[1].v=nt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(nt[3]>Ue&&(H["!ref"]=qt(V),je[Ie]=H,Pe.push(Ie),H=G.dense?[]:{},V={s:{r:0,c:0},e:{r:0,c:0}},Ie="Sheet"+((Ue=nt[3])+1)),Gn>0&&nt[0].r>=Gn)break;G.dense?(H[nt[0].r]||(H[nt[0].r]=[]),H[nt[0].r][nt[0].c]=nt[1]):H[Rt(nt[0])]=nt[1],V.e.c<nt[0].c&&(V.e.c=nt[0].c),V.e.r<nt[0].r&&(V.e.r=nt[0].r);break;case 27:nt[14e3]&&(Jt[nt[14e3][0]]=nt[14e3][1]);break;case 1537:Jt[nt[0]]=nt[1],nt[0]==Ue&&(Ie=nt[1])}},G)}if(H["!ref"]=qt(V),je[Xe||Ie]=H,Pe.push(Xe||Ie),!Jt.length)return{SheetNames:Pe,Sheets:je};for(var dn={},Wn=[],hn=0;hn<Jt.length;++hn)je[Pe[hn]]?(Wn.push(Jt[hn]||Pe[hn]),dn[Jt[hn]]=je[Jt[hn]]||je[Pe[hn]]):(Wn.push(Jt[hn]),dn[Jt[hn]]={"!ref":"A1"});return{SheetNames:Wn,Sheets:dn}}function u(B,ie,G){var H=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&20768!=G.vers?(H[0].c=B.read_shift(1),H[3]=B.read_shift(1),H[0].r=B.read_shift(2),B.l+=2):(H[2]=B.read_shift(1),H[0].c=B.read_shift(2),H[0].r=B.read_shift(2)),H}function l(B,ie,G){var H=B.l+ie,Ie=u(B,0,G);if(Ie[1].t="s",20768==G.vers){B.l++;var Xe=B.read_shift(1);return Ie[1].v=B.read_shift(Xe,"utf8"),Ie}return G.qpro&&B.l++,Ie[1].v=B.read_shift(H-B.l,"cstr"),Ie}function h(B,ie,G){var H=_e(7+G.length);H.write_shift(1,255),H.write_shift(2,ie),H.write_shift(2,B),H.write_shift(1,39);for(var Ie=0;Ie<H.length;++Ie){var Xe=G.charCodeAt(Ie);H.write_shift(1,Xe>=128?95:Xe)}return H.write_shift(1,0),H}function _(B,ie,G){var H=_e(7);return H.write_shift(1,255),H.write_shift(2,ie),H.write_shift(2,B),H.write_shift(2,G,"i"),H}function v(B,ie,G){var H=_e(13);return H.write_shift(1,255),H.write_shift(2,ie),H.write_shift(2,B),H.write_shift(8,G,"f"),H}function T(B,ie,G){var H=32768&ie;return ie=(H?B:0)+((ie&=-32769)>=8192?ie-16384:ie),(H?"":"$")+(G?yr(ie):Br(ie))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(B){var ie=[{c:0,r:0},{t:"n",v:0},0];return ie[0].r=B.read_shift(2),ie[3]=B[B.l++],ie[0].c=B[B.l++],ie}function N(B,ie,G,H){var Ie=_e(6+H.length);Ie.write_shift(2,B),Ie.write_shift(1,G),Ie.write_shift(1,ie),Ie.write_shift(1,39);for(var Xe=0;Xe<H.length;++Xe){var Ue=H.charCodeAt(Xe);Ie.write_shift(1,Ue>=128?95:Ue)}return Ie.write_shift(1,0),Ie}function K(B,ie){var G=O(B),H=B.read_shift(4),Ie=B.read_shift(4),Xe=B.read_shift(2);if(65535==Xe)return 0===H&&3221225472===Ie?(G[1].t="e",G[1].v=15):0===H&&3489660928===Ie?(G[1].t="e",G[1].v=42):G[1].v=0,G;var Ue=32768&Xe;return Xe=(32767&Xe)-16446,G[1].v=(1-2*Ue)*(Ie*Math.pow(2,Xe+32)+H*Math.pow(2,Xe)),G}function le(B,ie,G,H){var Ie=_e(14);if(Ie.write_shift(2,B),Ie.write_shift(1,G),Ie.write_shift(1,ie),0==H)return Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(2,65535),Ie;var Xe=0,Ue=0,Pe=0;return H<0&&(Xe=1,H=-H),Ue=0|Math.log2(H),2147483648&(Pe=(H/=Math.pow(2,Ue-31))>>>0)||(++Ue,Pe=(H/=2)>>>0),H-=Pe,Pe|=2147483648,Pe>>>=0,H*=Math.pow(2,32),Ie.write_shift(4,H>>>0),Ie.write_shift(4,Pe),Ie.write_shift(2,Ue+=16383+(Xe?32768:0)),Ie}function $e(B,ie){var G=O(B),H=B.read_shift(8,"f");return G[1].v=H,G}function Ke(B,ie){return 0==B[B.l+ie-1]?B.read_shift(ie,"cstr"):""}function it(B,ie){var G=_e(5+B.length);G.write_shift(2,14e3),G.write_shift(2,ie);for(var H=0;H<B.length;++H){var Ie=B.charCodeAt(H);G[G.l++]=Ie>127?95:Ie}return G[G.l++]=0,G}var Pt={0:{n:"BOF",f:hi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function a(B,ie,G){var H={s:{c:0,r:0},e:{c:0,r:0}};return 8==ie&&G.qpro?(H.s.c=B.read_shift(1),B.l++,H.s.r=B.read_shift(2),H.e.c=B.read_shift(1),B.l++,H.e.r=B.read_shift(2),H):(H.s.c=B.read_shift(2),H.s.r=B.read_shift(2),12==ie&&G.qpro&&(B.l+=2),H.e.c=B.read_shift(2),H.e.r=B.read_shift(2),12==ie&&G.qpro&&(B.l+=2),65535==H.s.c&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function g(B,ie,G){var H=u(B,0,G);return H[1].v=B.read_shift(2,"i"),H}},14:{n:"NUMBER",f:function y(B,ie,G){var H=u(B,0,G);return H[1].v=B.read_shift(8,"f"),H}},15:{n:"LABEL",f:l},16:{n:"FORMULA",f:function x(B,ie,G){var H=B.l+ie,Ie=u(B,0,G);if(Ie[1].v=B.read_shift(8,"f"),G.qpro)B.l=H;else{var Xe=B.read_shift(2);(function k(B,ie){is(B,0);for(var G=[],H=0,Ie="",Xe="",Ue="",je="";B.l<B.length;){var Pe=B[B.l++];switch(Pe){case 0:G.push(B.read_shift(8,"f"));break;case 1:Xe=T(ie[0].c,B.read_shift(2),!0),Ie=T(ie[0].r,B.read_shift(2),!1),G.push(Xe+Ie);break;case 2:var Jt=T(ie[0].c,B.read_shift(2),!0),V=T(ie[0].r,B.read_shift(2),!1);Xe=T(ie[0].c,B.read_shift(2),!0),Ie=T(ie[0].r,B.read_shift(2),!1),G.push(Jt+V+":"+Xe+Ie);break;case 3:if(B.l<B.length)return void console.error("WK1 premature formula end");break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(B.read_shift(2));break;case 6:for(var Gn="";Pe=B[B.l++];)Gn+=String.fromCharCode(Pe);G.push('"'+Gn.replace(/"/g,'""')+'"');break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:je=G.pop(),Ue=G.pop(),G.push(["AND","OR"][Pe-20]+"("+Ue+","+je+")");break;default:if(Pe<32&&I[Pe])je=G.pop(),Ue=G.pop(),G.push(Ue+I[Pe]+je);else{if(!w[Pe])return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16));if(69==(H=w[Pe][1])&&(H=B[B.l++]),H>G.length)return void console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+G.join("|")+"|");var dn=G.slice(-H);G.length-=H,G.push(w[Pe][0]+"("+dn.join(",")+")")}}}1==G.length?ie[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")})(B.slice(B.l,B.l+Xe),Ie),B.l+=Xe}return Ie}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:l},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ke},222:{n:"SHEETNAMELP",f:function Ct(B,ie){var G=B[B.l++];G>ie-1&&(G=ie-1);for(var H="";H.length<G;)H+=String.fromCharCode(B[B.l++]);return H}},65535:{n:""}},Fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function q(B,ie){var G=O(B);return G[1].t="s",G[1].v=B.read_shift(ie-4,"cstr"),G}},23:{n:"NUMBER17",f:K},24:{n:"NUMBER18",f:function z(B,ie){var G=O(B);G[1].v=B.read_shift(2);var H=G[1].v>>1;if(1&G[1].v)switch(7&H){case 0:H=5e3*(H>>3);break;case 1:H=500*(H>>3);break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64}return G[1].v=H,G}},25:{n:"FORMULA19",f:function pe(B,ie){var G=K(B);return B.l+=ie-14,G}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function fn(B,ie){for(var G={},H=B.l+ie;B.l<H;){var Ie=B.read_shift(2);if(14e3==Ie){for(G[Ie]=[0,""],G[Ie][0]=B.read_shift(2);B[B.l];)G[Ie][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return G}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Y(B,ie){var G=O(B),H=B.read_shift(4);return G[1].v=H>>6,G}},38:{n:"??"},39:{n:"NUMBER27",f:$e},40:{n:"FORMULA28",f:function ct(B,ie){var G=$e(B);return B.l+=ie-10,G}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ke},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function _t(B,ie,G){if(G.qpro&&!(ie<21)){var H=B.read_shift(1);return B.l+=17,B.l+=1,B.l+=2,[H,B.read_shift(ie-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(B,ie){var G=ie||{};if(+G.codepage>=0&&la(+G.codepage),"string"==G.type)throw new Error("Cannot write WK1 to JS string");var H=Ys(),Ie=xn(B["!ref"]),Xe=Array.isArray(B),Ue=[];He(H,0,function s(B){var ie=_e(2);return ie.write_shift(2,B),ie}(1030)),He(H,6,function c(B){var ie=_e(8);return ie.write_shift(2,B.s.c),ie.write_shift(2,B.s.r),ie.write_shift(2,B.e.c),ie.write_shift(2,B.e.r),ie}(Ie));for(var je=Math.min(Ie.e.r,8191),Pe=Ie.s.r;Pe<=je;++Pe)for(var Jt=Br(Pe),V=Ie.s.c;V<=Ie.e.c;++V){Pe===Ie.s.r&&(Ue[V]=yr(V));var dn=Xe?(B[Pe]||[])[V]:B[Ue[V]+Jt];dn&&"z"!=dn.t&&("n"==dn.t?(0|dn.v)==dn.v&&dn.v>=-32768&&dn.v<=32767?He(H,13,_(Pe,V,dn.v)):He(H,14,v(Pe,V,dn.v)):He(H,15,h(Pe,V,Sc(dn).slice(0,239))))}return He(H,1),H.end()},book_to_wk3:function i(B,ie){var G=ie||{};if(+G.codepage>=0&&la(+G.codepage),"string"==G.type)throw new Error("Cannot write WK3 to JS string");var H=Ys();He(H,0,function o(B){var ie=_e(26);ie.write_shift(2,4096),ie.write_shift(2,4),ie.write_shift(4,0);for(var G=0,H=0,Ie=0,Xe=0;Xe<B.SheetNames.length;++Xe){var je=B.Sheets[B.SheetNames[Xe]];if(je&&je["!ref"]){++Ie;var Pe=Qs(je["!ref"]);G<Pe.e.r&&(G=Pe.e.r),H<Pe.e.c&&(H=Pe.e.c)}}return G>8191&&(G=8191),ie.write_shift(2,G),ie.write_shift(1,Ie),ie.write_shift(1,H),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(1,1),ie.write_shift(1,2),ie.write_shift(4,0),ie.write_shift(4,0),ie}(B));for(var Ie=0,Xe=0;Ie<B.SheetNames.length;++Ie)(B.Sheets[B.SheetNames[Ie]]||{})["!ref"]&&He(H,27,it(B.SheetNames[Ie],Xe++));var Ue=0;for(Ie=0;Ie<B.SheetNames.length;++Ie){var je=B.Sheets[B.SheetNames[Ie]];if(je&&je["!ref"]){for(var Pe=xn(je["!ref"]),Jt=Array.isArray(je),V=[],Gn=Math.min(Pe.e.r,8191),dn=Pe.s.r;dn<=Gn;++dn)for(var Wn=Br(dn),hn=Pe.s.c;hn<=Pe.e.c;++hn){dn===Pe.s.r&&(V[hn]=yr(hn));var ti=Jt?(je[dn]||[])[hn]:je[V[hn]+Wn];ti&&"z"!=ti.t&&("n"==ti.t?He(H,23,le(dn,hn,Ue,ti.v)):He(H,22,N(dn,hn,Ue,Sc(ti).slice(0,239))))}++Ue}}return He(H,1),H.end()},to_workbook:function t(B,ie){switch(ie.type){case"base64":return n(Mo(No(B)),ie);case"binary":return n(Mo(B),ie);case"buffer":case"array":return n(B,ie)}throw"Unsupported type "+ie.type}}}(),xfe=/^\s|\s$|[\t\n\r]/;function W9(e,t){if(!t.bookSST)return"";var n=[Vr];n[n.length]=Ve("sst",null,{xmlns:Zl[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(xfe)&&(s+=' xml:space="preserve"'),s+=">"+$n(i.t)+"</t>"),n[n.length]=s+="</si>"}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var Tfe=function Mce(e,t){var n=!1;return null==t&&(n=!0,t=_e(15+4*e.t.length)),t.write_shift(1,0),Ui(e.t,t),n?t.slice(0,t.l):t};function Afe(e){var t=Ys();Re(t,159,function Ife(e,t){return t||(t=_e(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)Re(t,19,Tfe(e[n]));return Re(t,160),t.end()}function Ik(e){var n,s,t=0,r=function z9(e){if(typeof An<"u")return An.utils.encode(Md,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}(e),i=r.length+1;for((n=Gl(i))[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)t=((16384&t?1:0)|t<<1&32767)^n[s];return 52811^t}var Y9=function(){function e(i,s){switch(s.type){case"base64":return t(No(i),s);case"binary":return t(i,s);case"buffer":return t(sn&&Buffer.isBuffer(i)?i.toString("binary"):Wl(i),s);case"array":return t(Od(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var a=(s||{}).dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(l,h){Array.isArray(a)&&(a[h]=[]);for(var y,g=/\\\w+\b/g,_=0,v=-1;y=g.exec(l);){if("\\cell"===y[0]){var x=l.slice(_,g.lastIndex-y[0].length);if(" "==x[0]&&(x=x.slice(1)),++v,x.length){var T={v:x,t:"s"};Array.isArray(a)?a[h][v]=T:a[Rt({r:h,c:v})]=T}}_=g.lastIndex}v>u.e.c&&(u.e.c=v)}),a["!ref"]=qt(u),a}return{to_workbook:function n(i,s){return Yl(e(i,s),s)},to_sheet:e,from_sheet:function r(i){for(var a,s=["{\\rtf1\\ansi"],o=xn(i["!ref"]),c=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var l=o.s.c;l<=o.e.c;++l)s.push("\\cellx"+(l+1));for(s.push("\\pard\\intbl"),l=o.s.c;l<=o.e.c;++l){var h=Rt({r:u,c:l});(a=c?(i[u]||[])[l]:i[h])&&(null!=a.v||a.f&&!a.F)&&(s.push(" "+(a.w||(Sc(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}}}();function Mv(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var ks=6;function Fv(e){return Math.floor((e+Math.round(128/ks)/256)*ks)}function Ov(e){return Math.floor((e-5)/ks*100+.5)/100}function Qw(e){return Math.round((e*ks+5)/ks*256)/256}function Xl(e){e.width?(e.wpx=Fv(e.width),e.wch=Ov(e.wpx),e.MDW=ks):e.wpx?(e.wch=Ov(e.wpx),e.width=Qw(e.wch),e.MDW=ks):"number"==typeof e.wch&&(e.width=Qw(e.wch),e.wpx=Fv(e.width),e.MDW=ks),e.customWidth&&delete e.customWidth}var X9=96;function Lv(e){return 96*e/X9}function Xw(e){return e*X9/96}function J9(e,t){var r,n=[Vr,Ve("styleSheet",null,{xmlns:Zl[0],"xmlns:vt":di.vt})];return e.SSF&&null!=(r=function Yfe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=Ve("numFmt",null,{numFmtId:r,formatCode:$n(e[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Ve("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function Qfe(e){var t=[];return t[t.length]=Ve("cellXfs",null),e.forEach(function(n){t[t.length]=Ve("xf",null,n)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Ve("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function ede(e,t,n){n||(n=_e(6+4*t.length)),n.write_shift(2,e),Ui(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}var Ck,rde=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ide=Cs;function e7(e,t){t||(t=_e(84)),Ck||(Ck=Mw(rde));var n=Ck[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(jw({auto:1},t),jw({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function t7(e,t,n){return n||(n=_e(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Vv(e,t){return t||(t=_e(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var ode=Cs;function xde(e,t){var n=Ys();return Re(n,278),function fde(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&++n}),0!=n&&(Re(e,615,$a(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&Re(e,44,ede(i,t[i]))}),Re(e,616))}}(n,e.SSF),function dde(e){Re(e,611,$a(1)),Re(e,43,function nde(e,t){t||(t=_e(153)),t.write_shift(2,20*e.sz),function Hce(e,t){t||(t=_e(2)),t.write_shift(1,(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0)),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),jw(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),Ui(e.name,t),t.length>t.l?t.slice(0,t.l):t}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Re(e,612)}(n),function hde(e){Re(e,603,$a(2)),Re(e,45,e7({patternType:"none"})),Re(e,45,e7({patternType:"gray125"})),Re(e,604)}(n),function pde(e){Re(e,613,$a(1)),Re(e,46,function ade(e,t){return t||(t=_e(51)),t.write_shift(1,0),Vv(0,t),Vv(0,t),Vv(0,t),Vv(0,t),Vv(0,t),t.length>t.l?t.slice(0,t.l):t}()),Re(e,614)}(n),function gde(e){Re(e,626,$a(1)),Re(e,47,t7({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Re(e,627)}(n),function mde(e,t){Re(e,617,$a(t.length)),t.forEach(function(n){Re(e,47,t7(n,0))}),Re(e,618)}(n,t.cellXfs),function _de(e){Re(e,619,$a(1)),Re(e,48,function cde(e,t){return t||(t=_e(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Uw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),Re(e,620)}(n),function vde(e){Re(e,505,$a(0)),Re(e,506)}(n),function yde(e){Re(e,508,function ude(e,t,n){var r=_e(2052);return r.write_shift(4,e),Uw(t,r),Uw(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Re(e,509)}(n),Re(n,279),n.end()}function Sk(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[Vr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function zde(){var e=Ys();return Re(e,332),Re(e,334,$a(1)),Re(e,335,function Bde(e){var t=_e(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ui(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Re(e,336),Re(e,339,function Hde(e,t){var n=_e(8+2*t.length);return n.write_shift(4,e),Ui(t,n),n.slice(0,n.l)}(1,"XLDAPR")),Re(e,52),Re(e,35,$a(514)),Re(e,4096,$a(0)),Re(e,4097,pa(1)),Re(e,36),Re(e,53),Re(e,340),Re(e,337,function Gde(e,t){var n=_e(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}(1,!0)),Re(e,51,function jde(e){var t=_e(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),Re(e,338),Re(e,333),e.end()}function r7(){var e=[Vr];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var V0=1024;function i7(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Ve("xml",null,{"xmlns:v":Lo.v,"xmlns:o":Lo.o,"xmlns:x":Lo.x,"xmlns:mv":Lo.mv}).replace(/\/>/,">"),Ve("o:shapelayout",Ve("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ve("v:shapetype",[Ve("v:stroke",null,{joinstyle:"miter"}),Ve("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];V0<1e3*e;)V0+=1e3;return t.forEach(function(s){var o=Jr(s[0]),a={color2:"#BEFF82",type:"gradient"};"gradient"==a.type&&(a.angle="-180");var c="gradient"==a.type?Ve("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ve("v:fill",c,a);++V0,i=i.concat(["<v:shape"+Av({id:"_x0000_s"+V0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ve("v:shadow",null,{on:"t",obscured:"t"}),Ve("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),rs("x:AutoFill","False"),rs("x:Row",String(o.r)),rs("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function o7(e){var t=[Vr,Ve("comments",null,{xmlns:Zl[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(i){var s=$n(i.a);-1==n.indexOf(s)&&(n.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&-1==n.indexOf("tc="+i.ID)&&(n.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(i=n.indexOf($n(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(rs("t",$n(s[0]||"")));else{for(var o="Comment:\n    "+s[0]+"\n",a=1;a<s.length;++a)o+="Reply:\n    "+s[a]+"\n";t.push(rs("t",$n(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function the(e,t,n){var r=[Vr,Ve("ThreadedComments",null,{xmlns:di.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(o.T){o.a&&-1==t.indexOf(o.a)&&t.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==a?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Ve("threadedComment",rs("text",o.t||""),c))}else delete o.ID})}),r.push("</ThreadedComments>"),r.join("")}var ohe=Ss;function uhe(e){var t=Ys(),n=[];return Re(t,628),Re(t,630),e.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Re(t,632,function ahe(e){return Ui(e.slice(0,54))}(i.a)))})}),Re(t,631),Re(t,633),e.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Jr(r[0]),e:Jr(r[0])};Re(t,635,function she(e,t){return null==t&&(t=_e(36)),t.write_shift(4,e[1].iauthor),F0(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([s,i])),i.t&&i.t.length>0&&Re(t,637,function Oce(e,t){var n=!1;return null==t&&(n=!0,t=_e(23+4*e.t.length)),t.write_shift(1,1),Ui(e.t,t),t.write_shift(4,1),function Nce(e,t){t||(t=_e(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}(i)),Re(t,636),delete i.iauthor})}),Re(t,634),Re(t,629),t.end()}var a7=["xlsb","xlsm","xlam","biff8","xla"],B0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,o){var a=!1,c=!1;0==s.length?c=!0:"["==s.charAt(0)&&(c=!0,s=s.slice(1,-1)),0==o.length?a=!0:"["==o.charAt(0)&&(a=!0,o=o.slice(1,-1));var u=s.length>0?0|parseInt(s,10):0,l=o.length>0?0|parseInt(o,10):0;return a?l+=t.c:--l,c?u+=t.r:--u,i+(a?"":"$")+yr(l)+(c?"":"$")+Br(u)}return function(i,s){return t=s,i.replace(e,n)}}(),Dk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,bk=function(){return function(t,n){return t.replace(Dk,function(r,i,s,o,a,c){var u=sk(o)-(s?0:n.c),l=ik(c)-(a?0:n.r);return i+"R"+(0==l?"":a?l+1:"["+l+"]")+"C"+(0==u?"":s?u+1:"["+u+"]")})}}();function c7(e,t){return e.replace(Dk,function(n,r,i,s,o,a){return r+("$"==i?i+s:yr(sk(s)+t.c))+("$"==o?o+a:Br(ik(a)+t.r))})}function pi(e){e.l+=1}function Jl(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function u7(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return l7(e);12==n.biff&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=Jl(e,2),a=Jl(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function l7(e){var t=Jl(e,2),n=Jl(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function f7(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function yhe(e){var t=Jl(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),i=Jl(e,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function xhe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function d7(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function h7(e){return[e.read_shift(1),e.read_shift(1)]}function Zhe(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=function ei(e,t){return 1===e.read_shift(t)}(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=Eu[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Ds(e);break;case 2:n[1]=function zd(e,t,n){if(n.biff>5)return function Nv(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):function Wd(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return e.read_shift(t,0===i?"sbcs-cont":"dbcs-cont")}(e,r,n)}(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Yhe(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],s=0;s!=r;++s)i.push((12==n.biff?jd:Kw)(e,8));return i}function Qhe(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=Zhe(e,n.biff);return o}function Bv(e,t,n){return e.l+=2,[xhe(e)]}function kk(e){return e.l+=6,[]}function p7(e){return e.l+=2,[hi(e),1&e.read_shift(2)]}var _pe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],g7={1:{n:"PtgExp",f:function $he(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:Cs},3:{n:"PtgAdd",f:pi},4:{n:"PtgSub",f:pi},5:{n:"PtgMul",f:pi},6:{n:"PtgDiv",f:pi},7:{n:"PtgPower",f:pi},8:{n:"PtgConcat",f:pi},9:{n:"PtgLt",f:pi},10:{n:"PtgLe",f:pi},11:{n:"PtgEq",f:pi},12:{n:"PtgGe",f:pi},13:{n:"PtgGt",f:pi},14:{n:"PtgNe",f:pi},15:{n:"PtgIsect",f:pi},16:{n:"PtgUnion",f:pi},17:{n:"PtgRange",f:pi},18:{n:"PtgUplus",f:pi},19:{n:"PtgUminus",f:pi},20:{n:"PtgPercent",f:pi},21:{n:"PtgParen",f:pi},22:{n:"PtgMissArg",f:pi},23:{n:"PtgStr",f:function Khe(e,t,n){return e.l++,Pv(e,0,n)}},26:{n:"PtgSheet",f:function xpe(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function Epe(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function Ghe(e){return e.l++,Eu[e.read_shift(1)]}},29:{n:"PtgBool",f:function zhe(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function Whe(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function qhe(e){return e.l++,Ds(e)}},32:{n:"PtgArray",f:function Dhe(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function Bhe(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[Hpe[i],v7[i],r]}},34:{n:"PtgFuncVar",f:function Uhe(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function jhe(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===s[0]?v7:jpe)[s[1]]]}},35:{n:"PtgName",f:function Xhe(e,t,n){var r=e.read_shift(1)>>>5&3,s=e.read_shift(!n||n.biff>=8?4:2);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function Ohe(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,f7(e,0,n)]}},37:{n:"PtgArea",f:function Ihe(e,t,n){return[(96&e[e.l++])>>5,u7(e,0,n)]}},38:{n:"PtgMemArea",f:function tpe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:Cs},40:{n:"PtgMemNoMem",f:Cs},41:{n:"PtgMemFunc",f:function npe(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function rpe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function Ahe(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function Lhe(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=function Ehe(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function whe(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(16384&s)>>14,a=(32768&s)>>15;if(s&=16383,1==a)for(;i>524287;)i-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r:i,c:s,cRel:o,rRel:a}}(e,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function She(e,t,n){var r=(96&e[e.l++])>>5,i=function vhe(e,t,n){if(n.biff<8)return l7(e);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),s=Jl(e,2),o=Jl(e,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function wpe(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function Ipe(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function Jhe(e,t,n){return 5==n.biff?function epe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function Vhe(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,i,f7(e,0,n)]}},59:{n:"PtgArea3d",f:function The(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(n&&5===n.biff)e.l+=12;return[r,i,u7(e,0,n)]}},60:{n:"PtgRefErr3d",f:function ipe(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[r,i]}},61:{n:"PtgAreaErr3d",f:function Che(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[r,i]}},255:{}},Ape={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Cpe={1:{n:"PtgElfLel",f:p7},2:{n:"PtgElfRw",f:Bv},3:{n:"PtgElfCol",f:Bv},6:{n:"PtgElfRwV",f:Bv},7:{n:"PtgElfColV",f:Bv},10:{n:"PtgElfRadical",f:Bv},11:{n:"PtgElfRadicalS",f:kk},13:{n:"PtgElfColS",f:kk},15:{n:"PtgElfColSV",f:kk},16:{n:"PtgElfRadicalLel",f:p7},25:{n:"PtgList",f:function vpe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&n,rt:_pe[n>>2&31],idx:r,c:i,C:s}}},29:{n:"PtgSxName",f:function ype(e){return e.l+=2,[e.read_shift(4)]}},255:{}},Spe={0:{n:"PtgAttrNoop",f:function Tpe(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function Nhe(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function Rhe(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function bhe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function khe(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function Hhe(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:d7},33:{n:"PtgAttrBaxcel",f:d7},64:{n:"PtgAttrSpace",f:function Mhe(e){return e.read_shift(2),h7(e)}},65:{n:"PtgAttrSpaceSemi",f:function Fhe(e){return e.read_shift(2),h7(e)}},128:{n:"PtgAttrIfError",f:function Phe(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function Uv(e,t,n,r){if(r.biff<8)return Cs(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Qhe(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Yhe(e,0,r),s.push(n[o][2]);break;case"PtgExp":r&&12==r.biff&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return 0!=(t=i-e.l)&&s.push(Cs(e,t)),s}function Dpe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];i.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}t.push(i.join(","))}return t.join(";")}var bpe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function m7(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function _7(e,t,n){var r=m7(e,t,n);return"#REF"==r?r:function kpe(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function Rs(e,t,n,r,i){var c,u,l,_,s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],h=0,g=0,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,x="",T=0,w=e[0].length;T<w;++T){var I=e[0][T];switch(I[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=a.pop(),u=a.pop(),v>=0){switch(e[0][v][1][0]){case 0:x=Lr(" ",e[0][v][1][1]);break;case 1:x=Lr("\r",e[0][v][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u+=x,v=-1}a.push(u+bpe[I[0]]+c);break;case"PtgIsect":c=a.pop(),u=a.pop(),a.push(u+" "+c);break;case"PtgUnion":c=a.pop(),u=a.pop(),a.push(u+","+c);break;case"PtgRange":c=a.pop(),u=a.pop(),a.push(u+":"+c);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":l=Dv(I[1][1],o,i),a.push(bv(l,s));break;case"PtgRefN":l=n?Dv(I[1][1],n,i):I[1][1],a.push(bv(l,s));break;case"PtgRef3d":h=I[1][1],l=Dv(I[1][2],o,i),y=_7(r,h,i),a.push(y+"!"+bv(l,s));break;case"PtgFunc":case"PtgFuncVar":var O=I[1][0],q=I[1][1];O||(O=0);var N=0==(O&=127)?[]:a.slice(-O);a.length-=O,"User"===q&&(q=N.shift()),a.push(q+"("+N.join(",")+")");break;case"PtgBool":a.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":a.push(I[1]);break;case"PtgNum":a.push(String(I[1]));break;case"PtgStr":a.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":_=W5(I[1][1],n?{s:n}:o,i),a.push(rk(_,i));break;case"PtgArea":_=W5(I[1][1],o,i),a.push(rk(_,i));break;case"PtgArea3d":_=I[1][2],y=_7(r,h=I[1][1],i),a.push(y+"!"+rk(_,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgName":var z=(r.names||[])[(g=I[1][2])-1]||(r[0]||[])[g],K=z?z.Name:"SH33TJSNAME"+String(g);K&&"_xlfn."==K.slice(0,6)&&!i.xlfn&&(K=K.slice(6)),a.push(K);break;case"PtgNameX":var pe,le=I[1][1];if(g=I[1][2],!(i.biff<=5)){var Y="";if(14849==((r[le]||[])[0]||[])[0]||(1025==((r[le]||[])[0]||[])[0]?r[le][g]&&r[le][g].itab>0&&(Y=r.SheetNames[r[le][g].itab-1]+"!"):Y=r.SheetNames[g-1]+"!"),r[le]&&r[le][g])Y+=r[le][g].Name;else if(r[0]&&r[0][g])Y+=r[0][g].Name;else{var $e=(m7(r,le,i)||"").split(";;");$e[g-1]?Y=$e[g-1]:Y+="SH33TJSERRX"}a.push(Y);break}le<0&&(le=-le),r[le]&&(pe=r[le][g]),pe||(pe={Name:"SH33TJSERRY"}),a.push(pe.Name);break;case"PtgParen":var ct="(",Ke=")";if(v>=0){switch(x="",e[0][v][1][0]){case 2:ct=Lr(" ",e[0][v][1][1])+ct;break;case 3:ct=Lr("\r",e[0][v][1][1])+ct;break;case 4:Ke=Lr(" ",e[0][v][1][1])+Ke;break;case 5:Ke=Lr("\r",e[0][v][1][1])+Ke;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}a.push(ct+a.pop()+Ke);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":a.push("#REF!");break;case"PtgExp":var Ct={c:n.c,r:n.r};if(r.sharedf[Rt(l={c:I[1][1],r:I[1][0]})]){var _t=r.sharedf[Rt(l)];a.push(Rs(_t,0,Ct,r,i))}else{var fn=!1;for(c=0;c!=r.arrayf.length;++c)if(!(l.c<(u=r.arrayf[c])[0].s.c||l.c>u[0].e.c||l.r<u[0].s.r||l.r>u[0].e.r)){a.push(Rs(u[1],0,Ct,r,i)),fn=!0;break}fn||a.push(I[1])}break;case"PtgArray":a.push("{"+Dpe(I[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=T;break;case"PtgMissArg":a.push("");break;case"PtgList":a.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(I))}if(3!=i.biff&&v>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][T][0])){var Pt=!0;switch((I=e[0][v])[1][0]){case 4:Pt=!1;case 0:x=Lr(" ",I[1][1]);break;case 5:Pt=!1;case 1:x=Lr("\r",I[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}a.push((Pt?x:"")+a.pop()+(Pt?"":x)),v=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function tI(e,t,n){var r=e.read_shift(4),i=function jv(e,t,n){for(var i,s,r=e.l+t,o=[];r!=e.l;)t=r-e.l,i=g7[s=e[e.l]]||g7[Ape[s]],(24===s||25===s)&&(i=(24===s?Cpe:Spe)[e[e.l+1]]),i&&i.f?o.push([i.n,i.f(e,t,n)]):Cs(e,t);return o}(e,r,n),s=e.read_shift(4);return[i,s>0?Uv(e,s,i,n):null]}var Vpe=tI,nI=tI,Bpe=tI,Upe=tI,jpe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},v7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Hpe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $pe(e){return("of:="+e.replace(Dk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function Gpe(e){return e.replace(/\./,"!")}var Hv=typeof Map<"u";function Nk(e,t,n){var r=0,i=e.length;if(n){if(Hv?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var s=Hv?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t},e.Count++,e.Unique++,n&&(Hv?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function iI(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(ks=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=Ov(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=Qw(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function Zd(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function ef(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],i=60,s=e.length;if(null==r&&n.ssf)for(;i<392;++i)if(null==n.ssf[i]){Tc(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}for(i=0;i!=s;++i)if(e[i].numFmtId===r)return i;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function zpe(e,t,n){if(e&&e["!ref"]){var r=xn(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var a0e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],c0e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function x0e(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var i="",s=e.t,o=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Eu[e.v];break;case"d":r&&r.cellDates?i=br(e.v,-1).toISOString():((e=Xn(e)).t="n",i=""+(e.v=Vi(br(e.v)))),typeof e.z>"u"&&(e.z=It[14]);break;default:i=e.v}var a=rs("v",$n(i)),c={r:t},u=ef(r.cellXfs,e,r);switch(0!==u&&(c.s=u),e.t){case"n":case"z":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=rs("v",""+Nk(r.Strings,e.v,r.revStrings)),c.t="s";break}c.t="str"}if(e.t!=s&&(e.t=s,e.v=o),"string"==typeof e.f&&e.f){var l=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=Ve("f",$n(e.f),l)+(null!=e.v?a:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(c.cm=1),Ve("c",a,c)}function E7(e,t,n,r){var o,i=[Vr,Ve("worksheet",null,{xmlns:Zl[0],"xmlns:r":di.r})],a="",c=n.Sheets[n.SheetNames[e]];null==c&&(c={});var u=c["!ref"]||"A1",l=xn(u);if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575),u=qt(l)}r||(r={}),c["!comments"]=[];var h=[];(function o0e(e,t,n,r,i){var s=!1,o={},a=null;if("xlsx"!==r.bookType&&t.vbaraw){var c=t.SheetNames[n];try{t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch{}s=!0,o.codeName=Cc($n(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),a=(a||"")+Ve("outlinePr",null,u)}!s&&!a||(i[i.length]=Ve("sheetPr",a,o))})(c,n,e,t,i),i[i.length]=Ve("dimension",null,{ref:u}),i[i.length]=function y0e(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ve("sheetViews",Ve("sheetView",null,i),{})}(0,0,0,n),t.sheetFormat&&(i[i.length]=Ve("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=c["!cols"]&&c["!cols"].length>0&&(i[i.length]=function p0e(e,t){for(var r,n=["<cols>"],i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=Ve("col",null,iI(i,r)));return n[n.length]="</cols>",n.join("")}(0,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],null!=c["!ref"]&&(a=function w0e(e,t,n,r){var c,x,i=[],s=[],o=xn(e["!ref"]),a="",u="",l=[],h=0,g=0,_=e["!rows"],y=Array.isArray(e),v={r:u},T=-1;for(g=o.s.c;g<=o.e.c;++g)l[g]=yr(g);for(h=o.s.r;h<=o.e.r;++h){for(s=[],u=Br(h),g=o.s.c;g<=o.e.c;++g){c=l[g]+u;var w=y?(e[h]||[])[g]:e[c];void 0!==w&&null!=(a=x0e(w,c,e,t))&&s.push(a)}(s.length>0||_&&_[h])&&(v={r:u},_&&_[h]&&((x=_[h]).hidden&&(v.hidden=1),T=-1,x.hpx?T=Lv(x.hpx):x.hpt&&(T=x.hpt),T>-1&&(v.ht=T,v.customHeight=1),x.level&&(v.outlineLevel=x.level)),i[i.length]=Ve("row",s.join(""),v))}if(_)for(;h<_.length;++h)_&&_[h]&&(v={r:h+1},(x=_[h]).hidden&&(v.hidden=1),T=-1,x.hpx?T=Lv(x.hpx):x.hpt&&(T=x.hpt),T>-1&&(v.ht=T,v.customHeight=1),x.level&&(v.outlineLevel=x.level),i[i.length]=Ve("row","",v));return i.join("")}(c,t),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=function u0e(e){var t={sheet:1};return a0e.forEach(function(n){null!=e[n]&&e[n]&&(t[n]="1")}),c0e.forEach(function(n){null!=e[n]&&!e[n]&&(t[n]="0")}),e.password&&(t.password=Ik(e.password).toString(16).toUpperCase()),Ve("sheetProtection",null,t)}(c["!protect"])),null!=c["!autofilter"]&&(i[i.length]=function m0e(e,t,n,r){var i="string"==typeof e.ref?e.ref:qt(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Qs(i);o.s.r==o.e.r&&(o.e.r=Qs(t["!ref"]).e.r,i=qt(o));for(var a=0;a<s.length;++a){var c=s[a];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Ve("autoFilter",null,{ref:i})}(c["!autofilter"],c,n,e)),null!=c["!merges"]&&c["!merges"].length>0&&(i[i.length]=function i0e(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+qt(e[n])+'"/>';return t+"</mergeCells>"}(c["!merges"]));var _,g=-1,y=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(_={ref:v[0]},"#"!=v[1].Target.charAt(0)&&(y=Mn(r,-1,$n(v[1].Target).replace(/#.*$/,""),Kt.HLINK),_["r:id"]="rId"+y),(g=v[1].Target.indexOf("#"))>-1&&(_.location=$n(v[1].Target.slice(g+1))),v[1].Tooltip&&(_.tooltip=$n(v[1].Tooltip)),i[i.length]=Ve("hyperlink",null,_))}),i[i.length]="</hyperlinks>"),delete c["!links"],null!=c["!margins"]&&(i[i.length]=function d0e(e){return Zd(e),Ve("pageMargins",null,e)}(c["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&(i[i.length]=rs("ignoredErrors",Ve("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(y=Mn(r,-1,"../drawings/drawing"+(e+1)+".xml",Kt.DRAW),i[i.length]=Ve("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=h),c["!comments"].length>0&&(y=Mn(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Kt.VML),i[i.length]=Ve("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function A0e(e,t,n,r){var i=function T0e(e,t,n){var r=_e(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;i.hpx?s=20*Lv(i.hpx):i.hpt&&(s=20*i.hpt),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,c=r.l;r.l+=4;for(var u={r:e,c:0},l=0;l<16;++l)if(!(t.s.c>l+1<<10||t.e.c<l<<10)){for(var h=-1,g=-1,_=l<<10;_<l+1<<10;++_)u.c=_,(Array.isArray(n)?(n[u.r]||[])[u.c]:n[Rt(u)])&&(h<0&&(h=_),g=_);h<0||(++a,r.write_shift(4,h),r.write_shift(4,g))}var v=r.l;return r.l=c,r.write_shift(4,a),r.l=v,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Re(e,0,i)}var C0e=jd,S0e=F0;var uge=jd,lge=F0,I7=["left","right","top","bottom","header","footer"];function Sge(e,t,n,r,i,s,o){if(void 0===t.v)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":(t=Xn(t)).z=t.z||It[14],t.v=Vi(br(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v}var c={r:n,c:r};switch(c.s=ef(i.cellXfs,t,i),t.l&&s["!links"].push([Rt(c),t.l]),t.c&&s["!comments"].push([Rt(c),t.c]),t.t){case"s":case"str":return i.bookSST?(a=Nk(i.Strings,t.v,i.revStrings),c.t="s",c.v=a,o?Re(e,18,function z0e(e,t,n){return null==n&&(n=_e(8)),Ud(t,n),n.write_shift(4,t.v),n}(0,c)):Re(e,7,function G0e(e,t,n){return null==n&&(n=_e(12)),Vd(t,n),n.write_shift(4,t.v),n}(0,c))):(c.t="str",o?Re(e,17,function ige(e,t,n){return null==n&&(n=_e(8+4*e.v.length)),Ud(t,n),Ui(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,c)):Re(e,6,function nge(e,t,n){return null==n&&(n=_e(12+4*e.v.length)),Vd(t,n),Ui(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,c))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?o?Re(e,13,function J0e(e,t,n){return null==n&&(n=_e(8)),Ud(t,n),Z5(e.v,n),n}(t,c)):Re(e,2,function Q0e(e,t,n){return null==n&&(n=_e(12)),Vd(t,n),Z5(e.v,n),n}(t,c)):o?Re(e,16,function Z0e(e,t,n){return null==n&&(n=_e(12)),Ud(t,n),Hd(e.v,n),n}(t,c)):Re(e,5,function K0e(e,t,n){return null==n&&(n=_e(16)),Vd(t,n),Hd(e.v,n),n}(t,c)),!0;case"b":return c.t="b",o?Re(e,15,function V0e(e,t,n){return null==n&&(n=_e(5)),Ud(t,n),n.write_shift(1,e.v?1:0),n}(t,c)):Re(e,4,function O0e(e,t,n){return null==n&&(n=_e(9)),Vd(t,n),n.write_shift(1,e.v?1:0),n}(t,c)),!0;case"e":return c.t="e",o?Re(e,14,function H0e(e,t,n){return null==n&&(n=_e(8)),Ud(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,c)):Re(e,3,function U0e(e,t,n){return null==n&&(n=_e(9)),Vd(t,n),n.write_shift(1,e.v),n}(t,c)),!0}return o?Re(e,12,function M0e(e,t,n){return null==n&&(n=_e(4)),Ud(t,n)}(0,c)):Re(e,1,function P0e(e,t,n){return null==n&&(n=_e(8)),Vd(t,n)}(0,c)),!0}function Lge(e,t,n,r){var i=Ys(),s=n.SheetNames[e],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch{}var c=xn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Re(i,129),(n.vbaraw||o["!outline"])&&Re(i,147,function k0e(e,t,n){null==n&&(n=_e(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return jw({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),K5(e,n),n.slice(0,n.l)}(a,o["!outline"])),Re(i,148,S0e(c)),function Fge(e,t,n){Re(e,133),Re(e,137,function Ege(e,t,n){null==n&&(n=_e(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),Re(e,138),Re(e,134)}(i,0,n.Workbook),function kge(e,t){!t||!t["!cols"]||(Re(e,390),t["!cols"].forEach(function(n,r){n&&Re(e,60,function _ge(e,t,n){null==n&&(n=_e(18));var r=iI(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}(r,n))}),Re(e,391))}(i,o),function Dge(e,t,n,r){var i=xn(t["!ref"]||"A1"),o="",a=[];Re(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var l=i.s.r;l<=u;++l){o=Br(l),A0e(e,t,i,l);var h=!1;if(l<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){l===i.s.r&&(a[g]=yr(g));var _=c?(t[l]||[])[g]:t[a[g]+o];h=!!_&&Sge(e,_,l,g,r,t,h)}}Re(e,146)}(i,o,0,t),function Oge(e,t){t["!protect"]&&Re(e,535,function Ige(e,t){return null==t&&(t=_e(66)),t.write_shift(2,e.password?Ik(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){t.write_shift(4,n[1]?null==e[n[0]]||e[n[0]]?0:1:null!=e[n[0]]&&e[n[0]]?0:1)}),t}(t["!protect"]))}(i,o),function Mge(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],s="string"==typeof i.ref?i.ref:qt(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=Qs(s);a.s.r==a.e.r&&(a.e.r=Qs(t["!ref"]).e.r,s=qt(a));for(var c=0;c<o.length;++c){var u=o[c];if("_xlnm._FilterDatabase"==u.Name&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Re(e,161,F0(xn(s))),Re(e,162)}}(i,o,n,e),function bge(e,t){!t||!t["!merges"]||(Re(e,177,function fge(e,t){return null==t&&(t=_e(4)),t.write_shift(4,e),t}(t["!merges"].length)),t["!merges"].forEach(function(n){Re(e,176,lge(n))}),Re(e,178))}(i,o),function Pge(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var i=Mn(n,-1,r[1].Target.replace(/#.*$/,""),Kt.HLINK);Re(e,494,function hge(e,t){var n=_e(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));F0({s:Jr(e[0]),e:Jr(e[0])},n),uk("rId"+t,n);var r=e[1].Target.indexOf("#");return Ui((-1==r?"":e[1].Target.slice(r+1))||"",n),Ui(e[1].Tooltip||"",n),Ui("",n),n.slice(0,n.l)}(r,i))}}),delete t["!links"]}(i,o,r),o["!margins"]&&Re(i,476,function yge(e,t){return null==t&&(t=_e(48)),Zd(e),I7.forEach(function(n){Hd(e[n],t)}),t}(o["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&function Rge(e,t){!t||!t["!ref"]||(Re(e,648),Re(e,649,function wge(e){var t=_e(24);return t.write_shift(4,4),t.write_shift(4,1),F0(e,t),t}(xn(t["!ref"]))),Re(e,650))}(i,o),function Nge(e,t,n,r){if(t["!comments"].length>0){var i=Mn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Kt.VML);Re(e,551,uk("rId"+i)),t["!legacy"]=i}}(i,o,e,r),Re(i,130),i.end()}var Fk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Zge="][*?/\\".split("");function S7(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return Zge.forEach(function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function b7(e){var t=[Vr];t[t.length]=Ve("workbook",null,{xmlns:Zl[0],"xmlns:r":di.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Fk.forEach(function(a){null!=e.Workbook.WBProps[a[0]]&&e.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Ve("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&i[s]&&i[s].Hidden;++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:$n(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}t[t.length]=Ve("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var c={name:a.Name};a.Comment&&(c.comment=a.Comment),null!=a.Sheet&&(c.localSheetId=""+a.Sheet),a.Hidden&&(c.hidden="1"),a.Ref&&(t[t.length]=Ve("definedName",$n(a.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function eme(e,t){return t||(t=_e(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),uk(e.strRelID,t),Ui(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function lme(e,t){var n=Ys();return Re(n,131),Re(n,128,function ame(e,t){t||(t=_e(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return Ui("SheetJS",t),Ui(gv.version,t),Ui(gv.version,t),Ui("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Re(n,153,function nme(e,t){t||(t=_e(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),K5(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),function ume(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n=t.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&-1==i?i=r:1==n[r].Hidden&&-1==s&&(s=r);s>i||(Re(e,135),Re(e,158,function cme(e,t){return t||(t=_e(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(i)),Re(e,136))}}(n,e),function ome(e,t){Re(e,143);for(var n=0;n!=t.SheetNames.length;++n)Re(e,156,eme({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));Re(e,144)}(n,e),Re(n,132),n.end()}function Tme(e,t,n,r,i){return(".bin"===t.slice(-4)?Lge:E7)(e,n,r,i)}function Sme(e,t,n){return(".bin"===t.slice(-4)?uhe:o7)(e,n)}function P7(e){return Ve("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+bk(e.Ref,{r:0,c:0})})}function $me(e,t,n,r,i,s,o){if(!e||null==e.v&&null==e.f)return"";var a={};if(e.f&&(a["ss:Formula"]="="+$n(bk(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Jr(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=$n(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=$n(e.l.Tooltip))),n["!merges"])for(var u=n["!merges"],l=0;l!=u.length;++l)u[l].s.c!=o.c||u[l].s.r!=o.r||(u[l].e.c>u[l].s.c&&(a["ss:MergeAcross"]=u[l].e.c-u[l].s.c),u[l].e.r>u[l].s.r&&(a["ss:MergeDown"]=u[l].e.r-u[l].s.r));var h="",g="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",g=String(e.v);break;case"b":h="Boolean",g=e.v?"1":"0";break;case"e":h="Error",g=Eu[e.v];break;case"d":h="DateTime",g=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||It[14]);break;case"s":h="String",g=function fce(e){return(e+"").replace(q2,function(n){return z2[n]}).replace(I5,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}(e.v||"")}var _=ef(r.cellXfs,e,r);a["ss:StyleID"]="s"+(21+_),a["ss:Index"]=o.c+1;var v="z"==e.t?"":'<Data ss:Type="'+h+'">'+(null!=e.v?g:"")+"</Data>";return(e.c||[]).length>0&&(v+=function Hme(e){return e.map(function(t){var n=function dce(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}(t.t||""),r=Ve("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ve("Comment",r,{"ss:Author":t.a})}).join("")}(e.c)),Ve("Cell",v,a)}function Gme(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Xw(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function zme(e,t,n){var r=[],s=n.Sheets[n.SheetNames[e]],o=s?function Ume(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(P7(a)))}return s.join("")}(s,0,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?function Wme(e,t,n,r){if(!e["!ref"])return"";var i=xn(e["!ref"]),s=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(x,T){Xl(x);var w=!!x.width,I=iI(T,x),k={"ss:Index":T+1};w&&(k["ss:Width"]=Fv(I.width)),x.hidden&&(k["ss:Hidden"]="1"),a.push(Ve("Column",null,k))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var l=[Gme(u,(e["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var g=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>h||s[o].s.r>u||s[o].e.c<h||s[o].e.r<u)){(s[o].s.c!=h||s[o].s.r!=u)&&(g=!0);break}if(!g){var _={r:u,c:h},y=Rt(_);l.push($me(c?(e[u]||[])[h]:e[y],y,e,t,0,0,_))}}l.push("</Row>"),l.length>2&&a.push(l.join(""))}return a.join("")}(s,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(function jme(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Ve("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Ve("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Ve("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Ve("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&(!r.Workbook.Sheets[s]||r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(rs("ProtectContents","True")),e["!protect"].objects&&i.push(rs("ProtectObjects","True")),e["!protect"].scenarios&&i.push(rs("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null!=e["!protect"].selectUnlockedCells&&!e["!protect"].selectUnlockedCells&&i.push(rs("EnableSelection","UnlockedCells")):i.push(rs("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),0==i.length?"":Ve("WorksheetOptions",i.join(""),{xmlns:Lo.x})}(s,0,e,n)),r.join("")}function qme(e,t){t||(t={}),e.SSF||(e.SSF=Xn(It)),e.SSF&&(k0(),wv(e.SSF),t.revssf=Fw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],ef(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(function Ome(e,t){var n=[];return e.Props&&n.push(function fue(e,t){var n=[];return Or(_k).map(function(r){for(var i=0;i<wu.length;++i)if(wu[i][1]==r)return wu[i];for(i=0;i<Gd.length;++i)if(Gd[i][1]==r)return Gd[i];throw r}).forEach(function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(rs(_k[r[1]]||r[1],i))}}),Ve("DocumentProperties",n.join(""),{xmlns:Lo.o})}(e.Props,t)),e.Custprops&&n.push(function due(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&Or(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<wu.length;++o)if(s==wu[o][1])return;for(o=0;o<Gd.length;++o)if(s==Gd[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=e[s],c="string";"number"==typeof a?(c="float",a=String(a)):!0===a||!1===a?(c="boolean",a=a?"1":"0"):a=String(a),i.push(Ve(w5(s),a,{"dt:dt":c}))}}),t&&Or(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&(!e||!Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],a="string";"number"==typeof o?(a="float",o=String(o)):!0===o||!1===o?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Ve(w5(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+Lo.o+'">'+i.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Ve("Worksheet",zme(r,t,e),{"ss:Name":$n(e.SheetNames[r])}));return n[2]=function Vme(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var s=[];s.push(Ve("NumberFormat",null,{"ss:Format":$n(It[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(Ve("Style",s.join(""),o))}),Ve("Styles",n.join(""))}(0,t),n[3]=function Bme(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||n.push(P7(i)))}return Ve("Names",n.join(""))}(e),Vr+Ve("Workbook",n.join(""),{xmlns:Lo.ss,"xmlns:o":Lo.o,"xmlns:x":Lo.x,"xmlns:ss":Lo.ss,"xmlns:dt":Lo.dt,"xmlns:html":Lo.html})}var Gv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var Wv={0:{f:function I0e(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,7&s&&(n.level=7&s),16&s&&(n.hidden=!0),32&s&&(n.hpt=i/20),n}},1:{f:function R0e(e){return[ha(e)]}},2:{f:function Y0e(e){return[ha(e),lk(e),"n"]}},3:{f:function B0e(e){return[ha(e),e.read_shift(1),"e"]}},4:{f:function F0e(e){return[ha(e),e.read_shift(1),"b"]}},5:{f:function q0e(e){return[ha(e),Ds(e),"n"]}},6:{f:function tge(e){return[ha(e),Ss(e),"str"]}},7:{f:function $0e(e){return[ha(e),e.read_shift(4),"s"]}},8:{f:function cge(e,t,n){var r=e.l+t,i=ha(e);i.r=n["!row"];var o=[i,Ss(e),"str"];if(n.cellFormula){e.l+=2;var a=nI(e,r-e.l,n);o[3]=Rs(a,0,i,n.supbooks,n)}else e.l=r;return o}},9:{f:function age(e,t,n){var r=e.l+t,i=ha(e);i.r=n["!row"];var o=[i,Ds(e),"n"];if(n.cellFormula){e.l+=2;var a=nI(e,r-e.l,n);o[3]=Rs(a,0,i,n.supbooks,n)}else e.l=r;return o}},10:{f:function sge(e,t,n){var r=e.l+t,i=ha(e);i.r=n["!row"];var o=[i,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var a=nI(e,r-e.l,n);o[3]=Rs(a,0,i,n.supbooks,n)}else e.l=r;return o}},11:{f:function oge(e,t,n){var r=e.l+t,i=ha(e);i.r=n["!row"];var o=[i,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var a=nI(e,r-e.l,n);o[3]=Rs(a,0,i,n.supbooks,n)}else e.l=r;return o}},12:{f:function N0e(e){return[Bd(e)]}},13:{f:function X0e(e){return[Bd(e),lk(e),"n"]}},14:{f:function j0e(e){return[Bd(e),e.read_shift(1),"e"]}},15:{f:function L0e(e){return[Bd(e),e.read_shift(1),"b"]}},16:{f:function w7(e){return[Bd(e),Ds(e),"n"]}},17:{f:function rge(e){return[Bd(e),Ss(e),"str"]}},18:{f:function W0e(e){return[Bd(e),e.read_shift(4),"s"]}},19:{f:ok},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function ime(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=Vce(e),o=Bpe(e,0,n),a=ak(e);e.l=r;var c={Name:s,Ptg:o};return i<268435455&&(c.Sheet=i),a&&(c.Comment=a),c}},40:{},42:{},43:{f:function tde(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=function jce(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(r.underline=o);var a=e.read_shift(1);a>0&&(r.family=a);var c=e.read_shift(1);switch(c>0&&(r.charset=c),e.l++,r.color=function Uce(e){var t={},r=e.read_shift(1)>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),c=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var u=$d[i];u&&(t.rgb=Mv(u));break;case 2:t.rgb=Mv([o,a,c]);break;case 3:t.theme=i}return 0!=s&&(t.tint=s>0?s/32767:s/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=Ss(e),r}},44:{f:function Jfe(e,t){return[e.read_shift(2),Ss(e)]}},45:{f:ide},46:{f:ode},47:{f:function sde(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function Rce(e){return e.read_shift(4,"i")}},50:{},51:{f:function Ude(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function U9(e,t,n){if(!n.cellStyles)return Cs(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),c=e.read_shift(2);2==r&&(e.l+=2);var u={s:i,e:s,w:o,ixfe:a,flags:c};return(n.biff>=5||!n.biff)&&(u.level=c>>8&7),u}},62:{f:function ege(e){return[ha(e),ok(e),"is"]}},63:{f:function Zde(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Rt(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function Tge(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function xge(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function b0e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=Lce(e,t-19),n}},148:{f:C0e,p:16},151:{f:function pge(){}},152:{},153:{f:function tme(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?Ss(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function Jge(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=ck(e,t-8),n.name=Ss(e),n}},157:{},158:{},159:{T:1,f:function Efe(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:jd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:uge},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function Vde(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ss(e)}}},336:{T:-1},337:{f:function $de(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ck},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function V9(e,t,n){if(n.biff<8)return function Cle(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=Pv(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);0!=s--;)r.push(Mue(e,0,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function gge(e,t,n){var r=e.l+t,i=Y5(e),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=Vpe(e,r-e.l,n);o[1]=a}else e.l=r;return o}},427:{f:function mge(e,t,n){var r=e.l+t,s=[jd(e,16)];if(n.cellFormula){var o=Upe(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function vge(e){var t={};return I7.forEach(function(n){t[n]=Ds(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function D0e(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function dge(e,t){var n=e.l+t,r=jd(e,16),i=ak(e),s=Ss(e),o=Ss(e),a=Ss(e);e.l=n;var c={rfx:r,relId:i,loc:s,display:a};return o&&(c.Tooltip=o),c}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ck},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ohe},633:{T:1},634:{T:-1},635:{T:1,f:function ihe(e){var t={};t.iauthor=e.read_shift(4);var n=jd(e,16);return t.rfx=n.s,t.ref=Rt(n.s),e.l+=16,t}},636:{T:-1},637:{f:Fce},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function Hge(e,t){return e.l+=10,{name:Ss(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function Age(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function He(e,t,n,r){var i=t;if(!isNaN(i)){var s=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&nk(n)&&e.push(n)}}function zv(e,t,n){return e||(e=_e(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function i_e(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?Vi(br(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?He(e,2,function sfe(e,t,n){var r=_e(9);return zv(r,e,t),r.write_shift(2,n),r}(n,r,i)):He(e,3,function rfe(e,t,n){var r=_e(15);return zv(r,e,t),r.write_shift(8,n,"f"),r}(n,r,i)));case"b":case"e":return void He(e,5,function n_e(e,t,n,r){var i=_e(9);return zv(i,e,t),w9(n,r||"b",i),i}(n,r,t.v,t.t));case"s":case"str":return void He(e,4,function r_e(e,t,n){var r=_e(8+2*n.length);return zv(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}He(e,1,zv(null,n,r))}function h_e(e,t,n,r,i){var s=16+ef(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)He(e,6,function Lpe(e,t,n,r,i){var s=qd(t,n,i),o=function Ope(e){if(null==e){var t=_e(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Hd("number"==typeof e?e:0)}(e.v),a=_e(6);a.write_shift(2,33),a.write_shift(4,0);for(var u=_e(e.bf.length),l=0;l<e.bf.length;++l)u[l]=e.bf[l];return Li([s,o,a,u])}(t,n,r,0,s));else switch(t.t){case"d":case"n":He(e,515,function Ile(e,t,n,r){var i=_e(14);return qd(e,t,r,i),Hd(n,i),i}(n,r,"d"==t.t?Vi(br(t.v)):t.v,s));break;case"b":case"e":He(e,517,function Ele(e,t,n,r,i,s){var o=_e(8);return qd(e,t,r,o),w9(n,s,o),o}(n,r,t.v,s,0,t.t));break;case"s":case"str":i.bookSST?He(e,253,function ale(e,t,n,r){var i=_e(10);return qd(e,t,r,i),i.write_shift(4,n),i}(n,r,Nk(i.Strings,t.v,i.revStrings),s)):He(e,516,function ule(e,t,n,r,i){var s=!i||8==i.biff,o=_e(+s+8+(1+s)*n.length);return qd(e,t,r,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}(n,r,(t.v||"").slice(0,255),s,i));break;default:He(e,513,qd(n,r,s))}else He(e,513,qd(n,r,s))}function p_e(e,t,n){var l,r=Ys(),i=n.SheetNames[e],s=n.Sheets[i]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=8==t.biff,h="",g=[],_=xn(s["!ref"]||"A1"),y=u?65536:16384;if(_.e.c>255||_.e.r>=y){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,y-1)}He(r,2057,Ek(0,16,t)),He(r,13,pa(1)),He(r,12,pa(100)),He(r,15,Xs(!0)),He(r,17,Xs(!1)),He(r,16,Hd(.001)),He(r,95,Xs(!0)),He(r,42,Xs(!1)),He(r,43,Xs(!1)),He(r,130,pa(1)),He(r,128,function xle(e){var t=_e(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),He(r,131,Xs(!1)),He(r,132,Xs(!1)),u&&function d_e(e,t){if(t){var n=0;t.forEach(function(r,i){++n<=256&&r&&He(e,125,function qle(e,t){var n=_e(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),n.write_shift(1,r=e.level||0),n.write_shift(2,0),n}(iI(i,r),i))})}}(r,s["!cols"]),He(r,512,function hle(e,t){var n=8!=t.biff&&t.biff?2:4,r=_e(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(_,t)),u&&(s["!links"]=[]);for(var v=_.s.r;v<=_.e.r;++v){h=Br(v);for(var x=_.s.c;x<=_.e.c;++x){v===_.s.r&&(g[x]=yr(x)),l=g[x]+h;var T=c?(s[v]||[])[x]:s[l];T&&(h_e(r,T,v,x,t),u&&T.l&&s["!links"].push([l,T.l]))}}var w=a.CodeName||a.name||i;return u&&He(r,574,function nle(e){var t=_e(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&He(r,229,function Nle(e){var t=_e(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)D9(e[n],t);return t}(s["!merges"])),u&&function f_e(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];He(e,440,Ble(r)),r[1].Tooltip&&He(e,2048,jle(r))}delete t["!links"]}(r,s),He(r,442,I9(w)),u&&function u_e(e,t){var n=_e(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),He(e,2151,n),(n=_e(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),D9(xn(t["!ref"]||"A1"),n),n.write_shift(4,4),He(e,2152,n)}(r,s),He(r,10),r.end()}function g_e(e,t,n){var r=Ys(),i=(e||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=8==n.biff,c=5==n.biff;He(r,2057,Ek(0,5,n)),"xla"==n.bookType&&He(r,135),He(r,225,a?pa(1200):null),He(r,193,function Eue(e,t){t||(t=_e(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),c&&He(r,191),c&&He(r,192),He(r,226),He(r,92,function $ue(e,t){var n=!t||8==t.biff,r=_e(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),He(r,66,pa(a?1200:1252)),a&&He(r,353,pa(0)),a&&He(r,448),He(r,317,function Yle(e){for(var t=_e(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),a&&e.vbaraw&&He(r,211),a&&e.vbaraw&&He(r,442,I9(o.CodeName||"ThisWorkbook")),He(r,156,pa(17)),He(r,25,Xs(!1)),He(r,18,Xs(!1)),He(r,19,pa(0)),a&&He(r,431,Xs(!1)),a&&He(r,444,pa(0)),He(r,61,function ele(){var e=_e(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),He(r,64,Xs(!1)),He(r,141,pa(0)),He(r,34,Xs("true"==function Kge(e){return e.Workbook&&e.Workbook.WBProps&&function Cr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),He(r,14,Xs(!0)),a&&He(r,439,Xs(!1)),He(r,218,pa(0)),function a_e(e,t,n){He(e,49,function sle(e,t){var n=e.name||"Arial",r=t&&5==t.biff,s=_e(r?15+n.length:16+2*n.length);return s.write_shift(2,20*(e.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}(r,0,n),function c_e(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&He(e,1054,fle(i,t[i],n))})}(r,e.SSF,n),function l_e(e,t){for(var n=0;n<16;++n)He(e,224,N9({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){He(e,224,N9(r,0,t))})}(r,n),a&&He(r,352,Xs(!1));var l=r.end(),h=Ys();a&&He(h,140,function $le(e){return e||(e=_e(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),a&&n.Strings&&function t_e(e,t,n,r){var i=r||(n||[]).length||0;if(i<=8224)return He(e,t,n,i);var s=t;if(!isNaN(s)){for(var o=n.parts||[],a=0,c=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var l=e.next(4);for(l.write_shift(2,s),l.write_shift(2,u),e.push(n.slice(c,c+u)),c+=u;c<i;){for((l=e.next(4)).write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;l.write_shift(2,u),e.push(n.slice(c,c+u)),c+=u}}}(h,252,function Kue(e,t){var n=_e(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=Aue(e[i]);var s=Li([n].concat(r));return s.parts=[n.length].concat(r.map(function(o){return o.length})),s}(n.Strings)),He(h,10);var g=h.end(),_=Ys(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(a?12:11)+(a?2:1)*e.SheetNames[v].length;var x=l.length+y+g.length;for(v=0;v<e.SheetNames.length;++v)He(_,133,zue({pos:x,hs:(s[v]||{}).Hidden||0,dt:0,name:e.SheetNames[v]},n)),x+=t[v].length;var w=_.end();if(y!=w.length)throw new Error("BS8 "+y+" != "+w.length);var I=[];return l.length&&I.push(l),w.length&&I.push(w),g.length&&I.push(g),Li(I)}function M7(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];r&&r["!ref"]&&Qs(r["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var s=t||{};switch(s.biff||2){case 8:case 5:return function m_e(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Xn(It)),e&&e.SSF&&(k0(),wv(e.SSF),n.revssf=Fw(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Wk(n),n.cellXfs=[],ef(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=p_e(i,n,e);return r.unshift(g_e(e,r,n)),Li(r)}(e,t);case 4:case 3:case 2:return function o_e(e,t){var n=t||{};null!=Fr&&null==n.dense&&(n.dense=Fr);for(var r=Ys(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(i=s);if(0==i&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return He(r,4==n.biff?1033:3==n.biff?521:9,Ek(0,16,n)),function s_e(e,t,n,r){var o,i=Array.isArray(t),s=xn(t["!ref"]||"A1"),a="",c=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=qt(s)}for(var u=s.s.r;u<=s.e.r;++u){a=Br(u);for(var l=s.s.c;l<=s.e.c;++l){u===s.s.r&&(c[l]=yr(l)),o=c[l]+a;var h=i?(t[u]||[])[l]:t[o];h&&i_e(e,h,u,l)}}}(r,e.Sheets[e.SheetNames[i]],0,n),He(r,10),r.end()}(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function O7(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>n||i[u].s.c>o||i[u].e.r<n||i[u].e.c<o)){if(i[u].s.r<n||i[u].s.c<o){a=-1;break}a=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(a<0)){var l=Rt({r:n,c:o}),h=r.dense?(e[n]||[])[o]:e[l],g=h&&null!=h.v&&(h.h||T5(h.w||(Sc(h),h.w)||""))||"",_={};a>1&&(_.rowspan=a),c>1&&(_.colspan=c),r.editable?g='<span contenteditable="true">'+g+"</span>":h&&(_["data-t"]=h&&h.t||"z",null!=h.v&&(_["data-v"]=h.v),null!=h.z&&(_["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),_.id=(r.id||"sjs")+"-"+l,s.push(Ve("td",g,_))}}return"<tr>"+s.join("")+"</tr>"}var L7='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',V7="</body></html>";function U7(e,t){var n=t||{},i=null!=n.footer?n.footer:V7,s=[null!=n.header?n.header:L7],o=Qs(e["!ref"]);n.dense=Array.isArray(e),s.push(function B7(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}(0,0,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(O7(e,o,a,n));return s.push("</table>"+i),s.join("")}function j7(e,t,n){var r=n||{};null!=Fr&&(r.dense=Fr);var i=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?Jr(r.origin):r.origin;i=o.r,s=o.c}var a=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var l=Qs(e["!ref"]);u.s.r=Math.min(u.s.r,l.s.r),u.s.c=Math.min(u.s.c,l.s.c),u.e.r=Math.max(u.e.r,l.e.r),u.e.c=Math.max(u.e.c,l.e.c),-1==i&&(u.e.r=i=l.e.r+1)}var h=[],g=0,_=e["!rows"]||(e["!rows"]=[]),y=0,v=0,x=0,T=0,w=0,I=0;for(e["!cols"]||(e["!cols"]=[]);y<a.length&&v<c;++y){var k=a[y];if($7(k)){if(r.display)continue;_[v]={hidden:!0}}var O=k.children;for(x=T=0;x<O.length;++x){var q=O[x];if(!r.display||!$7(q)){var N=q.hasAttribute("data-v")?q.getAttribute("data-v"):q.hasAttribute("v")?q.getAttribute("v"):D5(q.innerHTML),z=q.getAttribute("data-z")||q.getAttribute("z");for(g=0;g<h.length;++g){var K=h[g];K.s.c==T+s&&K.s.r<v+i&&v+i<=K.e.r&&(T=K.e.c+1-s,g=-1)}I=+q.getAttribute("colspan")||1,((w=+q.getAttribute("rowspan")||1)>1||I>1)&&h.push({s:{r:v+i,c:T+s},e:{r:v+i+(w||1)-1,c:T+s+(I||1)-1}});var le={t:"s",v:N},pe=q.getAttribute("data-t")||q.getAttribute("t")||"";null!=N&&(0==N.length?le.t=pe||"z":r.raw||0==N.trim().length||"s"==pe||("TRUE"===N?le={t:"b",v:!0}:"FALSE"===N?le={t:"b",v:!1}:isNaN(Ha(N))?isNaN(R0(N).getDate())||(le={t:"d",v:br(N)},r.cellDates||(le={t:"n",v:Vi(le.v)}),le.z=r.dateNF||It[14]):le={t:"n",v:Ha(N)})),void 0===le.z&&null!=z&&(le.z=z);var Y="",$e=q.getElementsByTagName("A");if($e&&$e.length)for(var ct=0;ct<$e.length&&(!$e[ct].hasAttribute("href")||"#"==(Y=$e[ct].getAttribute("href")).charAt(0));++ct);Y&&"#"!=Y.charAt(0)&&(le.l={Target:Y}),r.dense?(e[v+i]||(e[v+i]=[]),e[v+i][T+s]=le):e[Rt({c:T+s,r:v+i})]=le,u.e.c<T+s&&(u.e.c=T+s),T+=I}}++v}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+i),e["!ref"]=qt(u),v>=c&&(e["!fullref"]=qt((u.e.r=a.length-y+v-1+i,u))),e}function H7(e,t){return j7((t||{}).dense?[]:{},e,t)}function $7(e){var t="",n=function y_e(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var E_e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Av({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Vr+t}}(),K7=function(){var e=function(s){return $n(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",r=function(s,o,a){var c=[];c.push('      <table:table table:name="'+$n(o.SheetNames[a])+'" table:style-name="ta1">\n');var u=0,l=0,h=Qs(s["!ref"]||"A1"),g=s["!merges"]||[],_=0,y=Array.isArray(s);if(s["!cols"])for(l=0;l<=h.e.c;++l)c.push("        <table:table-column"+(s["!cols"][l]?' table:style-name="co'+s["!cols"][l].ods+'"':"")+"></table:table-column>\n");var x=s["!rows"]||[];for(u=0;u<h.s.r;++u)c.push("        <table:table-row"+(x[u]?' table:style-name="ro'+x[u].ods+'"':"")+"></table:table-row>\n");for(;u<=h.e.r;++u){for(c.push("        <table:table-row"+(x[u]?' table:style-name="ro'+x[u].ods+'"':"")+">\n"),l=0;l<h.s.c;++l)c.push(t);for(;l<=h.e.c;++l){var T=!1,w={},I="";for(_=0;_!=g.length;++_)if(!(g[_].s.c>l||g[_].s.r>u||g[_].e.c<l||g[_].e.r<u)){(g[_].s.c!=l||g[_].s.r!=u)&&(T=!0),w["table:number-columns-spanned"]=g[_].e.c-g[_].s.c+1,w["table:number-rows-spanned"]=g[_].e.r-g[_].s.r+1;break}if(T)c.push("          <table:covered-table-cell/>\n");else{var k=Rt({r:u,c:l}),O=y?(s[u]||[])[l]:s[k];if(O&&O.f&&(w["table:formula"]=$n($pe(O.f)),O.F&&O.F.slice(0,k.length)==k)){var q=Qs(O.F);w["table:number-matrix-columns-spanned"]=q.e.c-q.s.c+1,w["table:number-matrix-rows-spanned"]=q.e.r-q.s.r+1}if(O){switch(O.t){case"b":I=O.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=O.v?"true":"false";break;case"n":I=O.w||String(O.v||0),w["office:value-type"]="float",w["office:value"]=O.v||0;break;case"s":case"str":I=null==O.v?"":O.v,w["office:value-type"]="string";break;case"d":I=O.w||br(O.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=br(O.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var N=e(I);if(O.l&&O.l.Target){var z=O.l.Target;"#"!=(z="#"==z.charAt(0)?"#"+Gpe(z.slice(1)):z).charAt(0)&&!z.match(/^\w+:/)&&(z="../"+z),N=Ve("text:a",N,{"xlink:href":z.replace(/&/g,"&amp;")})}c.push("          "+Ve("table:table-cell",Ve("text:p",N,{}),w)+"\n")}else c.push(t)}}c.push("        </table:table-row>\n")}return c.push("      </table:table>\n"),c.join("")};return function(o,a){var c=[Vr],u=Av({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),l=Av({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==a.bookType?(c.push("<office:document"+u+l+">\n"),c.push(r9().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+">\n"),function(s,o){s.push(" <office:automatic-styles>\n"),s.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),s.push('   <number:month number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push('   <number:day number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push("   <number:year/>\n"),s.push("  </number:date-style>\n");var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"])for(var l=0;l<u["!cols"].length;++l)if(u["!cols"][l]){var h=u["!cols"][l];if(null==h.width&&null==h.wpx&&null==h.wch)continue;Xl(h),h.ods=a;var g=u["!cols"][l].wpx+"px";s.push('  <style:style style:name="co'+a+'" style:family="table-column">\n'),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+'"/>\n'),s.push("  </style:style>\n"),++a}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"])for(var l=0;l<u["!rows"].length;++l)if(u["!rows"][l]){u["!rows"][l].ods=c;var h=u["!rows"][l].hpx+"px";s.push('  <style:style style:name="ro'+c+'" style:family="table-row">\n'),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+'"/>\n'),s.push("  </style:style>\n"),++c}}),s.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),s.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),s.push("  </style:style>\n"),s.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),s.push(" </office:automatic-styles>\n")}(c,o),c.push("  <office:body>\n"),c.push("    <office:spreadsheet>\n");for(var h=0;h!=o.SheetNames.length;++h)c.push(r(o.Sheets[o.SheetNames[h]],o,h));return c.push("    </office:spreadsheet>\n"),c.push("  </office:body>\n"),c.push("fods"==a.bookType?"</office:document>":"</office:document-content>"),c.join("")}}();function Z7(e,t){if("fods"==t.bookType)return K7(e,t);var n=W2(),r="",i=[],s=[];return Zt(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Zt(n,r="content.xml",K7(e,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),Zt(n,r="styles.xml",E_e(e,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),Zt(n,r="meta.xml",Vr+r9()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),Zt(n,r="manifest.rdf",function sue(e){var t=[Vr];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push(n9(e[n][0],e[n][1])),t.push(iue("",e[n][0]));return t.push(n9("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(s)),i.push([r,"application/rdf+xml"]),Zt(n,r="META-INF/manifest.xml",function rue(e){var t=[Vr];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),n}function Yd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function w_e(e){return typeof TextEncoder<"u"?(new TextEncoder).encode(e):Mo(Cc(e))}function tf(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function qv(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128&&(r|=(127&e[n])<<7,e[n++]<128||(r|=(127&e[n])<<14,e[n++]<128)||(r|=(127&e[n])<<21,e[n++]<128)||(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)||(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)||(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Fn(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Ur(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128||(n|=(127&e[t])<<14,e[t++]<128)||(n|=(127&e[t])<<21,e[t++]<128))break e;n|=(127&e[t])<<28}return n}function Dn(e){for(var t=[],n=[0];n[0]<e.length;){var a,r=n[0],i=qv(e,n),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var c=n[0];e[n[0]++]>=128;);a=e.slice(c,n[0]);break;case 5:a=e.slice(n[0],n[0]+(o=4)),n[0]+=o;break;case 1:a=e.slice(n[0],n[0]+(o=8)),n[0]+=o;break;case 2:o=qv(e,n),a=e.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var u={data:a,type:s};null==t[i]?t[i]=[u]:t[i].push(u)}return t}function Hi(e){var t=[];return e.forEach(function(n,r){n.forEach(function(i){i.data&&(t.push(Fn(8*r+i.type)),2==i.type&&t.push(Fn(i.data.length)),t.push(i.data))})}),tf(t)}function ga(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=qv(e,r),s=Dn(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:Ur(s[1][0].data),messages:[]};s[2].forEach(function(a){var c=Dn(a.data),u=Ur(c[3][0].data);o.messages.push({meta:c,data:e.slice(r[0],r[0]+u)}),r[0]+=u}),null!=(t=s[3])&&t[0]&&(o.merge=Ur(s[3][0].data)>>>0>0),n.push(o)}return n}function j0(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Fn(n.id),type:0}],r[2]=[],null!=n.merge&&(r[3]=[{data:Fn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Fn(o.data.length)}],r[2].push({data:Hi(o.meta),type:2})});var s=Hi(r);t.push(Fn(s.length)),t.push(s),i.forEach(function(o){return t.push(o)})}),tf(t)}function C_e(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=qv(t,n),i=[];n[0]<t.length;){var s=3&t[n[0]];if(0!=s){var c=0,u=0;if(1==s?(u=4+(t[n[0]]>>2&7),c=(224&t[n[0]++])<<3,c|=t[n[0]++]):(u=1+(t[n[0]++]>>2),2==s?(c=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(c=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[tf(i)],0==c)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}else{var o=t[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[n[0]],a>1&&(o|=t[n[0]+1]<<8),a>2&&(o|=t[n[0]+2]<<16),a>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(t.slice(n[0],n[0]+o)),n[0]+=o}}var l=tf(i);if(l.length!=r)throw new Error("Unexpected length: ".concat(l.length," != ").concat(r));return l}function ma(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;t.push(C_e(r,e.slice(n+=3,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return tf(t)}function H0(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var s=Fn(r),o=s.length;t.push(s),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,i[0]=0,i[1]=255&o,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return tf(t)}function jk(e,t){var n=new Uint8Array(32),r=Yd(n),i=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,function A_e(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=255&i;e[t+15]|=n>=0?0:128}(n,i,e.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n.slice(0,i)}function Hk(e,t){var n=new Uint8Array(32),r=Yd(n),i=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),n.slice(0,i)}function Ps(e){return qv(Dn(e)[1][0].data)}function O_e(e,t,n){var r,i,s,o;if(null==(r=e[6])||!r[0]||null==(i=e[7])||!i[0])throw"Mutation only works on post-BNC storages!";if((null==(o=null==(s=e[8])?void 0:s[0])?void 0:o.data)&&Ur(e[8][0].data)>0)throw"Math only works with normal offsets";for(var c=0,u=Yd(e[7][0].data),l=0,h=[],g=Yd(e[4][0].data),_=0,y=[],v=0;v<t.length;++v)if(null!=t[v]){var x,T;switch(u.setUint16(2*v,l,!0),g.setUint16(2*v,_,!0),typeof t[v]){case"string":x=jk({t:"s",v:t[v]},n),T=Hk({t:"s",v:t[v]},n);break;case"number":x=jk({t:"n",v:t[v]},n),T=Hk({t:"n",v:t[v]},n);break;case"boolean":x=jk({t:"b",v:t[v]},n),T=Hk({t:"b",v:t[v]},n);break;default:throw new Error("Unsupported value "+t[v])}h.push(x),l+=x.length,y.push(T),_+=T.length,++c}else u.setUint16(2*v,65535,!0),g.setUint16(2*v,65535);for(e[2][0].data=Fn(c);v<e[7][0].data.length/2;++v)u.setUint16(2*v,65535,!0),g.setUint16(2*v,65535,!0);return e[6][0].data=tf(h),e[3][0].data=tf(y),c}function Wk(e){!function X7(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];void 0===n[i[0]]&&(n[i[0]]=i[1]),"n"===i[2]&&(n[i[0]]=Number(n[i[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function $_e(e,t){return"ods"==t.bookType?Z7(e,t):"numbers"==t.bookType?function L_e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Qs(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(qt(r)));var s=aI(n,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(G){return G.forEach(function(H){"string"==typeof H&&o.push(H)})});var a={},c=[],u=Et.read(t.numbers,{type:"base64"});u.FileIndex.map(function(G,H){return[G,u.FullPaths[H]]}).forEach(function(G){var H=G[0],Ie=G[1];2==H.type&&H.name.match(/\.iwa/)&&ga(ma(H.content)).forEach(function(Pe){c.push(Pe.id),a[Pe.id]={deps:[],location:Ie,type:Ur(Pe.messages[0].meta[1][0].data)}})}),c.sort(function(G,H){return G-H});var l=c.filter(function(G){return G>1}).map(function(G){return[G,Fn(G)]});u.FileIndex.map(function(G,H){return[G,u.FullPaths[H]]}).forEach(function(G){var H=G[0];H.name.match(/\.iwa/)&&ga(ma(H.content)).forEach(function(Ue){Ue.messages.forEach(function(je){l.forEach(function(Pe){Ue.messages.some(function(Jt){return 11006!=Ur(Jt.meta[1][0].data)&&function I_e(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(Jt.data,Pe[1])})&&a[Pe[0]].deps.push(Ue.id)})})})});for(var y,g=Et.find(u,a[1].location),_=ga(ma(g.content)),v=0;v<_.length;++v){var x=_[v];1==x.id&&(y=x)}var T=Ps(Dn(y.messages[0].data)[1][0].data);for(_=ga(ma((g=Et.find(u,a[T].location)).content)),v=0;v<_.length;++v)(x=_[v]).id==T&&(y=x);for(T=Ps(Dn(y.messages[0].data)[2][0].data),_=ga(ma((g=Et.find(u,a[T].location)).content)),v=0;v<_.length;++v)(x=_[v]).id==T&&(y=x);for(T=Ps(Dn(y.messages[0].data)[2][0].data),_=ga(ma((g=Et.find(u,a[T].location)).content)),v=0;v<_.length;++v)(x=_[v]).id==T&&(y=x);var w=Dn(y.messages[0].data);w[6][0].data=Fn(r.e.r+1),w[7][0].data=Fn(r.e.c+1);for(var I=Ps(w[46][0].data),k=Et.find(u,a[I].location),O=ga(ma(k.content)),q=0;q<O.length&&O[q].id!=I;++q);if(O[q].id!=I)throw"Bad ColumnRowUIDMapArchive";var N=Dn(O[q].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var z=0;z<=r.e.c;++z){var K=[];K[1]=K[2]=[{type:0,data:Fn(z+420690)}],N[1].push({type:2,data:Hi(K)}),N[2].push({type:0,data:Fn(z)}),N[3].push({type:0,data:Fn(z)})}N[4]=[],N[5]=[],N[6]=[];for(var le=0;le<=r.e.r;++le)(K=[])[1]=K[2]=[{type:0,data:Fn(le+726270)}],N[4].push({type:2,data:Hi(K)}),N[5].push({type:0,data:Fn(le)}),N[6].push({type:0,data:Fn(le)});O[q].messages[0].data=Hi(N),k.content=H0(j0(O)),k.size=k.content.length,delete w[46];var pe=Dn(w[4][0].data);pe[7][0].data=Fn(r.e.r+1);var $e=Ps(Dn(pe[1][0].data)[2][0].data);if((O=ga(ma((k=Et.find(u,a[$e].location)).content)))[0].id!=$e)throw"Bad HeaderStorageBucket";var ct=Dn(O[0].messages[0].data);for(le=0;le<s.length;++le){var Ke=Dn(ct[2][0].data);Ke[1][0].data=Fn(le),Ke[4][0].data=Fn(s[le].length),ct[2][le]={type:ct[2][0].type,data:Hi(Ke)}}O[0].messages[0].data=Hi(ct),k.content=H0(j0(O)),k.size=k.content.length;var Ct=Ps(pe[2][0].data);if((O=ga(ma((k=Et.find(u,a[Ct].location)).content)))[0].id!=Ct)throw"Bad HeaderStorageBucket";for(ct=Dn(O[0].messages[0].data),z=0;z<=r.e.c;++z)(Ke=Dn(ct[2][0].data))[1][0].data=Fn(z),Ke[4][0].data=Fn(r.e.r+1),ct[2][z]={type:ct[2][0].type,data:Hi(Ke)};O[0].messages[0].data=Hi(ct),k.content=H0(j0(O)),k.size=k.content.length;var _t=Ps(pe[4][0].data);!function(){for(var Ie,G=Et.find(u,a[_t].location),H=ga(ma(G.content)),Xe=0;Xe<H.length;++Xe){var Ue=H[Xe];Ue.id==_t&&(Ie=Ue)}var je=Dn(Ie.messages[0].data);je[3]=[];var Pe=[];o.forEach(function(Gn,dn){Pe[1]=[{type:0,data:Fn(dn)}],Pe[2]=[{type:0,data:Fn(1)}],Pe[3]=[{type:2,data:w_e(Gn)}],je[3].push({type:2,data:Hi(Pe)})}),Ie.messages[0].data=Hi(je);var V=H0(j0(H));G.content=V,G.size=G.content.length}();var fn=Dn(pe[3][0].data),it=fn[1][0];delete fn[2];var Pt=Dn(it.data),Fe=Ps(Pt[2][0].data);!function(){for(var Ie,G=Et.find(u,a[Fe].location),H=ga(ma(G.content)),Xe=0;Xe<H.length;++Xe){var Ue=H[Xe];Ue.id==Fe&&(Ie=Ue)}var je=Dn(Ie.messages[0].data);delete je[6],delete fn[7];var Pe=new Uint8Array(je[5][0].data);je[5]=[];for(var Jt=0,V=0;V<=r.e.r;++V){var Gn=Dn(Pe);Jt+=O_e(Gn,s[V],o),Gn[1][0].data=Fn(V),je[5].push({data:Hi(Gn),type:2})}je[1]=[{type:0,data:Fn(r.e.c+1)}],je[2]=[{type:0,data:Fn(r.e.r+1)}],je[3]=[{type:0,data:Fn(Jt)}],je[4]=[{type:0,data:Fn(r.e.r+1)}],Ie.messages[0].data=Hi(je);var Wn=H0(j0(H));G.content=Wn,G.size=G.content.length}(),it.data=Hi(Pt),pe[3][0].data=Hi(fn),w[4][0].data=Hi(pe),y.messages[0].data=Hi(w);var ie=H0(j0(_));return g.content=ie,g.size=g.content.length,u}(e,t):"xlsb"==t.bookType?function G_e(e,t){V0=1024,e&&!e.SSF&&(e.SSF=Xn(It)),e&&e.SSF&&(k0(),wv(e.SSF),t.revssf=Fw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=a7.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Wk(t=t||{});var s=W2(),o="",a=0;if(t.cellXfs=[],ef(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),Zt(s,o="docProps/core.xml",s9(e.Props,t)),i.coreprops.push(o),Mn(t.rels,2,o,Kt.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var c=[],u=0;u<e.SheetNames.length;++u)2!=(e.Workbook.Sheets[u]||{}).Hidden&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,Zt(s,o,c9(e.Props)),i.extprops.push(o),Mn(t.rels,3,o,Kt.EXT_PROPS),e.Custprops!==e.Props&&Or(e.Custprops||{}).length>0&&(Zt(s,o="docProps/custom.xml",u9(e.Custprops)),i.custprops.push(o),Mn(t.rels,4,o,Kt.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var l={"!id":{}},h=e.Sheets[e.SheetNames[a-1]];if(Zt(s,o="xl/worksheets/sheet"+a+"."+n,Tme(a-1,o,t,e,l)),i.sheets.push(o),Mn(t.wbrels,-1,"worksheets/sheet"+a+"."+n,Kt.WS[0]),h){var _=h["!comments"],y=!1,v="";_&&_.length>0&&(Zt(s,v="xl/comments"+a+"."+n,Sme(_,v,t)),i.comments.push(v),Mn(l,-1,"../comments"+a+"."+n,Kt.CMNT),y=!0),h["!legacy"]&&y&&Zt(s,"xl/drawings/vmlDrawing"+a+".vml",i7(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}l["!id"].rId1&&Zt(s,kv(o),O0(l))}return null!=t.Strings&&t.Strings.length>0&&(Zt(s,o="xl/sharedStrings."+n,function Cme(e,t,n){return(".bin"===t.slice(-4)?Afe:W9)(e,n)}(t.Strings,o,t)),i.strs.push(o),Mn(t.wbrels,-1,"sharedStrings."+n,Kt.SST)),Zt(s,o="xl/workbook."+n,function Ime(e,t,n){return(".bin"===t.slice(-4)?lme:b7)(e,n)}(e,o,t)),i.workbooks.push(o),Mn(t.rels,1,o,Kt.WB),Zt(s,o="xl/theme/theme1.xml",Sk(e.Themes,t)),i.themes.push(o),Mn(t.wbrels,-1,"theme/theme1.xml",Kt.THEME),Zt(s,o="xl/styles."+n,function Ame(e,t,n){return(".bin"===t.slice(-4)?xde:J9)(e,n)}(e,o,t)),i.styles.push(o),Mn(t.wbrels,-1,"styles."+n,Kt.STY),e.vbaraw&&r&&(Zt(s,o="xl/vbaProject.bin",e.vbaraw),i.vba.push(o),Mn(t.wbrels,-1,"vbaProject.bin",Kt.VBA)),Zt(s,o="xl/metadata."+n,function Dme(e){return(".bin"===e.slice(-4)?zde:r7)()}(o)),i.metadata.push(o),Mn(t.wbrels,-1,"metadata."+n,Kt.XLMETA),Zt(s,"[Content_Types].xml",t9(i,t)),Zt(s,"_rels/.rels",O0(t.rels)),Zt(s,"xl/_rels/workbook."+n+".rels",O0(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t):function J7(e,t){V0=1024,e&&!e.SSF&&(e.SSF=Xn(It)),e&&e.SSF&&(k0(),wv(e.SSF),t.revssf=Fw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=a7.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Wk(t=t||{});var s=W2(),o="",a=0;if(t.cellXfs=[],ef(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),Zt(s,o="docProps/core.xml",s9(e.Props,t)),i.coreprops.push(o),Mn(t.rels,2,o,Kt.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var c=[],u=0;u<e.SheetNames.length;++u)2!=(e.Workbook.Sheets[u]||{}).Hidden&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Zt(s,o,c9(e.Props)),i.extprops.push(o),Mn(t.rels,3,o,Kt.EXT_PROPS),e.Custprops!==e.Props&&Or(e.Custprops||{}).length>0&&(Zt(s,o="docProps/custom.xml",u9(e.Custprops)),i.custprops.push(o),Mn(t.rels,4,o,Kt.CUST_PROPS));var l=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var h={"!id":{}},g=e.Sheets[e.SheetNames[a-1]];if(Zt(s,o="xl/worksheets/sheet"+a+"."+n,E7(a-1,t,e,h)),i.sheets.push(o),Mn(t.wbrels,-1,"worksheets/sheet"+a+"."+n,Kt.WS[0]),g){var y=g["!comments"],v=!1,x="";if(y&&y.length>0){var T=!1;y.forEach(function(w){w[1].forEach(function(I){1==I.T&&(T=!0)})}),T&&(Zt(s,x="xl/threadedComments/threadedComment"+a+"."+n,the(y,l,t)),i.threadedcomments.push(x),Mn(h,-1,"../threadedComments/threadedComment"+a+"."+n,Kt.TCMNT)),Zt(s,x="xl/comments"+a+"."+n,o7(y)),i.comments.push(x),Mn(h,-1,"../comments"+a+"."+n,Kt.CMNT),v=!0}g["!legacy"]&&v&&Zt(s,"xl/drawings/vmlDrawing"+a+".vml",i7(a,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&Zt(s,kv(o),O0(h))}return null!=t.Strings&&t.Strings.length>0&&(Zt(s,o="xl/sharedStrings."+n,W9(t.Strings,t)),i.strs.push(o),Mn(t.wbrels,-1,"sharedStrings."+n,Kt.SST)),Zt(s,o="xl/workbook."+n,b7(e)),i.workbooks.push(o),Mn(t.rels,1,o,Kt.WB),Zt(s,o="xl/theme/theme1.xml",Sk(e.Themes,t)),i.themes.push(o),Mn(t.wbrels,-1,"theme/theme1.xml",Kt.THEME),Zt(s,o="xl/styles."+n,J9(e,t)),i.styles.push(o),Mn(t.wbrels,-1,"styles."+n,Kt.STY),e.vbaraw&&r&&(Zt(s,o="xl/vbaProject.bin",e.vbaraw),i.vba.push(o),Mn(t.wbrels,-1,"vbaProject.bin",Kt.VBA)),Zt(s,o="xl/metadata."+n,r7()),i.metadata.push(o),Mn(t.wbrels,-1,"metadata."+n,Kt.XLMETA),l.length>1&&(Zt(s,o="xl/persons/person.xml",function rhe(e){var t=[Vr,Ve("personList",null,{xmlns:di.TCMNT,"xmlns:x":Zl[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(Ve("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}(l)),i.people.push(o),Mn(t.wbrels,-1,"persons/person.xml",Kt.PEOPLE)),Zt(s,"[Content_Types].xml",t9(i,t)),Zt(s,"_rels/.rels",O0(t.rels)),Zt(s,"xl/_rels/workbook.xml.rels",O0(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t)}function tj(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Iv(t.file,Et.write(e,{type:sn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Et.write(e,t)}function kc(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return vv(Cc(r));case"binary":return Cc(r);case"string":return e;case"file":return Iv(t.file,r,"utf8");case"buffer":return sn?_u(r,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(r):kc(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function oI(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?vv(n):"string"==t.type?vr(n):n;case"file":return Iv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Zk(e,t){(function bw(){la(1200),function yae(){Dw(1252)}()})(),function D7(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");!function Yge(e,t,n){e.forEach(function(r,i){S7(r);for(var s=0;s<i;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[i]&&t[i].CodeName||r;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}(e.SheetNames,e.Workbook&&e.Workbook.Sheets||[],!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)zpe(e.Sheets[e.SheetNames[n]],0,n)}(e);var n=Xn(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=Zk(e,n);return n.type="array",yv(r)}var i=0;if(n.sheet&&(i="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return kc(qme(e,n),n);case"slk":case"sylk":return kc(j9.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return kc(U7(e.Sheets[e.SheetNames[i]],n),n);case"txt":return function J_e(e,t){switch(t.type){case"base64":return vv(e);case"binary":case"string":return e;case"file":return Iv(t.file,e,"binary");case"buffer":return sn?_u(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(cj(e.Sheets[e.SheetNames[i]],n),n);case"csv":return kc(Qk(e.Sheets[e.SheetNames[i]],n),n,"\ufeff");case"dif":return kc(H9.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return oI(wk.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return kc(L0.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return kc(Y9.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return kc($9.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return kc(Z7(e,n),n);case"wk1":return oI(Kd.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return oI(Kd.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),oI(M7(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function X_e(e,t){var n=t||{};return tj(function e_e(e,t){var n=t||{},r=Et.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Et.utils.cfb_add(r,i,M7(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function Jme(e,t){var o,n=[],r=[],i=[],s=0,a=f5(dk,"n"),c=f5(hk,"n");if(e.Props)for(o=Or(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(c,o[s])?r:i).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Or(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(c,o[s])?r:i).push([o[s],e.Custprops[o[s]]]);var u=[];for(s=0;s<i.length;++s)_9.indexOf(i[s][0])>-1||o9.indexOf(i[s][0])>-1||null!=i[s][1]&&u.push(i[s]);r.length&&Et.utils.cfb_add(t,"/\x05SummaryInformation",x9(r,Gv.SI,c,hk)),(n.length||u.length)&&Et.utils.cfb_add(t,"/\x05DocumentSummaryInformation",x9(n,Gv.DSI,a,dk,u.length?u:null,Gv.UDI))}(e,r),8==n.biff&&e.vbaraw&&function dhe(e,t){t.FullPaths.forEach(function(n,r){if(0!=r){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&Et.utils.cfb_add(e,i,t.FileIndex[r].content)}})}(r,Et.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function Y_e(e,t){var n=Xn(t||{});return function nj(e,t){var n={},r=sn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Et.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(yv(i))}return t.password&&typeof encrypt_agile<"u"?tj(encrypt_agile(i,t.password),t):"file"===t.type?Iv(t.file,i):"string"==t.type?vr(i):i}($_e(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function ij(e,t,n){var r=n||{};return r.type="file",r.file=t,function Yk(e){if(!e.bookType){var n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(r),Zk(e,r)}function sj(e,t,n,r,i,s,o,a){var c=Br(n),u=a.defval,l=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,g=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch{g.__rowNum__=n}else g.__rowNum__=n;if(!o||e[n])for(var _=t.s.c;_<=t.e.c;++_){var y=o?e[n][_]:e[r[_]+c];if(void 0!==y&&void 0!==y.t){var v=y.v;switch(y.t){case"z":if(null==v)break;continue;case"e":v=0==v?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(null!=s[_]){if(null==v)if("e"==y.t&&null===v)g[s[_]]=null;else if(void 0!==u)g[s[_]]=u;else{if(!l||null!==v)continue;g[s[_]]=null}else g[s[_]]=l&&("n"!==y.t||"n"===y.t&&!1!==a.rawNumbers)?v:Sc(y,v,a);null!=v&&(h=!1)}}else{if(void 0===u)continue;null!=s[_]&&(g[s[_]]=u)}}return{row:g,isempty:h}}function aI(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},l=null!=u.range?u.range:e["!ref"];switch(1===u.header?r=1:"A"===u.header?r=2:Array.isArray(u.header)?r=3:null==u.header&&(r=0),typeof l){case"string":c=xn(l);break;case"number":(c=xn(e["!ref"])).s.r=l;break;default:c=l}r>0&&(i=0);var h=Br(c.s.r),g=[],_=[],y=0,v=0,x=Array.isArray(e),T=c.s.r,w=0,I={};x&&!e[T]&&(e[T]=[]);var k=u.skipHidden&&e["!cols"]||[],O=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(k[w]||{}).hidden)switch(g[w]=yr(w),n=x?e[T][w]:e[g[w]+h],r){case 1:s[w]=w-c.s.c;break;case 2:s[w]=g[w];break;case 3:s[w]=u.header[w-c.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),a=o=Sc(n,null,u),v=I[o]||0){do{a=o+"_"+v++}while(I[a]);I[o]=v,I[a]=1}else I[o]=1;s[w]=a}for(T=c.s.r+i;T<=c.e.r;++T)if(!(O[T]||{}).hidden){var q=sj(e,c,T,g,r,s,x,u);(!1===q.isempty||(1===r?!1!==u.blankrows:u.blankrows))&&(_[y++]=q.row)}return _.length=y,_}var oj=/"/g;function aj(e,t,n,r,i,s,o,a){for(var c=!0,u=[],l="",h=Br(n),g=t.s.c;g<=t.e.c;++g)if(r[g]){var _=a.dense?(e[n]||[])[g]:e[r[g]+h];if(null==_)l="";else if(null!=_.v){c=!1,l=""+(a.rawNumbers&&"n"==_.t?_.v:Sc(_,null,a));for(var y=0,v=0;y!==l.length;++y)if((v=l.charCodeAt(y))===i||v===s||34===v||a.forceQuotes){l='"'+l.replace(oj,'""')+'"';break}"ID"==l&&(l='"ID"')}else null==_.f||_.F?l="":(c=!1,(l="="+_.f).indexOf(",")>=0&&(l='"'+l.replace(oj,'""')+'"'));u.push(l)}return!1===a.blankrows&&c?null:u.join(o)}function Qk(e,t){var n=[],r=t??{};if(null==e||null==e["!ref"])return"";var i=xn(e["!ref"]),s=void 0!==r.FS?r.FS:",",o=s.charCodeAt(0),a=void 0!==r.RS?r.RS:"\n",c=a.charCodeAt(0),u=new RegExp(("|"==s?"\\|":s)+"+$"),l="",h=[];r.dense=Array.isArray(e);for(var g=r.skipHidden&&e["!cols"]||[],_=r.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(g[y]||{}).hidden||(h[y]=yr(y));for(var v=0,x=i.s.r;x<=i.e.r;++x)(_[x]||{}).hidden||null!=(l=aj(e,i,x,h,o,c,s,r))&&(r.strip&&(l=l.replace(u,"")),(l||!1!==r.blankrows)&&n.push((v++?a:"")+l));return delete r.dense,n.join("")}function cj(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=Qk(e,t);if(typeof An>"u"||"string"==t.type)return n;var r=An.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function uj(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},o=0,a=0;if(s&&null!=r.origin)if("number"==typeof r.origin)o=r.origin;else{var c="string"==typeof r.origin?Jr(r.origin):r.origin;o=c.r,a=c.c}var u,l={s:{c:0,r:0},e:{c:a,r:o+t.length-1+i}};if(s["!ref"]){var h=xn(s["!ref"]);l.e.c=Math.max(l.e.c,h.e.c),l.e.r=Math.max(l.e.r,h.e.r),-1==o&&(l.e.r=(o=h.e.r+1)+t.length-1+i)}else-1==o&&(o=0,l.e.r=t.length-1+i);var g=r.header||[],_=0;t.forEach(function(v,x){Or(v).forEach(function(T){-1==(_=g.indexOf(T))&&(g[_=g.length]=T);var w=v[T],I="z",k="",O=Rt({c:a+_,r:o+x+i});u=Kv(s,O),!w||"object"!=typeof w||w instanceof Date?("number"==typeof w?I="n":"boolean"==typeof w?I="b":"string"==typeof w?I="s":w instanceof Date?(I="d",r.cellDates||(I="n",w=Vi(w)),k=r.dateNF||It[14]):null===w&&r.nullError&&(I="e",w=0),u?(u.t=I,u.v=w,delete u.w,delete u.R,k&&(u.z=k)):s[O]=u={t:I,v:w},k&&(u.z=k)):s[O]=w})}),l.e.c=Math.max(l.e.c,a+g.length-1);var y=Br(o);if(i)for(_=0;_<g.length;++_)s[yr(_+a)+y]={t:"s",v:g[_]};return s["!ref"]=qt(l),s}function Kv(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=Jr(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return Kv(e,Rt("number"!=typeof t?t:{r:t,c:n||0}))}function lj(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var $0={encode_col:yr,encode_row:Br,encode_cell:Rt,encode_range:qt,decode_col:sk,decode_row:ik,split_cell:function kce(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Jr,decode_range:Qs,format_cell:Sc,sheet_add_aoa:q5,sheet_add_json:uj,sheet_add_dom:j7,aoa_to_sheet:M0,json_to_sheet:function tve(e,t){return uj(null,e,t)},table_to_sheet:H7,table_to_book:function v_e(e,t){return Yl(H7(e,t),t)},sheet_to_csv:Qk,sheet_to_txt:cj,sheet_to_json:aI,sheet_to_html:U7,sheet_to_formulae:function eve(e){var n,t="",r="";if(null==e||null==e["!ref"])return[];var a,i=xn(e["!ref"]),s="",o=[],c=[],u=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)o[a]=yr(a);for(var l=i.s.r;l<=i.e.r;++l)for(s=Br(l),a=i.s.c;a<=i.e.c;++a)if(t=o[a]+s,r="",void 0!==(n=u?(e[l]||[])[a]:e[t])){if(null!=n.F){if(t=n.F,!n.f)continue;r=n.f,-1==t.indexOf(":")&&(t=t+":"+t)}if(null!=n.f)r=n.f;else{if("z"==n.t)continue;if("n"==n.t&&null!=n.v)r=""+n.v;else if("b"==n.t)r=n.v?"TRUE":"FALSE";else if(void 0!==n.w)r="'"+n.w;else{if(void 0===n.v)continue;r="s"==n.t?"'"+n.v:""+n.v}}c[c.length]=t+"="+r}return c},sheet_to_row_object_array:aI,sheet_get_cell:Kv,book_new:function Xk(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function Jk(e,t,n,r){var i=1;if(!n)for(;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(n=o+i);++i);}if(S7(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n},book_set_sheet_visibility:function rve(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function nve(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function ive(e,t){return e.z=t,e},cell_set_hyperlink:lj,cell_set_internal_link:function sve(e,t,n){return lj(e,"#"+t,n)},cell_add_comment:function ove(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})},sheet_set_array_formula:function ave(e,t,n,r){for(var i="string"!=typeof t?t:xn(t),s="string"==typeof t?t:qt(t),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var c=Kv(e,o,a);c.t="n",c.F=s,delete c.v,o==i.s.r&&a==i.s.c&&(c.f=n,r&&(c.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};let Zv=(()=>{class e{constructor(n){this.afs=n,this.itemsCollection=n.collection("exams_attempt_prod"),this.items=this.itemsCollection.snapshotChanges().pipe(dt(r=>r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s}})))}getItems(){return this.items}addItem(n){this.itemsCollection.add(n)}updateItem(n,r){this.itemsCollection.doc(n).update(r)}deleteItem(n){this.itemsCollection.doc(n).delete()}getItemBySapIdExamId(n,r){return this.afs.collection("exams_attempt_prod",s=>s.where("sapid","==",n).where("examId","==",r)).valueChanges()}getItemBySapId(n){return this.afs.collection("exams_attempt_prod",i=>i.where("sapid","==",n)).valueChanges()}static#e=this.\u0275fac=function(r){return new(r||e)(Be(O2))};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dve(e,t){if(1&e&&(oe(0,"tr")(1,"td",5),we(2),re(),oe(3,"td",5),we(4),re(),oe(5,"td",5),we(6),re(),oe(7,"td",5),we(8),re(),oe(9,"td",5),we(10),re(),oe(11,"td",5),we(12),re()()),2&e){const n=t.$implicit;st(2),Nn(n.sapid),st(2),Nn(n.examName),st(2),Nn(n.date),st(2),Nn(n.attempted),st(2),Nn(n.right),st(2),Nn(n.totalMarks)}}let hve=(()=>{class e{constructor(n){this.attempt=n;const r=localStorage.getItem("userDetails");r&&(this.userDetails=JSON.parse(r),console.log(this.userDetails)),this.itemsSubscription=this.attempt.getItemBySapId(this.userDetails.sapid).subscribe(i=>{this.examAttemptData=i,console.log(this.examAttemptData)})}exportToExcel(n,r){const i=$0.json_to_sheet(n),s=$0.book_new();$0.book_append_sheet(s,i,"Sheet1"),ij(s,`${r}.xlsx`)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Zv))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-all-exam"]],decls:20,vars:1,consts:[[1,"w-4/5","container","mx-auto","my-8"],[1,"text-3xl","font-bold","mb-4","text-center"],[1,"min-w-full","bg-white","border","border-gray-300"],[1,"py-2","px-4","border-b","text-left"],[4,"ngFor","ngForOf"],[1,"py-2","px-4","border-b"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"h2",1),we(2,"You have attempted following exams"),re(),oe(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),we(7,"Sap ID"),re(),oe(8,"th",3),we(9,"Attempted Exam Name"),re(),oe(10,"th",3),we(11,"Date"),re(),oe(12,"th",3),we(13,"Attempted"),re(),oe(14,"th",3),we(15,"Right Answers"),re(),oe(16,"th",3),we(17,"Total"),re()()(),oe(18,"tbody"),ao(19,dve,13,6,"tr",4),re()()()),2&r&&(st(19),un("ngForOf",i.examAttemptData))},dependencies:[pl]})}return e})(),fj=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Yc),Se(To))};static#t=this.\u0275dir=Dt({type:e})}return e})(),Qd=(()=>{class e extends fj{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=ai(e)))(i||e)}}();static#t=this.\u0275dir=Dt({type:e,features:[Vn]})}return e})();const Rc=new Ye("NgValueAccessor"),mve={provide:Rc,useExisting:J(()=>G0),multi:!0},vve=new Ye("CompositionEventMode");let G0=(()=>{class e extends fj{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _ve(){const e=hl()?hl().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Yc),Se(To),Se(vve,8))};static#t=this.\u0275dir=Dt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Gt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ir([mve]),Vn]})}return e})();const Ns=new Ye("NgValidators"),rf=new Ye("NgAsyncValidators");function mj(e){return function nf(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}(e.value)?{required:!0}:null}function uI(e){return null}function wj(e){return null!=e}function Ij(e){return wm(e)?j(e):e}function Tj(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function Aj(e,t){return t.map(n=>n(e))}function Cj(e){return e.map(t=>function xve(e){return!e.validate}(t)?t:n=>t.validate(n))}function eR(e){return null!=e?function Sj(e){if(!e)return null;const t=e.filter(wj);return 0==t.length?null:function(n){return Tj(Aj(n,t))}}(Cj(e)):null}function tR(e){return null!=e?function Dj(e){if(!e)return null;const t=e.filter(wj);return 0==t.length?null:function(n){return function pve(...e){const t=bu(e),{args:n,keys:r}=p4(e),i=new pn(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let h=!1;Hr(n[l]).subscribe(tt(s,g=>{h||(h=!0,u--),a[l]=g},()=>c--,void 0,()=>{(!c||!h)&&(u||s.next(r?m4(r,a):a),s.complete())}))}});return t?i.pipe(g4(t)):i}(Aj(n,t).map(Ij)).pipe(dt(Tj))}}(Cj(e)):null}function bj(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function nR(e){return e?Array.isArray(e)?e:[e]:[]}function lI(e,t){return Array.isArray(e)?e.includes(t):e===t}function Pj(e,t){const n=nR(t);return nR(e).forEach(i=>{lI(n,i)||n.push(i)}),n}function Nj(e,t){return nR(t).filter(n=>!lI(e,n))}class Mj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=eR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=tR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Js extends Mj{get formDirective(){return null}get path(){return null}}class sf extends Mj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fj{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fI=(()=>{class e extends Fj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(sf,2))};static#t=this.\u0275dir=Dt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&pp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Vn]})}return e})(),rR=(()=>{class e extends Fj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Js,10))};static#t=this.\u0275dir=Dt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&pp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Vn]})}return e})();const Yv="VALID",hI="INVALID",W0="PENDING",Qv="DISABLED";function oR(e){return(pI(e)?e.validators:e)||null}function aR(e,t){return(pI(t)?t.asyncValidators:e)||null}function pI(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Bj{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Yv}get invalid(){return this.status===hI}get pending(){return this.status==W0}get disabled(){return this.status===Qv}get enabled(){return this.status!==Qv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Pj(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Pj(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Nj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Nj(t,this._rawAsyncValidators))}hasValidator(t){return lI(this._rawValidators,t)}hasAsyncValidator(t){return lI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=W0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Qv,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Yv,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yv||this.status===W0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qv:Yv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=W0,this._hasOwnPendingAsyncValidator=!0;const n=Ij(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new kr,this.statusChanges=new kr}_calculateStatus(){return this._allControlsDisabled()?Qv:this.errors?hI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(W0)?W0:this._anyControlsHaveStatus(hI)?hI:Yv}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Tve(e){return Array.isArray(e)?eR(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Ave(e){return Array.isArray(e)?tR(e):e||null}(this._rawAsyncValidators)}}class cR extends Bj{constructor(t,n,r){super(oR(n),aR(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function Vj(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new ge(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function Lj(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new ge(1e3,"");if(!r[n])throw new ge(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const z0=new Ye("CallSetDisabledState",{providedIn:"root",factory:()=>gI}),gI="always";function Xv(e,t,n=gI){uR(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function Dve(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Uj(e,t)})}(e,t),function kve(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function bve(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Uj(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Sve(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function vI(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function uR(e,t){const n=function kj(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(bj(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function Rj(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(bj(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();vI(t._rawValidators,i),vI(t._rawAsyncValidators,i)}function Uj(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const Fve={provide:Js,useExisting:J(()=>ey)},Jv=(()=>Promise.resolve())();let ey=(()=>{class e extends Js{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new kr,this.form=new cR({},eR(n),tR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Jv.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Xv(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Jv.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Jv.then(()=>{const r=this._findContainer(n.path),i=new cR({});(function jj(e,t){uR(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Jv.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Jv.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function Hj(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Ns,10),Se(rf,10),Se(z0,8))};static#t=this.\u0275dir=Dt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Gt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ir([Fve]),Vn]})}return e})();function $j(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Gj(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Wj=class extends Bj{constructor(t=null,n,r){super(oR(n),aR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pI(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Gj(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$j(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$j(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Gj(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Vve={provide:sf,useExisting:J(()=>ty)},Kj=(()=>Promise.resolve())();let ty=(()=>{class e extends sf{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Wj,this._registered=!1,this.name="",this.update=new kr,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function dR(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===G0?n=s:function Nve(e){return Object.getPrototypeOf(e.constructor)===Qd}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function fR(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Kj.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Ep(r);Kj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function mI(e,t){return[...t.path,e]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Js,9),Se(Ns,10),Se(rf,10),Se(Rc,10),Se(px,8),Se(z0,8))};static#t=this.\u0275dir=Dt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ir([Vve]),Vn,io]})}return e})(),hR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Dt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const Bve={provide:Rc,useExisting:J(()=>pR),multi:!0};let pR=(()=>{class e extends Qd{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=ai(e)))(i||e)}}();static#t=this.\u0275dir=Dt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Gt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ir([Bve]),Vn]})}return e})(),Zj=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wi({type:e});static#n=this.\u0275inj=Ls({})}return e})(),Xd=(()=>{class e{constructor(){this._validator=uI}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):uI,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Dt({type:e,features:[io]})}return e})();const nye={provide:Ns,useExisting:J(()=>xI),multi:!0};let xI=(()=>{class e extends Xd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ep,this.createValidator=n=>mj}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=ai(e)))(i||e)}}();static#t=this.\u0275dir=Dt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&cc("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ir([nye]),Vn]})}return e})(),cye=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wi({type:e});static#n=this.\u0275inj=Ls({imports:[Zj]})}return e})(),lye=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:z0,useValue:n.callSetDisabledState??gI}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wi({type:e});static#n=this.\u0275inj=Ls({imports:[cye]})}return e})();class fye{constructor(){this.examName="",this.startDate=new Date,this.endDate=new Date,this.duration="",this.marksPerQuestion=10,this.jsonFile=null,this.questions=""}toPlainObject(){return{examName:this.examName,startDate:this.startDate,endDate:this.endDate,duration:this.duration,questions:this.questions,marksPerQuestion:this.marksPerQuestion}}}let dye=(()=>{class e{constructor(n){this.firebaseService=n,this.exam=new fye}onFileSelected(n){const r=n.target.files[0];if(r){const i=new FileReader;i.onload=s=>{const o=s.target.result;try{const a=JSON.parse(o);console.log(a),this.exam.questions=a}catch(a){console.log("Error parsing JSON file",a)}},i.readAsText(r)}}addExam(){const n=this.exam.toPlainObject();this.firebaseService.addItem(n),console.log(this.exam)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Sw))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-admin-create-exam"]],decls:32,vars:6,consts:[[1,"p-6","max-w-md","mx-auto","bg-white","rounded-xl","shadow-md"],[1,"text-center","my-8","text-2xl","font-bold"],[1,"w-full","max-w-lg"],[1,"mb-4","grid","grid-cols-2","gap-4"],["for","examName",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","examName","name","examName","type","text","placeholder","Exam Name",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white",3,"ngModel","ngModelChange"],["for","startDate",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","startDate","name","startDate","type","date",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white",3,"ngModel","ngModelChange"],["for","endDate",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","endDate","name","endDate","type","date",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white",3,"ngModel","ngModelChange"],["for","duration",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","duration","name","duration","type","text","placeholder","Duration",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white",3,"ngModel","ngModelChange"],["for","marksPerQuestion",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","marksPerQuestion","name","marksPerQuestion","type","number","placeholder","Marks per Question","value","10",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white",3,"ngModel","ngModelChange"],["for","jsonFile",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","jsonFile","name","jsonFile","type","file",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white",3,"ngModel","ngModelChange","change"],[1,"flex","items-center","justify-center","mt-6"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"div",1),we(2,"Upload exam details-"),re(),oe(3,"form",2)(4,"div",3)(5,"div")(6,"label",4),we(7,"Exam Name"),re(),oe(8,"input",5),Gt("ngModelChange",function(o){return i.exam.examName=o}),re()(),oe(9,"div")(10,"label",6),we(11,"Exam Start Date"),re(),oe(12,"input",7),Gt("ngModelChange",function(o){return i.exam.startDate=o}),re()(),oe(13,"div")(14,"label",8),we(15,"Exam End Date"),re(),oe(16,"input",9),Gt("ngModelChange",function(o){return i.exam.endDate=o}),re()(),oe(17,"div")(18,"label",10),we(19,"Duration"),re(),oe(20,"input",11),Gt("ngModelChange",function(o){return i.exam.duration=o}),re()(),oe(21,"div")(22,"label",12),we(23,"Marks per Question"),re(),oe(24,"input",13),Gt("ngModelChange",function(o){return i.exam.marksPerQuestion=o}),re()(),oe(25,"div")(26,"label",14),we(27,"JSON for Exam-"),re(),oe(28,"input",15),Gt("ngModelChange",function(o){return i.exam.jsonFile=o})("change",function(o){return i.onFileSelected(o)}),re()()(),oe(29,"div",16)(30,"button",17),Gt("click",function(){return i.addExam()}),we(31," Create Exam "),re()()()()),2&r&&(st(8),un("ngModel",i.exam.examName),st(4),un("ngModel",i.exam.startDate),st(4),un("ngModel",i.exam.endDate),st(4),un("ngModel",i.exam.duration),st(4),un("ngModel",i.exam.marksPerQuestion),st(4),un("ngModel",i.exam.jsonFile))},dependencies:[hR,G0,pR,fI,rR,ty,ey]})}return e})();function hye(e,t){if(1&e){const n=Xf();oe(0,"tr")(1,"td",6),we(2),re(),oe(3,"td",6),we(4),re(),oe(5,"td",6),we(6),re(),oe(7,"td",6),we(8),re(),oe(9,"td")(10,"button",7),Gt("click",function(){const s=Sa(n).$implicit;return $c(ul().deleteExam(s.id))}),we(11," Delete "),re()()()}if(2&e){const n=t.$implicit;st(2),Nn(n.examName),st(2),Nn(n.startDate),st(2),Nn(n.endDate),st(2),Nn(n.duration)}}let pye=(()=>{class e{constructor(n){this.firebaseService=n,this.isExamDetailModalOpen=!1}ngOnInit(){this.itemsSubscription=this.firebaseService.getItems().subscribe(n=>{this.examsData=n})}showExam(){console.log(this.examsData[0])}deleteExam(n){this.firebaseService.deleteItem(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Sw))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-admin-modify-exam"]],decls:16,vars:1,consts:[[1,"container","mx-auto"],[1,"min-w-full","bg-white"],[1,"bg-gray-200","text-black"],[1,"py-3","px-6","text-left"],[1,"text-gray-700"],[4,"ngFor","ngForOf"],[1,"py-3","px-6"],[1,"bg-red-500","hover:bg-blue-700","text-white","py-2","px-4","rounded",3,"click"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),we(5,"Exam Name"),re(),oe(6,"th",3),we(7,"Start Date"),re(),oe(8,"th",3),we(9,"End Date"),re(),oe(10,"th",3),we(11,"Duration"),re(),oe(12,"th",3),we(13,"Delete"),re()()(),oe(14,"tbody",4),ao(15,hye,12,4,"tr",5),re()()()),2&r&&(st(15),un("ngForOf",i.examsData))},dependencies:[pl]})}return e})();function gye(e,t){if(1&e){const n=Xf();oe(0,"tr")(1,"td",6),we(2),re(),oe(3,"td",6),we(4),re(),oe(5,"td",6),we(6),re(),oe(7,"td",6),we(8),re(),oe(9,"td",6),we(10),re(),oe(11,"td",6),we(12),re(),oe(13,"td",6),we(14),re(),oe(15,"td",6),we(16),re(),oe(17,"td",6),we(18),re(),oe(19,"td",6),we(20),re(),oe(21,"td",6)(22,"button",5),Gt("click",function(){const s=Sa(n).$implicit;return $c(ul().exportToExcel(s.evaluation,s.examName))}),we(23,"download"),re()()()}if(2&e){const n=t.$implicit;st(2),Nn(n.zone),st(2),Nn(n.circle),st(2),Nn(n.division),st(2),Nn(n.sapid),st(2),Nn(n.phoneNumber),st(2),Nn(n.examName),st(2),Nn(n.date),st(2),Nn(n.attempted),st(2),Nn(n.right),st(2),Nn(n.totalMarks)}}let mye=(()=>{class e{constructor(n){this.attempt=n;const r=localStorage.getItem("userDetails");r&&(this.userDetails=JSON.parse(r),console.log(this.userDetails)),this.itemsSubscription=this.attempt.getItems().subscribe(i=>{this.examAttemptData=i,console.log(this.examAttemptData)})}exportToExcel(n,r){const i=$0.json_to_sheet(n),s=$0.book_new();$0.book_append_sheet(s,i,"Sheet1"),ij(s,`${r}.xlsx`)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Zv))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-admin-exam-result"]],decls:32,vars:1,consts:[[1,"w-4/5","container","mx-2","my-8"],[1,"text-3xl","font-bold","mb-4","text-center"],[1,"min-w-full","bg-white","border","border-gray-300"],[1,"py-2","px-4","border-b","text-left"],[4,"ngFor","ngForOf"],[1,"bg-blue-500","hover:bg-blue-700","text-white","py-2","px-4","rounded",3,"click"],[1,"py-2","px-4","border-b"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"h2",1),we(2,"Following exams have been attempted - "),re(),oe(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),we(7,"Zone"),re(),oe(8,"th",3),we(9,"Circle"),re(),oe(10,"th",3),we(11,"Division"),re(),oe(12,"th",3),we(13,"Sap ID"),re(),oe(14,"th",3),we(15,"Phone no"),re(),oe(16,"th",3),we(17,"Attempted Exam Name"),re(),oe(18,"th",3),we(19,"Date"),re(),oe(20,"th",3),we(21,"Attempted"),re(),oe(22,"th",3),we(23,"Right Answers"),re(),oe(24,"th",3),we(25,"Total"),re(),oe(26,"th",3),we(27,"Download attempt"),re()()(),oe(28,"tbody"),ao(29,gye,24,10,"tr",4),re()(),oe(30,"button",5),Gt("click",function(){return i.exportToExcel(i.examAttemptData,"all_summary.xlsx")}),we(31,"Download all"),re()()),2&r&&(st(29),un("ngForOf",i.examAttemptData))},dependencies:[pl]})}return e})();const _ye=function(e){return{"bg-green-400":e}};function vye(e,t){if(1&e){const n=Xf();oe(0,"div",9)(1,"button",10),Gt("click",function(){const s=Sa(n).$implicit,o=ul();return $c(o.saveAnswer(o.currentAnswers[s].answer_id,s))}),we(2),re()()}if(2&e){const n=t.$implicit,r=t.index,i=ul();st(1),un("ngClass",tO(3,_ye,i.currentAnswers[n].chosen)),st(1),jA(" ",r+1,". ",i.currentAnswers[n].answer_text," ")}}function yye(e,t){1&e&&vs(0,"i",13)}const xye=function(e,t){return{"bg-yellow-400":e,"bg-green-300":t}};function Eye(e,t){if(1&e){const n=Xf();oe(0,"div")(1,"button",11),Gt("click",function(){const s=Sa(n).index;return $c(ul().onItemClicked(s))}),we(2),ao(3,yye,1,0,"i",12),re()()}if(2&e){const n=t.$implicit,r=t.index;st(1),un("ngClass",XA(3,xye,n.active,n.visited)),st(1),fl(" ",r+1,""),st(1),un("ngIf",n.answered)}}let wye=(()=>{class e{constructor(n){this.attempt=n,this.currentQuestionIndex=0,this.questionOrder=[],this.answerOrder=[],this.currentQuestion={},this.currentAnswers={},this.userExamAttemptVar={username:"",designation:"",sapid:"",phoneNumber:"",zone:"",circle:"",division:"",examData:""};const r=localStorage.getItem("userExamAttempt");if(r)this.userExamAttemptVar=JSON.parse(r),this.examData=this.userExamAttemptVar.examData,this.quizData=this.examData.questions;else{const o=localStorage.getItem("examData");if(o){this.examData=JSON.parse(o);const a=localStorage.getItem("userDetails");a&&(this.userExamAttemptVar=JSON.parse(a)),console.log(this.userExamAttemptVar+"ok"),console.log(this.userExamAttemptVar),this.userExamAttemptVar.examData=this.examData,localStorage.setItem("userExamAttempt",JSON.stringify(this.userExamAttemptVar)),this.quizData=this.examData.questions}}const i=localStorage.getItem("questionOrder");i&&(this.questionOrder=JSON.parse(i),this.onItemClicked(this.currentQuestionIndex));const s=localStorage.getItem("answerOrder");s&&(this.answerOrder=JSON.parse(s))}ngOnInit(){}nextQuestion(){this.quizData[this.currentQuestionIndex].active=!1,this.currentQuestionIndex++,this.currentQuestionIndex>=this.quizData.length&&(this.currentQuestionIndex=0),this.onItemClicked(this.currentQuestionIndex)}previousQuestion(){this.quizData[this.currentQuestionIndex].active=!1,this.currentQuestionIndex--,this.currentQuestionIndex<0&&(this.currentQuestionIndex=this.quizData.length-1),this.onItemClicked(this.currentQuestionIndex)}saveAnswer(n,r){this.quizData[this.currentQuestionIndex].answered=!0,this.quizData[this.questionOrder[this.currentQuestionIndex]].answers.forEach(i=>i.chosen=!1),this.quizData[this.questionOrder[this.currentQuestionIndex]].answers[r].chosen=!0,this.quizData[this.questionOrder[this.currentQuestionIndex]].given_answer_id=n,console.log(this.examData),this.userExamAttemptVar.examData=this.examData,localStorage.setItem("userExamAttempt",JSON.stringify(this.userExamAttemptVar))}clearAnswer(){delete this.quizData[this.currentQuestionIndex].answered,this.quizData[this.questionOrder[this.currentQuestionIndex]].answers.forEach(n=>n.chosen=!1),delete this.quizData[this.questionOrder[this.currentQuestionIndex]].given_answer_id,this.userExamAttemptVar.examData=this.examData,localStorage.setItem("userExamAttempt",JSON.stringify(this.userExamAttemptVar))}onItemClicked(n){this.quizData[this.currentQuestionIndex].active=!1,this.currentQuestionIndex=n,this.quizData[n].active=!0,this.quizData[n].visited=!0,this.currentQuestion=this.quizData[this.questionOrder[n]].question,console.log(this.quizData[this.questionOrder[n]]),this.currentAnswers=this.quizData[this.questionOrder[n]].answers}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Zv))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-exam-live"]],decls:15,vars:3,consts:[[1,"flex","items-center","justify-around","flex-wrap","my-10"],[1,"w-screen","sm:w-3/5","bg-gray-100","items-center","text-left","mx-10"],[1,"mx-10","my-5"],["class","flex flex-col mx-10","style","width: 200px;",4,"ngFor","ngForOf"],[1,"w-screen","sm:w-3/5","flex","flex-row","justify-around","my-5"],[1,"bg-gray-500","hover:bg-gray-700","text-white","py-2","px-4","rounded",3,"click"],[1,"bg-gray-500","hover:bg-red-900","text-white","py-2","px-4","rounded",3,"click"],[1,"w-screen","sm:w-3/5","flex","items-center","justify-around","flex-wrap","m-2"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","mx-10",2,"width","200px"],[1,"bg-white-500","hover:bg-green-700","text-black-400","font","py-2","px-4","rounded","text-left",3,"ngClass","click"],[1,"rounded","bg-gray-300","mt-2","py-2","px-4","mx-2","text-xs",3,"ngClass","click"],["class","fa-solid fa-check mx-2",4,"ngIf"],[1,"fa-solid","fa-check","mx-2"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"div",1)(2,"h2",2),we(3),re(),oe(4,"div"),ao(5,vye,3,5,"div",3),re()(),oe(6,"div",4)(7,"button",5),Gt("click",function(){return i.previousQuestion()}),we(8," Previous "),re(),oe(9,"button",6),Gt("click",function(){return i.clearAnswer()}),we(10," Clear Response "),re(),oe(11,"button",5),Gt("click",function(){return i.nextQuestion()}),we(12," Next "),re()(),oe(13,"div",7),ao(14,Eye,4,6,"div",8),re()()),2&r&&(st(3),fl("Q. ",i.currentQuestion,""),st(2),un("ngForOf",i.answerOrder),st(9),un("ngForOf",i.quizData))},dependencies:[UC,pl,bx]})}return e})(),Iye=(()=>{class e{constructor(n,r){this.attempt=n,this.router=r,localStorage.getItem("userExamAttempt")?this.router.navigate(["/exam/live"]):this.examData=localStorage.getItem("examData")}ngOnInit(){const n=localStorage.getItem("examData");n&&(this.examData=JSON.parse(n))}startExam(){window.confirm("Do you want to start the exam?")&&this.router.navigate(["/exam/live"])}cancelExam(){window.confirm("Do you want to cancel starting the exam?")&&(localStorage.removeItem("examData"),this.router.navigate(["/user/available"]))}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Zv),Se(Ri))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-exam-instructions"]],decls:22,vars:1,consts:[[1,"flex","justify-center","items-center","h-[calc(100vh-72px)]"],[1,"p-4","text-center"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-2"],[1,"mt-4"],[1,"bg-red-500","hover:bg-red-700","text-white","font-bold","m-4","py-2","px-4","rounded",3,"click"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","m-4","py-2","px-4","rounded",3,"click"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"div",1)(2,"h2",2),we(3,"Instructions for MCQ Online Exam"),re(),oe(4,"p",3),we(5,"Feel free to begin the exam, but please remember to carefully read and follow the rules. Here are the details:"),re(),oe(6,"p",3),we(7,"1. There are 50 questions."),re(),oe(8,"p",3),we(9,"2. The time duration is 30 minutes."),re(),oe(10,"p",3),we(11,"3. Each correct answer is worth 2 marks."),re(),oe(12,"p",3),we(13,"4. Each incorrect answer results in a deduction of 1 mark."),re(),oe(14,"p",3),we(15,"5. Two minutes Given for Filling Your Details."),re(),oe(16,"div",4)(17,"button",5),Gt("click",function(){return i.cancelExam()}),we(18,"Cancel"),re(),oe(19,"button",6),Gt("click",function(){return i.startExam()}),we(20,"Start Exam"),re()(),we(21),re()()),2&r&&(st(21),fl(" ",i.examData.id," "))}})}return e})(),Tye=(()=>{class e{evaluateJson(n){const r=[];return n.forEach(i=>{if(void 0!==i.given_answer_id){const s=i.answers.find(u=>u.answer_id===i.correct_answer_id),o=i.answers.find(u=>u.answer_id===i.given_answer_id),a=i.given_answer_id===i.correct_answer_id?2:-1;r.push({Question_Text:i.question,Correct_answer_text:s?.answer_text||"",Given_answer_text:o?.answer_text||"",marks:a})}}),r}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Aye(e,t){1&e&&(xm(0),vs(1,"router-outlet"),Em())}function Cye(e,t){1&e&&(oe(0,"div",6)(1,"div",7),we(2," Technical error occurred. Please "),oe(3,"button",8),we(4,"try again"),re()()())}let Sye=(()=>{class e{constructor(n,r,i,s){this.attempExams=n,this.router=r,this.evaluate=i,this.firebaseService=s,this.remainingTime=0;const o=localStorage.getItem("examData");if(o){this.examData=JSON.parse(o);const a=localStorage.getItem("userDetails");if(a){const c=JSON.parse(a);this.itemsSubscription=this.attempExams.getItemBySapIdExamId(c.sapid,this.examData.id).subscribe(u=>{this.examAttemptData=u,0==this.examAttemptData.length?this.router.navigate(["/exam/instructions"]):this.router.navigate(["/user/all"],{queryParams:{data:JSON.stringify(this.examAttemptData)}})})}}}ngOnInit(){this.initializeExamStatus(this.examData.id),console.log("this.is called"+this.examData.id)}getCurrentDateString(){return(new Date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}submitExam(){if(window.confirm("Do you want to finish attempt and end the exam?")){console.log("yes");const n=localStorage.getItem("userExamAttempt");if(n){const r=JSON.parse(n);r.examName=r.examData.examName,r.examId=r.examData.id,r.date=this.getCurrentDateString(),r.evaluation=this.evaluate.evaluateJson(r.examData.questions),r.attempted=this.getAttemptedCount(r.evaluation),r.right=this.getRightAnswersCount(r.evaluation),r.totalMarks=this.getTotalMarks(r.evaluation),delete r.examData,this.attempExams.addItem(r)}localStorage.removeItem("userExamAttempt"),localStorage.removeItem("questionOrder"),localStorage.removeItem("answerOrder"),this.router.navigate(["/user/all"])}}submitExamTimer(){const n=localStorage.getItem("userExamAttempt");if(n){const r=JSON.parse(n);r.examName=r.examData.examName,r.examId=r.examData.id,r.date=this.getCurrentDateString(),r.evaluation=this.evaluate.evaluateJson(r.examData.questions),r.attempted=this.getAttemptedCount(r.evaluation),r.right=this.getRightAnswersCount(r.evaluation),r.totalMarks=this.getTotalMarks(r.evaluation),delete r.examData,this.attempExams.addItem(r)}localStorage.removeItem("userExamAttempt"),localStorage.removeItem("questionOrder"),localStorage.removeItem("answerOrder"),this.router.navigate(["/user/all"])}getAttemptedCount(n){return n?n.length:0}getRightAnswersCount(n){return n?n.filter(r=>2===r.marks).length:0}getTotalMarks(n){return n?n.reduce((r,i)=>r+i.marks,0):0}initializeExamStatus(n){this.firebaseService.getExamStatus(n).subscribe(r=>{r?this.submitExamTimer():console.log(`Exam ${n} is still ongoing.`)},r=>{console.error(`Error checking exam status for ${n}:`,r)})}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Zv),Se(Ri),Se(Tye),Se(Sw))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-exam-navbar"]],decls:11,vars:2,consts:[[1,"bg-gray-800","p-4"],[1,"container","mx-auto","flex","justify-between","items-center"],[1,"text-xl","font-medium","text-white"],[1,"bg-black-500","hover:bg-red-700","text-white","font-bold","py-2","px-4","rounded",3,"click"],[4,"ngIf","ngIfElse"],["errorTemplate",""],[1,"flex","justify-center","items-center","h-[calc(100vh-72px)]"],[1,"bg-red-200","text-red-700","text-2xl","rounded-lg","p-6"],["routerLink","/user/available",1,"mt-4","bg-red-500","text-white","px-4","py-2","rounded"]],template:function(r,i){if(1&r&&(oe(0,"nav",0)(1,"div",1)(2,"div")(3,"span",2),we(4,"UPPCL Evaluation Portal - Live Exam"),re()(),oe(5,"div")(6,"button",3),Gt("click",function(){return i.submitExam()}),we(7," Submit "),re()()()(),ao(8,Aye,2,0,"ng-container",4),ao(9,Cye,5,0,"ng-template",null,5,CO)),2&r){const s=MA(10);st(8),un("ngIf",i.examData)("ngIfElse",s)}},dependencies:[bx,Dp,ad]})}return e})();function Dye(e,t){if(1&e&&(oe(0,"tr")(1,"td",5),we(2),re(),oe(3,"td",5),we(4),re(),oe(5,"td",5),we(6),function aO(e,t){const n=mn();let r;const i=e+rn;n.firstCreatePass?(r=function nK(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=xo(r.type)),a=Si(Se);try{const c=Mh(!1),u=s();return Mh(c),function BW(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,be(),i,u),u}finally{Si(a)}}(7,"date"),re()()),2&e){const n=t.$implicit;st(2),Nn(n.SapId),st(2),Nn(n.AttemptedExamId),st(2),Nn(cO(7,3,n.Date,"medium"))}}let bye=(()=>{class e{constructor(n){this.route=n}ngOnInit(){this.route.queryParams.subscribe(n=>{this.examAttemptData=JSON.parse(n.data)}),console.log(this.examAttemptData)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(od))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-exam-already-attempted"]],decls:16,vars:1,consts:[[1,"w-4/5","container","mx-auto","my-8"],[1,"text-3xl","font-bold","mb-4","text-center"],[1,"min-w-full","bg-white","border","border-gray-300"],[1,"py-2","px-4","border-b","text-left"],[4,"ngFor","ngForOf"],[1,"py-2","px-4","border-b"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"h2",1),we(2,"You have already attempted this exam"),re(),we(3," < "),oe(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),we(8,"Sap ID"),re(),oe(9,"th",3),we(10,"Attempted Exam ID"),re(),oe(11,"th",3),we(12,"Date"),re()()(),oe(13,"tbody"),ao(14,Dye,8,6,"tr",4),re()(),we(15,"> "),re()),2&r&&(st(14),un("ngForOf",i.examAttemptData))},dependencies:[pl,GL]})}return e})(),kye=(()=>{class e{constructor(n){this.router=n,this.password=""}validatePassword(){"Admin@1239"===this.password?this.router.navigate(["../admin/modify"]):alert("Invalid password. Please try again.")}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Ri))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-admin-auth"]],decls:7,vars:1,consts:[[1,"max-w-md","mx-auto","mt-5"],["for","password",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","password","type","password","placeholder","********",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],[1,"mt-4","bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(r,i){1&r&&(vs(0,"app-navbar"),oe(1,"div",0)(2,"label",1),we(3," Enter password "),re(),oe(4,"input",2),Gt("ngModelChange",function(o){return i.password=o}),re(),oe(5,"button",3),Gt("click",function(){return i.validatePassword()}),we(6," Validate Password "),re()()),2&r&&(st(4),un("ngModel",i.password))},dependencies:[G0,fI,ty,t_]})}return e})();function Rye(e,t){1&e&&(oe(0,"div",19),we(1," SAP ID must be between 7 and 8 digits. "),re())}function Pye(e,t){1&e&&(oe(0,"div",19),we(1," Phone number must be 10 digits. "),re())}const Nye=[{path:"",redirectTo:"/roleSelect",pathMatch:"full"},{path:"roleSelect",component:ute},{path:"auth",component:kye},{path:"details",component:(()=>{class e{constructor(n){this.router=n,this.user={username:"",designation:"",sapid:"",phoneNumber:"",zone:"",circle:"",division:""}}enterExam(){this.isPhoneNumberValid()&&this.isSapIdValid()?(localStorage.setItem("userDetails",JSON.stringify(this.user)),this.router.navigate(["/user/available"])):console.error("Validation failed. Please check the phone number and SAP ID.")}isPhoneNumberValid(){return/^\d{10}$/.test(this.user.phoneNumber)}isSapIdValid(){return/^\d{7,8}$/.test(this.user.sapid)}static#e=this.\u0275fac=function(r){return new(r||e)(Se(Ri))};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-user-details"]],decls:40,vars:17,consts:[[1,"max-w-md","mx-auto","mt-4","p-6","bg-white","rounded-md","shadow-md"],[1,"text-xl","font-bold","mb-4"],[3,"ngSubmit"],["userForm","ngForm"],[1,"flex","mb-2"],["for","username",1,"block","text-sm","font-medium","text-gray-600","w-1/4"],["type","text","id","zone","name","zone","required","",1,"mt-1","p-2","w-full","border","rounded-md","w-3/4",3,"ngModel","ngModelChange"],["type","text","id","circle","name","circle","required","",1,"mt-1","p-2","w-full","border","rounded-md","w-3/4",3,"ngModel","ngModelChange"],["type","text","id","division","name","division","required","",1,"mt-1","p-2","w-full","border","rounded-md","w-3/4",3,"ngModel","ngModelChange"],["type","text","id","username","name","username","required","",1,"mt-1","p-2","w-full","border","rounded-md","w-3/4",3,"ngModel","ngModelChange"],["for","designation",1,"block","text-sm","font-medium","text-gray-600","w-1/4"],["type","text","id","designation","name","designation","required","",1,"mt-1","p-2","w-full","border","rounded-md","w-3/4",3,"ngModel","ngModelChange"],["for","sapid",1,"block","text-sm","font-medium","text-gray-600","w-1/4"],["type","text","id","sapid","name","sapid","required","",1,"mt-1","p-2","w-full","border","rounded-md","w-3/4",3,"ngModel","ngModelChange"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","phoneNumber",1,"block","text-sm","font-medium","text-gray-600","w-1/4"],["type","tel","id","phoneNumber","name","phoneNumber","required","",1,"mt-1","p-2","w-full","border","rounded-md","w-3/4",3,"ngModel","ngModelChange"],[1,"mt-2"],["type","submit",3,"disabled"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,i){if(1&r&&(vs(0,"app-navbar"),oe(1,"div",0)(2,"h2",1),we(3,"Examinee Details Details"),re(),oe(4,"form",2,3),Gt("ngSubmit",function(){return i.enterExam()}),oe(6,"div",4)(7,"label",5),we(8,"Zone"),re(),oe(9,"input",6),Gt("ngModelChange",function(o){return i.user.zone=o}),re()(),oe(10,"div",4)(11,"label",5),we(12,"Circle"),re(),oe(13,"input",7),Gt("ngModelChange",function(o){return i.user.circle=o}),re()(),oe(14,"div",4)(15,"label",5),we(16,"Division"),re(),oe(17,"input",8),Gt("ngModelChange",function(o){return i.user.division=o}),re()(),oe(18,"div",4)(19,"label",5),we(20,"Name"),re(),oe(21,"input",9),Gt("ngModelChange",function(o){return i.user.username=o}),re()(),oe(22,"div",4)(23,"label",10),we(24,"Designation"),re(),oe(25,"input",11),Gt("ngModelChange",function(o){return i.user.designation=o}),re()(),oe(26,"div",4)(27,"label",12),we(28,"SAP ID"),re(),oe(29,"input",13),Gt("ngModelChange",function(o){return i.user.sapid=o}),re(),ao(30,Rye,2,0,"div",14),re(),oe(31,"div",4)(32,"label",15),we(33,"Phone Number"),re(),oe(34,"input",16),Gt("ngModelChange",function(o){return i.user.phoneNumber=o}),re(),ao(35,Pye,2,0,"div",14),re(),oe(36,"div",17)(37,"button",18),we(38,"Start Exam "),re()()()(),vs(39,"app-footer")),2&r){const s=MA(5);st(9),un("ngModel",i.user.zone),st(4),un("ngModel",i.user.circle),st(4),un("ngModel",i.user.division),st(4),un("ngModel",i.user.username),st(4),un("ngModel",i.user.designation),st(4),pp("border-red-500",!i.isSapIdValid()&&s.submitted),un("ngModel",i.user.sapid),st(1),un("ngIf",s.submitted&&!i.isSapIdValid()),st(4),pp("border-red-500",!i.isPhoneNumberValid()&&s.submitted),un("ngModel",i.user.phoneNumber),st(1),un("ngIf",s.submitted&&!i.isPhoneNumberValid()),st(2),oF("px-4 py-2 rounded-md\n        ",s.form.valid?"bg-blue-500 text-white":"bg-gray-400 text-gray-700 cursor-not-allowed",""),un("disabled",!s.form.valid)}},dependencies:[bx,hR,G0,fI,rR,xI,ty,ey,t_,CS]})}return e})()},{path:"admin",component:ate,children:[{path:"create",component:dye},{path:"modify",component:pye},{path:"result",component:mye}]},{path:"user",component:_ae,children:[{path:"available",component:GU},{path:"all",component:hve}]},{path:"exam",component:Sye,children:[{path:"instructions",component:Iye},{path:"live",component:wye},{path:"attempted",component:bye}]},{path:"availExam",component:GU},{path:"**",redirectTo:"/roleSelect"}];let Mye=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wi({type:e});static#n=this.\u0275inj=Ls({imports:[EV.forRoot(Nye),EV]})}return e})(),Fye=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Sr({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&vs(0,"router-outlet")},dependencies:[Dp]})}return e})();const Oye_firebaseConfig={apiKey:"AIzaSyBszkpx5H0Ps6Avfivju90nBDfjl92fEX0",authDomain:"uppclexam.firebaseapp.com",projectId:"uppclexam",storageBucket:"uppclexam.appspot.com",messagingSenderId:"145064455767",appId:"1:145064455767:web:91969926cde4031fcc3d12",measurementId:"G-T0E0R0W23S"};let Lye=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wi({type:e,bootstrap:[Fye]});static#n=this.\u0275inj=Ls({imports:[EX,Mye,lye,bte.initializeApp(Oye_firebaseConfig),dae]})}return e})();yX().bootstrapModule(Lye).catch(e=>console.error(e))},106:(xa,mi,Ot)=>{Ot.d(mi,{Z:()=>vi});var b=Ot(58),Tt=Ot(537),fe=Ot(534),St=Ot(879);class En{constructor(kt,Ht){this._delegate=kt,this.firebase=Ht,(0,fe._addComponent)(kt,new Tt.wA("app-compat",()=>this,"PUBLIC")),this.container=kt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(kt){this._delegate.automaticDataCollectionEnabled=kt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(kt=>{this._delegate.checkDestroyed(),kt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,fe.deleteApp)(this._delegate)))}_getService(kt,Ht=fe._DEFAULT_ENTRY_NAME){var yi;this._delegate.checkDestroyed();const xi=this._delegate.container.getProvider(kt);return!xi.isInitialized()&&"EXPLICIT"===(null===(yi=xi.getComponent())||void 0===yi?void 0:yi.instantiationMode)&&xi.initialize(),xi.getImmediate({identifier:Ht})}_removeServiceInstance(kt,Ht=fe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(kt).clearInstance(Ht)}_addComponent(kt){(0,fe._addComponent)(this._delegate,kt)}_addOrOverwriteComponent(kt){(0,fe._addOrOverwriteComponent)(this._delegate,kt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Er=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ce=function en(){const Cn=function _i(Cn){const kt={},Ht={__esModule:!0,initializeApp:function Jn($t,ri={}){const Ae=fe.initializeApp($t,ri);if((0,b.r3)(kt,Ae.name))return kt[Ae.name];const cr=new Cn(Ae,Ht);return kt[Ae.name]=cr,cr},app:xi,registerVersion:fe.registerVersion,setLogLevel:fe.setLogLevel,onLog:fe.onLog,apps:null,SDK_VERSION:fe.SDK_VERSION,INTERNAL:{registerComponent:function zn($t){const ri=$t.name,Ae=ri.replace("-compat","");if(fe._registerComponent($t)&&"PUBLIC"===$t.type){const cr=(er=xi())=>{if("function"!=typeof er[Ae])throw Er.create("invalid-app-argument",{appName:ri});return er[Ae]()};void 0!==$t.serviceProps&&(0,b.ZB)(cr,$t.serviceProps),Ht[Ae]=cr,Cn.prototype[Ae]=function(...er){return this._getService.bind(this,ri).apply(this,$t.multipleInstances?er:[])}}return"PUBLIC"===$t.type?Ht[Ae]:null},removeApp:function yi($t){delete kt[$t]},useAsService:function ss($t,ri){return"serverAuth"===ri?null:ri},modularAPIs:fe}};function xi($t){if(!(0,b.r3)(kt,$t=$t||fe._DEFAULT_ENTRY_NAME))throw Er.create("no-app",{appName:$t});return kt[$t]}return Ht.default=Ht,Object.defineProperty(Ht,"apps",{get:function Sn(){return Object.keys(kt).map($t=>kt[$t])}}),xi.App=Cn,Ht}(En);return Cn.INTERNAL=Object.assign(Object.assign({},Cn.INTERNAL),{createFirebaseNamespace:en,extendNamespace:function kt(Ht){(0,b.ZB)(Cn,Ht)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),Cn}(),Oe=new St.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){Oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Cn=self.firebase.SDK_VERSION;Cn&&Cn.indexOf("LITE")>=0&&Oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const vi=Ce;!function wn(Cn){(0,fe.registerVersion)("@firebase/app-compat","0.2.22",Cn)}()},534:(xa,mi,Ot)=>{Ot.r(mi),Ot.d(mi,{FirebaseError:()=>St.ZR,SDK_VERSION:()=>za,_DEFAULT_ENTRY_NAME:()=>mo,_addComponent:()=>Wa,_addOrOverwriteComponent:()=>Ci,_apps:()=>as,_clearComponents:()=>si,_components:()=>wa,_getProvider:()=>tr,_registerComponent:()=>Fc,_removeServiceInstance:()=>_o,deleteApp:()=>Gi,getApp:()=>qa,getApps:()=>ku,initializeApp:()=>bu,onLog:()=>Ru,registerVersion:()=>Ka,setLogLevel:()=>th});var b=Ot(861),Tt=Ot(537),fe=Ot(879),St=Ot(58);const En=(J,W)=>W.some(Ne=>J instanceof Ne);let ar,Er;const Ce=new WeakMap,Oe=new WeakMap,ut=new WeakMap,Yt=new WeakMap,wn=new WeakMap;let kt={get(J,W,Ne){if(J instanceof IDBTransaction){if("done"===W)return Oe.get(J);if("objectStoreNames"===W)return J.objectStoreNames||ut.get(J);if("store"===W)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return Jn(J[W])},set:(J,W,Ne)=>(J[W]=Ne,!0),has:(J,W)=>J instanceof IDBTransaction&&("done"===W||"store"===W)||W in J};function xi(J){return"function"==typeof J?function yi(J){return J!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function en(){return Er||(Er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(J)?function(...W){return J.apply(Sn(this),W),Jn(Ce.get(this))}:function(...W){return Jn(J.apply(Sn(this),W))}:function(W,...Ne){const mt=J.call(Sn(this),W,...Ne);return ut.set(mt,W.sort?W.sort():[W]),Jn(mt)}}(J):(J instanceof IDBTransaction&&function Cn(J){if(Oe.has(J))return;const W=new Promise((Ne,mt)=>{const Lt=()=>{J.removeEventListener("complete",Xt),J.removeEventListener("error",ge),J.removeEventListener("abort",ge)},Xt=()=>{Ne(),Lt()},ge=()=>{mt(J.error||new DOMException("AbortError","AbortError")),Lt()};J.addEventListener("complete",Xt),J.addEventListener("error",ge),J.addEventListener("abort",ge)});Oe.set(J,W)}(J),En(J,function _i(){return ar||(ar=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(J,kt):J)}function Jn(J){if(J instanceof IDBRequest)return function vi(J){const W=new Promise((Ne,mt)=>{const Lt=()=>{J.removeEventListener("success",Xt),J.removeEventListener("error",ge)},Xt=()=>{Ne(Jn(J.result)),Lt()},ge=()=>{mt(J.error),Lt()};J.addEventListener("success",Xt),J.addEventListener("error",ge)});return W.then(Ne=>{Ne instanceof IDBCursor&&Ce.set(Ne,J)}).catch(()=>{}),wn.set(W,J),W}(J);if(Yt.has(J))return Yt.get(J);const W=xi(J);return W!==J&&(Yt.set(J,W),wn.set(W,J)),W}const Sn=J=>wn.get(J),$t=["get","getKey","getAll","getAllKeys","count"],ri=["put","add","delete","clear"],Ae=new Map;function cr(J,W){if(!(J instanceof IDBDatabase)||W in J||"string"!=typeof W)return;if(Ae.get(W))return Ae.get(W);const Ne=W.replace(/FromIndex$/,""),mt=W!==Ne,Lt=ri.includes(Ne);if(!(Ne in(mt?IDBIndex:IDBObjectStore).prototype)||!Lt&&!$t.includes(Ne))return;const Xt=function(){var ge=(0,b.Z)(function*($r,...lt){const tn=this.transaction($r,Lt?"readwrite":"readonly");let hf=tn.store;return mt&&(hf=hf.index(lt.shift())),(yield Promise.all([hf[Ne](...lt),Lt&&tn.done]))[0]});return function(lt){return ge.apply(this,arguments)}}();return Ae.set(W,Xt),Xt}!function Ht(J){kt=J(kt)}(J=>({...J,get:(W,Ne,mt)=>cr(W,Ne)||J.get(W,Ne,mt),has:(W,Ne)=>!!cr(W,Ne)||J.has(W,Ne)}));class er{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function jr(J){const W=J.getComponent();return"VERSION"===W?.type}(Ne)){const mt=Ne.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(Ne=>Ne).join(" ")}}const Uo="@firebase/app",pn=new fe.Yd("@firebase/app"),mo="[DEFAULT]",ff={[Uo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},as=new Map,wa=new Map;function Wa(J,W){try{J.container.addComponent(W)}catch(Ne){pn.debug(`Component ${W.name} failed to register with FirebaseApp ${J.name}`,Ne)}}function Ci(J,W){J.container.addOrOverwriteComponent(W)}function Fc(J){const W=J.name;if(wa.has(W))return pn.debug(`There were multiple attempts to register component ${W}.`),!1;wa.set(W,J);for(const Ne of as.values())Wa(Ne,J);return!0}function tr(J,W){const Ne=J.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),J.container.getProvider(W)}function _o(J,W,Ne=mo){tr(J,W).clearInstance(Ne)}function si(){wa.clear()}const to=new St.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class no{constructor(W,Ne,mt){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new Tt.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}const za="10.5.2";function bu(J,W={}){let Ne=J;"object"!=typeof W&&(W={name:W});const mt=Object.assign({name:mo,automaticDataCollectionEnabled:!1},W),Lt=mt.name;if("string"!=typeof Lt||!Lt)throw to.create("bad-app-name",{appName:String(Lt)});if(Ne||(Ne=(0,St.aH)()),!Ne)throw to.create("no-options");const Xt=as.get(Lt);if(Xt){if((0,St.vZ)(Ne,Xt.options)&&(0,St.vZ)(mt,Xt.config))return Xt;throw to.create("duplicate-app",{appName:Lt})}const ge=new Tt.H0(Lt);for(const lt of wa.values())ge.addComponent(lt);const $r=new no(Ne,mt,ge);return as.set(Lt,$r),$r}function qa(J=mo){const W=as.get(J);if(!W&&J===mo&&(0,St.aH)())return bu();if(!W)throw to.create("no-app",{appName:J});return W}function ku(){return Array.from(as.values())}function Gi(J){return cs.apply(this,arguments)}function cs(){return(cs=(0,b.Z)(function*(J){const W=J.name;as.has(W)&&(as.delete(W),yield Promise.all(J.container.getProviders().map(Ne=>Ne.delete())),J.isDeleted=!0)})).apply(this,arguments)}function Ka(J,W,Ne){var mt;let Lt=null!==(mt=ff[J])&&void 0!==mt?mt:J;Ne&&(Lt+=`-${Ne}`);const Xt=Lt.match(/\s|\//),ge=W.match(/\s|\//);if(Xt||ge){const $r=[`Unable to register library "${Lt}" with version "${W}":`];return Xt&&$r.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),Xt&&ge&&$r.push("and"),ge&&$r.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void pn.warn($r.join(" "))}Fc(new Tt.wA(`${Lt}-version`,()=>({library:Lt,version:W}),"VERSION"))}function Ru(J,W){if(null!==J&&"function"!=typeof J)throw to.create("invalid-log-argument");(0,fe.Am)(J,W)}function th(J){(0,fe.Ub)(J)}const df="firebase-heartbeat-database",Pu=1,U="firebase-heartbeat-store";let F=null;function j(){return F||(F=function zn(J,W,{blocked:Ne,upgrade:mt,blocking:Lt,terminated:Xt}={}){const ge=indexedDB.open(J,W),$r=Jn(ge);return mt&&ge.addEventListener("upgradeneeded",lt=>{mt(Jn(ge.result),lt.oldVersion,lt.newVersion,Jn(ge.transaction),lt)}),Ne&&ge.addEventListener("blocked",lt=>Ne(lt.oldVersion,lt.newVersion,lt)),$r.then(lt=>{Xt&&lt.addEventListener("close",()=>Xt()),Lt&&lt.addEventListener("versionchange",tn=>Lt(tn.oldVersion,tn.newVersion,tn))}).catch(()=>{}),$r}(df,Pu,{upgrade:(J,W)=>{0===W&&J.createObjectStore(U)}}).catch(J=>{throw to.create("idb-open",{originalErrorMessage:J.message})})),F}function Q(){return(Q=(0,b.Z)(function*(J){try{return yield(yield j()).transaction(U).objectStore(U).get(yn(J))}catch(W){if(W instanceof St.ZR)pn.warn(W.message);else{const Ne=to.create("idb-get",{originalErrorMessage:W?.message});pn.warn(Ne.message)}}})).apply(this,arguments)}function me(J,W){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,b.Z)(function*(J,W){try{const mt=(yield j()).transaction(U,"readwrite");yield mt.objectStore(U).put(W,yn(J)),yield mt.done}catch(Ne){if(Ne instanceof St.ZR)pn.warn(Ne.message);else{const mt=to.create("idb-set",{originalErrorMessage:Ne?.message});pn.warn(mt.message)}}})).apply(this,arguments)}function yn(J){return`${J.name}!${J.options.appId}`}class Fs{constructor(W){this.container=W,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new On(Ne),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var W=this;return(0,b.Z)(function*(){const mt=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=ht();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!W._heartbeatsCache.heartbeats.some(Xt=>Xt.date===Lt))return W._heartbeatsCache.heartbeats.push({date:Lt,agent:mt}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Xt=>{const ge=new Date(Xt.date).valueOf();return Date.now()-ge<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,b.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const Ne=ht(),{heartbeatsToSend:mt,unsentEntries:Lt}=function oi(J,W=1024){const Ne=[];let mt=J.slice();for(const Lt of J){const Xt=Ne.find(ge=>ge.agent===Lt.agent);if(Xt){if(Xt.dates.push(Lt.date),Ia(Ne)>W){Xt.dates.pop();break}}else if(Ne.push({agent:Lt.agent,dates:[Lt.date]}),Ia(Ne)>W){Ne.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:mt}}(W._heartbeatsCache.heartbeats),Xt=(0,St.L)(JSON.stringify({version:2,heartbeats:mt}));return W._heartbeatsCache.lastSentHeartbeatDate=Ne,Lt.length>0?(W._heartbeatsCache.heartbeats=Lt,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Xt})()}}function ht(){return(new Date).toISOString().substring(0,10)}class On{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,St.hl)()&&(0,St.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,b.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function ye(J){return Q.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var Ne=this;return(0,b.Z)(function*(){var mt;if(yield Ne._canUseIndexedDBPromise){const Xt=yield Ne.read();return me(Ne.app,{lastSentHeartbeatDate:null!==(mt=W.lastSentHeartbeatDate)&&void 0!==mt?mt:Xt.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var Ne=this;return(0,b.Z)(function*(){var mt;if(yield Ne._canUseIndexedDBPromise){const Xt=yield Ne.read();return me(Ne.app,{lastSentHeartbeatDate:null!==(mt=W.lastSentHeartbeatDate)&&void 0!==mt?mt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...W.heartbeats]})}})()}}function Ia(J){return(0,St.L)(JSON.stringify({version:2,heartbeats:J})).length}!function Oc(J){Fc(new Tt.wA("platform-logger",W=>new er(W),"PRIVATE")),Fc(new Tt.wA("heartbeat",W=>new Fs(W),"PRIVATE")),Ka(Uo,"0.9.22",J),Ka(Uo,"0.9.22","esm2017"),Ka("fire-js","")}("")},537:(xa,mi,Ot)=>{Ot.d(mi,{H0:()=>_i,wA:()=>fe});var b=Ot(861),Tt=Ot(58);class fe{constructor(Ce,Oe,ut){this.name=Ce,this.instanceFactory=Oe,this.type=ut,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const St="[DEFAULT]";class En{constructor(Ce,Oe){this.name=Ce,this.container=Oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const Oe=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(Oe)){const ut=new Tt.BH;if(this.instancesDeferred.set(Oe,ut),this.isInitialized(Oe)||this.shouldAutoInitialize())try{const Yt=this.getOrInitializeService({instanceIdentifier:Oe});Yt&&ut.resolve(Yt)}catch{}}return this.instancesDeferred.get(Oe).promise}getImmediate(Ce){var Oe;const ut=this.normalizeInstanceIdentifier(Ce?.identifier),Yt=null!==(Oe=Ce?.optional)&&void 0!==Oe&&Oe;if(!this.isInitialized(ut)&&!this.shouldAutoInitialize()){if(Yt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ut})}catch(wn){if(Yt)return null;throw wn}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function Er(en){return"EAGER"===en.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:St})}catch{}for(const[Oe,ut]of this.instancesDeferred.entries()){const Yt=this.normalizeInstanceIdentifier(Oe);try{const wn=this.getOrInitializeService({instanceIdentifier:Yt});ut.resolve(wn)}catch{}}}}clearInstance(Ce=St){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,b.Z)(function*(){const Oe=Array.from(Ce.instances.values());yield Promise.all([...Oe.filter(ut=>"INTERNAL"in ut).map(ut=>ut.INTERNAL.delete()),...Oe.filter(ut=>"_delete"in ut).map(ut=>ut._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=St){return this.instances.has(Ce)}getOptions(Ce=St){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:Oe={}}=Ce,ut=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(ut))throw Error(`${this.name}(${ut}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Yt=this.getOrInitializeService({instanceIdentifier:ut,options:Oe});for(const[wn,vi]of this.instancesDeferred.entries())ut===this.normalizeInstanceIdentifier(wn)&&vi.resolve(Yt);return Yt}onInit(Ce,Oe){var ut;const Yt=this.normalizeInstanceIdentifier(Oe),wn=null!==(ut=this.onInitCallbacks.get(Yt))&&void 0!==ut?ut:new Set;wn.add(Ce),this.onInitCallbacks.set(Yt,wn);const vi=this.instances.get(Yt);return vi&&Ce(vi,Yt),()=>{wn.delete(Ce)}}invokeOnInitCallbacks(Ce,Oe){const ut=this.onInitCallbacks.get(Oe);if(ut)for(const Yt of ut)try{Yt(Ce,Oe)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:Oe={}}){let ut=this.instances.get(Ce);if(!ut&&this.component&&(ut=this.component.instanceFactory(this.container,{instanceIdentifier:(en=Ce,en===St?void 0:en),options:Oe}),this.instances.set(Ce,ut),this.instancesOptions.set(Ce,Oe),this.invokeOnInitCallbacks(ut,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,ut)}catch{}var en;return ut||null}normalizeInstanceIdentifier(Ce=St){return this.component?this.component.multipleInstances?Ce:St:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _i{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const Oe=this.getProvider(Ce.name);if(Oe.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);Oe.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const Oe=new En(Ce,this);return this.providers.set(Ce,Oe),Oe}getProviders(){return Array.from(this.providers.values())}}},879:(xa,mi,Ot)=>{Ot.d(mi,{Am:()=>en,Ub:()=>_i,Yd:()=>Er,in:()=>Tt});const b=[];var Tt=function(Ce){return Ce[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",Ce}(Tt||{});const fe={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},St=Tt.INFO,En={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},ar=(Ce,Oe,...ut)=>{if(Oe<Ce.logLevel)return;const Yt=(new Date).toISOString(),wn=En[Oe];if(!wn)throw new Error(`Attempted to log a message with an invalid logType (value: ${Oe})`);console[wn](`[${Yt}]  ${Ce.name}:`,...ut)};class Er{constructor(Oe){this.name=Oe,this._logLevel=St,this._logHandler=ar,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(Oe){if(!(Oe in Tt))throw new TypeError(`Invalid value "${Oe}" assigned to \`logLevel\``);this._logLevel=Oe}setLogLevel(Oe){this._logLevel="string"==typeof Oe?fe[Oe]:Oe}get logHandler(){return this._logHandler}set logHandler(Oe){if("function"!=typeof Oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(Oe){this._userLogHandler=Oe}debug(...Oe){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...Oe),this._logHandler(this,Tt.DEBUG,...Oe)}log(...Oe){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...Oe),this._logHandler(this,Tt.VERBOSE,...Oe)}info(...Oe){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...Oe),this._logHandler(this,Tt.INFO,...Oe)}warn(...Oe){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...Oe),this._logHandler(this,Tt.WARN,...Oe)}error(...Oe){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...Oe),this._logHandler(this,Tt.ERROR,...Oe)}}function _i(Ce){b.forEach(Oe=>{Oe.setLogLevel(Ce)})}function en(Ce,Oe){for(const ut of b){let Yt=null;Oe&&Oe.level&&(Yt=fe[Oe.level]),ut.userLogHandler=null===Ce?null:(wn,vi,...Cn)=>{const kt=Cn.map(Ht=>{if(null==Ht)return null;if("string"==typeof Ht)return Ht;if("number"==typeof Ht||"boolean"==typeof Ht)return Ht.toString();if(Ht instanceof Error)return Ht.message;try{return JSON.stringify(Ht)}catch{return null}}).filter(Ht=>Ht).join(" ");vi>=(Yt??wn.logLevel)&&Ce({level:Tt[vi].toLowerCase(),message:kt,args:Cn,type:wn.name})}}}},290:(xa,mi,Ot)=>{Ot.r(mi);var b=Ot(861),Tt=Ot(106),fe=Ot(58),St=Ot(534),En=Ot(879),ar=Ot(582),Er=Ot(537);const en={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const vi=function Yt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Cn=function wn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yi=new En.Yd("@firebase/auth");function Jn(p,...f){yi.logLevel<=En.in.ERROR&&yi.error(`Auth (${St.SDK_VERSION}): ${p}`,...f)}function Sn(p,...f){throw ri(p,...f)}function zn(p,...f){return ri(p,...f)}function ss(p,f,d){const m=Object.assign(Object.assign({},Cn()),{[f]:d});return new fe.LL("auth","Firebase",m).create(f,{appName:p.name})}function $t(p,f,d){if(!(f instanceof d))throw d.name!==f.constructor.name&&Sn(p,"argument-error"),ss(p,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ri(p,...f){if("string"!=typeof p){const d=f[0],m=[...f.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(d,...m)}return kt.create(p,...f)}function Ae(p,f,...d){if(!p)throw ri(f,...d)}function cr(p){const f="INTERNAL ASSERTION FAILED: "+p;throw Jn(f),new Error(f)}function er(p,f){p||cr(f)}function jr(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Uo(){return"http:"===jo()||"https:"===jo()}function jo(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Ho{constructor(f,d){this.shortDelay=f,this.longDelay=d,er(d>f,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function pn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Uo()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(p,f){er(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return f?`${d}${f.startsWith("/")?f.slice(1):f}`:d}class ue{static initialize(f,d,m){this.fetchImpl=f,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ee=new Ho(3e4,6e4);function De(p,f){return p.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:p.tenantId}):f}function de(p,f,d,m){return tt.apply(this,arguments)}function tt(){return(tt=(0,b.Z)(function*(p,f,d,m,E={}){return an(p,E,(0,b.Z)(function*(){let A={},L={};m&&("GET"===f?L=m:A={body:JSON.stringify(m)});const Z=(0,fe.xO)(Object.assign({key:p.config.apiKey},L)).slice(1),xe=yield p._getAdditionalHeaders();return xe["Content-Type"]="application/json",p.languageCode&&(xe["X-Firebase-Locale"]=p.languageCode),ue.fetch()(ur(p,p.config.apiHost,d,Z),Object.assign({method:f,headers:xe,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function an(p,f,d){return dt.apply(this,arguments)}function dt(){return(dt=(0,b.Z)(function*(p,f,d){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},he),f);try{const E=new Ai(p),A=yield Promise.race([d(),E.promise]);E.clearNetworkTimeout();const L=yield A.json();if("needConfirmation"in L)throw ii(p,"account-exists-with-different-credential",L);if(A.ok&&!("errorMessage"in L))return L;{const Z=A.ok?L.errorMessage:L.error.message,[xe,ze]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw ii(p,"credential-already-in-use",L);if("EMAIL_EXISTS"===xe)throw ii(p,"email-already-in-use",L);if("USER_DISABLED"===xe)throw ii(p,"user-disabled",L);const at=m[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw ss(p,at,ze);Sn(p,at)}}catch(E){if(E instanceof fe.ZR)throw E;Sn(p,"network-request-failed",{message:String(E)})}})).apply(this,arguments)}function gt(p,f,d,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,b.Z)(function*(p,f,d,m,E={}){const A=yield de(p,f,d,m,E);return"mfaPendingCredential"in A&&Sn(p,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function ur(p,f,d,m){const E=`${f}${d}?${m}`;return p.config.emulator?se(p.config,E):`${p.config.apiScheme}://${E}`}function Zn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ai{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(zn(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ii(p,f,d){const m={appName:p.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const E=zn(p,f,m);return E.customData._tokenResponse=d,E}function $i(p){return void 0!==p&&void 0!==p.getResponse}function os(p){return void 0!==p&&void 0!==p.enterprise}class Ms{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===f)return Zn(d.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Ea(){return(Ea=(0,b.Z)(function*(p){return(yield de(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hr(p,f){return Su.apply(this,arguments)}function Su(){return(Su=(0,b.Z)(function*(p,f){return de(p,"GET","/v2/recaptchaConfig",De(p,f))})).apply(this,arguments)}function mo(){return(mo=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function as(){return(as=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wa(){return(Wa=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ci(p){if(p)try{const f=new Date(Number(p));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function _o(){return(_o=(0,b.Z)(function*(p,f=!1){const d=(0,fe.m9)(p),m=yield d.getIdToken(f),E=Du(m);Ae(E&&E.exp&&E.auth_time&&E.iat,d.auth,"internal-error");const A="object"==typeof E.firebase?E.firebase:void 0,L=A?.sign_in_provider;return{claims:E,token:m,authTime:Ci(si(E.auth_time)),issuedAtTime:Ci(si(E.iat)),expirationTime:Ci(si(E.exp)),signInProvider:L||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function si(p){return 1e3*Number(p)}function Du(p){const[f,d,m]=p.split(".");if(void 0===f||void 0===d||void 0===m)return Jn("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,fe.tV)(d);return E?JSON.parse(E):(Jn("Failed to decode base64 JWT payload"),null)}catch(E){return Jn("Caught error parsing JWT payload as JSON",E?.toString()),null}}function no(p,f){return za.apply(this,arguments)}function za(){return(za=(0,b.Z)(function*(p,f,d=!1){if(d)return f;try{return yield f}catch(m){throw m instanceof fe.ZR&&function bu({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class qa{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var d;if(f){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const E=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(f=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(f);this.timerId=setTimeout((0,b.Z)(function*(){yield d.iteration()}),m)}iteration(){var f=this;return(0,b.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&f.schedule(!0))}f.schedule()})()}}class ku{constructor(f,d){this.createdAt=f,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ci(this.lastLoginAt),this.creationTime=Ci(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gi(p){return cs.apply(this,arguments)}function cs(){return cs=(0,b.Z)(function*(p){var f;const d=p.auth,m=yield p.getIdToken(),E=yield no(p,function wa(p,f){return Wa.apply(this,arguments)}(d,{idToken:m}));Ae(E?.users.length,d,"internal-error");const A=E.users[0];p._notifyReloadListener(A);const L=null!==(f=A.providerUserInfo)&&void 0!==f&&f.length?function df(p){return p.map(f=>{var{providerId:d}=f,m=(0,ar._T)(f,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(A.providerUserInfo):[],Z=function th(p,f){return[...p.filter(m=>!f.some(E=>E.providerId===m.providerId)),...f]}(p.providerData,L),at=!!p.isAnonymous&&!(p.email&&A.passwordHash||Z?.length),rt={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:Z,metadata:new ku(A.createdAt,A.lastLoginAt),isAnonymous:at};Object.assign(p,rt)}),cs.apply(this,arguments)}function Ru(){return(Ru=(0,b.Z)(function*(p){const f=(0,fe.m9)(p);yield Gi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function U(){return(U=(0,b.Z)(function*(p,f){const d=yield an(p,{},(0,b.Z)(function*(){const m=(0,fe.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:E,apiKey:A}=p.config,L=ur(p,E,"/v1/token",`key=${A}`),Z=yield p._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(L,{method:"POST",headers:Z,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class F{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ae(f.idToken,"internal-error"),Ae(typeof f.idToken<"u","internal-error"),Ae(typeof f.refreshToken<"u","internal-error");const d="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function to(p){const f=Du(p);return Ae(f,"internal-error"),Ae(typeof f.exp<"u","internal-error"),Ae(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,d)}getToken(f,d=!1){var m=this;return(0,b.Z)(function*(){return Ae(!m.accessToken||m.refreshToken,f,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(f,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,d){var m=this;return(0,b.Z)(function*(){const{accessToken:E,refreshToken:A,expiresIn:L}=yield function Pu(p,f){return U.apply(this,arguments)}(f,d);m.updateTokensAndExpiration(E,A,Number(L))})()}updateTokensAndExpiration(f,d,m){this.refreshToken=d||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(f,d){const{refreshToken:m,accessToken:E,expirationTime:A}=d,L=new F;return m&&(Ae("string"==typeof m,"internal-error",{appName:f}),L.refreshToken=m),E&&(Ae("string"==typeof E,"internal-error",{appName:f}),L.accessToken=E),A&&(Ae("number"==typeof A,"internal-error",{appName:f}),L.expirationTime=A),L}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new F,this.toJSON())}_performRefresh(){return cr("not implemented")}}function j(p,f){Ae("string"==typeof p||typeof p>"u","internal-error",{appName:f})}class ye{constructor(f){var{uid:d,auth:m,stsTokenManager:E}=f,A=(0,ar._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new ku(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(f){var d=this;return(0,b.Z)(function*(){const m=yield no(d,d.stsTokenManager.getToken(d.auth,f));return Ae(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(f){return function tr(p){return _o.apply(this,arguments)}(this,f)}reload(){return function Ka(p){return Ru.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ae(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(d=>Object.assign({},d)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const d=new ye(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(f){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,d=!1){var m=this;return(0,b.Z)(function*(){let E=!1;f.idToken&&f.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(f),E=!0),d&&(yield Gi(m)),yield m.auth._persistUserIfCurrent(m),E&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var f=this;return(0,b.Z)(function*(){const d=yield f.getIdToken();return yield no(f,function lf(p,f){return mo.apply(this,arguments)}(f.auth,{idToken:d})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,d){var m,E,A,L,Z,xe,ze,at;const rt=null!==(m=d.displayName)&&void 0!==m?m:void 0,Ln=null!==(E=d.email)&&void 0!==E?E:void 0,Io=null!==(A=d.phoneNumber)&&void 0!==A?A:void 0,Qg=null!==(L=d.photoURL)&&void 0!==L?L:void 0,Xg=null!==(Z=d.tenantId)&&void 0!==Z?Z:void 0,Jg=null!==(xe=d._redirectEventId)&&void 0!==xe?xe:void 0,TT=null!==(ze=d.createdAt)&&void 0!==ze?ze:void 0,g1=null!==(at=d.lastLoginAt)&&void 0!==at?at:void 0,{uid:em,emailVerified:m1,isAnonymous:Kf,providerData:$h,stsTokenManager:_1}=d;Ae(em&&_1,f,"internal-error");const v1=F.fromJSON(this.name,_1);Ae("string"==typeof em,f,"internal-error"),j(rt,f.name),j(Ln,f.name),Ae("boolean"==typeof m1,f,"internal-error"),Ae("boolean"==typeof Kf,f,"internal-error"),j(Io,f.name),j(Qg,f.name),j(Xg,f.name),j(Jg,f.name),j(TT,f.name),j(g1,f.name);const y1=new ye({uid:em,auth:f,email:Ln,emailVerified:m1,displayName:rt,isAnonymous:Kf,photoURL:Qg,phoneNumber:Io,tenantId:Xg,stsTokenManager:v1,createdAt:TT,lastLoginAt:g1});return $h&&Array.isArray($h)&&(y1.providerData=$h.map(x1=>Object.assign({},x1))),Jg&&(y1._redirectEventId=Jg),y1}static _fromIdTokenResponse(f,d,m=!1){return(0,b.Z)(function*(){const E=new F;E.updateFromServerResponse(d);const A=new ye({uid:d.localId,auth:f,stsTokenManager:E,isAnonymous:m});return yield Gi(A),A})()}}const Q=new Map;function me(p){er(p instanceof Function,"Expected a class definition");let f=Q.get(p);return f?(er(f instanceof p,"Instance stored in cache mismatched with class"),f):(f=new p,Q.set(p,f),f)}const yn=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(d,m){var E=this;return(0,b.Z)(function*(){E.storage[d]=m})()}_get(d){var m=this;return(0,b.Z)(function*(){const E=m.storage[d];return void 0===E?null:E})()}_remove(d){var m=this;return(0,b.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return p.type="NONE",p})();function Qt(p,f,d){return`firebase:${p}:${f}:${d}`}class lr{constructor(f,d,m){this.persistence=f,this.auth=d,this.userKey=m;const{config:E,name:A}=this.auth;this.fullUserKey=Qt(this.userKey,E.apiKey,A),this.fullPersistenceKey=Qt("persistence",E.apiKey,A),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,b.Z)(function*(){const d=yield f.persistence._get(f.fullUserKey);return d?ye._fromJSON(f.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var d=this;return(0,b.Z)(function*(){if(d.persistence===f)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=f,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,d,m="authUser"){return(0,b.Z)(function*(){if(!d.length)return new lr(me(yn),f,m);const E=(yield Promise.all(d.map(function(){var ze=(0,b.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let A=E[0]||me(yn);const L=Qt(m,f.config.apiKey,f.name);let Z=null;for(const ze of d)try{const at=yield ze._get(L);if(at){const rt=ye._fromJSON(f,at);ze!==A&&(Z=rt),A=ze;break}}catch{}const xe=E.filter(ze=>ze._shouldAllowMigration);return A._shouldAllowMigration&&xe.length?(A=xe[0],Z&&(yield A._set(L,Z.toJSON())),yield Promise.all(d.map(function(){var ze=(0,b.Z)(function*(at){if(at!==A)try{yield at._remove(L)}catch{}});return function(at){return ze.apply(this,arguments)}}())),new lr(A,f,m)):new lr(A,f,m)})()}}function Fs(p){const f=p.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ia(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ht(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(J(f))return"Blackberry";if(W(f))return"Webos";if(oi(f))return"Safari";if((f.includes("chrome/")||On(f))&&!f.includes("edge/"))return"Chrome";if(Oc(f))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function ht(p=(0,fe.z$)()){return/firefox\//i.test(p)}function oi(p=(0,fe.z$)()){const f=p.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function On(p=(0,fe.z$)()){return/crios\//i.test(p)}function Ia(p=(0,fe.z$)()){return/iemobile/i.test(p)}function Oc(p=(0,fe.z$)()){return/android/i.test(p)}function J(p=(0,fe.z$)()){return/blackberry/i.test(p)}function W(p=(0,fe.z$)()){return/webos/i.test(p)}function Ne(p=(0,fe.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function ge(p=(0,fe.z$)()){return Ne(p)||Oc(p)||W(p)||J(p)||/windows phone/i.test(p)||Ia(p)}function lt(p,f=[]){let d;switch(p){case"Browser":d=Fs((0,fe.z$)());break;case"Worker":d=`${Fs((0,fe.z$)())}-${p}`;break;default:d=p}const m=f.length?f.join(","):"FirebaseCore-web";return`${d}/JsCore/${St.SDK_VERSION}/${m}`}class tn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,d){const m=A=>new Promise((L,Z)=>{try{L(f(A))}catch(xe){Z(xe)}});m.onAbort=d,this.queue.push(m);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(f){var d=this;return(0,b.Z)(function*(){if(d.auth.currentUser===f)return;const m=[];try{for(const E of d.queue)yield E(f),E.onAbort&&m.push(E.onAbort)}catch(E){m.reverse();for(const A of m)try{A()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}function oy(){return(oy=(0,b.Z)(function*(p,f={}){return de(p,"GET","/v2/passwordPolicy",De(p,f))})).apply(this,arguments)}class q0{constructor(f){var d,m,E,A;const L=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=L.minPasswordLength)&&void 0!==d?d:6,L.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=L.maxPasswordLength),void 0!==L.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=L.containsLowercaseCharacter),void 0!==L.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=L.containsUppercaseCharacter),void 0!==L.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=L.containsNumericCharacter),void 0!==L.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=L.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(E=null===(m=f.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==E?E:"",this.forceUpgradeOnSignin=null!==(A=f.forceUpgradeOnSignin)&&void 0!==A&&A,this.schemaVersion=f.schemaVersion}validatePassword(f){var d,m,E,A,L,Z;const xe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,xe),this.validatePasswordCharacterOptions(f,xe),xe.isValid&&(xe.isValid=null===(d=xe.meetsMinPasswordLength)||void 0===d||d),xe.isValid&&(xe.isValid=null===(m=xe.meetsMaxPasswordLength)||void 0===m||m),xe.isValid&&(xe.isValid=null===(E=xe.containsLowercaseLetter)||void 0===E||E),xe.isValid&&(xe.isValid=null===(A=xe.containsUppercaseLetter)||void 0===A||A),xe.isValid&&(xe.isValid=null===(L=xe.containsNumericCharacter)||void 0===L||L),xe.isValid&&(xe.isValid=null===(Z=xe.containsNonAlphanumericCharacter)||void 0===Z||Z),xe}validatePasswordLengthOptions(f,d){const m=this.customStrengthOptions.minPasswordLength,E=this.customStrengthOptions.maxPasswordLength;m&&(d.meetsMinPasswordLength=f.length>=m),E&&(d.meetsMaxPasswordLength=f.length<=E)}validatePasswordCharacterOptions(f,d){let m;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let E=0;E<f.length;E++)m=f.charAt(E),this.updatePasswordCharacterOptionsStatuses(d,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(f,d,m,E,A){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=E)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=A))}}class Os{constructor(f,d,m,E){this.app=f,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ay(this),this.idTokenSubscription=new ay(this),this.beforeStateQueue=new tn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,d){var m=this;return d&&(this._popupRedirectResolver=me(d)),this._initializationPromise=this.queue((0,b.Z)(function*(){var E,A;if(!m._deleted&&(m.persistenceManager=yield lr.create(m,f),!m._deleted)){if(null!==(E=m._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(A=m.currentUser)||void 0===A?void 0:A.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,b.Z)(function*(){if(f._deleted)return;const d=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||d){if(f.currentUser&&d&&f.currentUser.uid===d.uid)return f._currentUser._assign(d),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(d,!0)}})()}initializeCurrentUser(f){var d=this;return(0,b.Z)(function*(){var m;const E=yield d.assertedPersistence.getCurrentUser();let A=E,L=!1;if(f&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Z=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,xe=A?._redirectEventId,ze=yield d.tryRedirectSignIn(f);(!Z||Z===xe)&&ze?.user&&(A=ze.user,L=!0)}if(!A)return d.directlySetCurrentUser(null);if(!A._redirectEventId){if(L)try{yield d.beforeStateQueue.runMiddleware(A)}catch(Z){A=E,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Z))}return A?d.reloadAndSetCurrentUserOrClear(A):d.directlySetCurrentUser(null)}return Ae(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===A._redirectEventId?d.directlySetCurrentUser(A):d.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(f){var d=this;return(0,b.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,f,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(f){var d=this;return(0,b.Z)(function*(){try{yield Gi(f)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Mc(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var f=this;return(0,b.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var d=this;return(0,b.Z)(function*(){const m=f?(0,fe.m9)(f):null;return m&&Ae(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(f,d=!1){var m=this;return(0,b.Z)(function*(){if(!m._deleted)return f&&Ae(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(f)),m.queue((0,b.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,b.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var d=this;return this.queue((0,b.Z)(function*(){yield d.assertedPersistence.setPersistence(me(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var d=this;return(0,b.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const m=d._getPasswordPolicyInternal();return m.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,b.Z)(function*(){const d=yield function hf(p){return oy.apply(this,arguments)}(f),m=new q0(d);null===f.tenantId?f._projectPasswordPolicy=m:f._tenantPasswordPolicies[f.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new fe.LL("auth","Firebase",f())}onAuthStateChanged(f,d,m){return this.registerStateListener(this.authStateSubscription,f,d,m)}beforeAuthStateChanged(f,d){return this.beforeStateQueue.pushCallback(f,d)}onIdTokenChanged(f,d,m){return this.registerStateListener(this.idTokenSubscription,f,d,m)}authStateReady(){return new Promise((f,d)=>{if(this.currentUser)f();else{const m=this.onAuthStateChanged(()=>{m(),f()},d)}})}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,d){var m=this;return(0,b.Z)(function*(){const E=yield m.getOrInitRedirectPersistenceManager(d);return null===f?E.removeCurrentUser():E.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var d=this;return(0,b.Z)(function*(){if(!d.redirectPersistenceManager){const m=f&&me(f)||d._popupRedirectResolver;Ae(m,d,"argument-error"),d.redirectPersistenceManager=yield lr.create(d,[me(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(f){var d=this;return(0,b.Z)(function*(){var m,E;return d._isInitialized&&(yield d.queue((0,b.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===f?d._currentUser:(null===(E=d.redirectUser)||void 0===E?void 0:E._redirectEventId)===f?d.redirectUser:null})()}_persistUserIfCurrent(f){var d=this;return(0,b.Z)(function*(){if(f===d.currentUser)return d.queue((0,b.Z)(function*(){return d.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,d,m,E){if(this._deleted)return()=>{};const A="function"==typeof d?d:d.next.bind(d);let L=!1;const Z=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(Z,this,"internal-error"),Z.then(()=>{L||A(this.currentUser)}),"function"==typeof d){const xe=f.addObserver(d,m,E);return()=>{L=!0,xe()}}{const xe=f.addObserver(d);return()=>{L=!0,xe()}}}directlySetCurrentUser(f){var d=this;return(0,b.Z)(function*(){d.currentUser&&d.currentUser!==f&&d._currentUser._stopProactiveRefresh(),f&&d.isProactiveRefreshEnabled&&f._startProactiveRefresh(),d.currentUser=f,f?yield d.assertedPersistence.setCurrentUser(f):yield d.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=lt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,b.Z)(function*(){var d;const m={"X-Client-Version":f.clientVersion};f.app.options.appId&&(m["X-Firebase-gmpid"]=f.app.options.appId);const E=yield null===(d=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();E&&(m["X-Firebase-Client"]=E);const A=yield f._getAppCheckToken();return A&&(m["X-Firebase-AppCheck"]=A),m})()}_getAppCheckToken(){var f=this;return(0,b.Z)(function*(){var d;const m=yield null===(d=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function xi(p,...f){yi.logLevel<=En.in.WARN&&yi.warn(`Auth (${St.SDK_VERSION}): ${p}`,...f)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function fr(p){return(0,fe.m9)(p)}class ay{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,fe.ne)(d=>this.observer=d)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ta(p){return new Promise((f,d)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=f,m.onerror=E=>{const A=zn("internal-error");A.customData=E,d(A)},m.type="text/javascript",m.charset="UTF-8",function wR(){var p,f;return null!==(f=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==f?f:document}().appendChild(m)})}function II(p){return`__${p}${Math.floor(1e6*Math.random())}`}class cy{constructor(f){this.type="recaptcha-enterprise",this.auth=fr(f)}verify(f="verify",d=!1){var m=this;return(0,b.Z)(function*(){function A(){return A=(0,b.Z)(function*(Z){if(!d){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var xe=(0,b.Z)(function*(ze,at){Hr(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const Ln=new Ms(rt);return null==Z.tenantId?Z._agentRecaptchaConfig=Ln:Z._tenantRecaptchaConfigs[Z.tenantId]=Ln,ze(Ln.siteKey)}at(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{at(rt)})});return function(ze,at){return xe.apply(this,arguments)}}())}),A.apply(this,arguments)}function L(Z,xe,ze){const at=window.grecaptcha;os(at)?at.enterprise.ready(()=>{at.enterprise.execute(Z,{action:f}).then(rt=>{xe(rt)}).catch(()=>{xe("NO_RECAPTCHA")})}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,xe)=>{(function E(Z){return A.apply(this,arguments)})(m.auth).then(ze=>{if(!d&&os(window.grecaptcha))L(ze,Z,xe);else{if(typeof window>"u")return void xe(new Error("RecaptchaVerifier is only supported in browser"));Ta("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{L(ze,Z,xe)}).catch(at=>{xe(at)})}}).catch(ze=>{xe(ze)})})})()}}function TI(p,f,d){return K0.apply(this,arguments)}function K0(){return(K0=(0,b.Z)(function*(p,f,d,m=!1){const E=new cy(p);let A;try{A=yield E.verify(d)}catch{A=yield E.verify(d,!0)}const L=Object.assign({},f);return Object.assign(L,m?{captchaResp:A}:{captchaResponse:A}),Object.assign(L,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(L,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),L})).apply(this,arguments)}function Z0(p,f,d,m){return us.apply(this,arguments)}function us(){return us=(0,b.Z)(function*(p,f,d,m){var E;if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const A=yield TI(p,f,d,"getOobCode"===d);return m(p,A)}return m(p,f).catch(function(){var A=(0,b.Z)(function*(L){if("auth/missing-recaptcha-token"===L.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Z=yield TI(p,f,d,"getOobCode"===d);return m(p,Z)}return Promise.reject(L)});return function(L){return A.apply(this,arguments)}}())}),us.apply(this,arguments)}function AI(p){const f=p.indexOf(":");return f<0?"":p.substr(0,f+1)}function pf(p){if(!p)return null;const f=Number(p);return isNaN(f)?null:f}class Lc{constructor(f,d){this.providerId=f,this.signInMethod=d}toJSON(){return cr("not implemented")}_getIdTokenResponse(f){return cr("not implemented")}_linkToIdToken(f,d){return cr("not implemented")}_getReauthenticationResolver(f){return cr("not implemented")}}function ly(p,f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:resetPassword",De(p,f))})).apply(this,arguments)}function gf(p,f){return mf.apply(this,arguments)}function mf(){return(mf=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Y0(){return(Y0=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:update",De(p,f))})).apply(this,arguments)}function nn(p,f){return _f.apply(this,arguments)}function _f(){return(_f=(0,b.Z)(function*(p,f){return gt(p,"POST","/v1/accounts:signInWithPassword",De(p,f))})).apply(this,arguments)}function vf(p,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:sendOobCode",De(p,f))})).apply(this,arguments)}function hy(){return(hy=(0,b.Z)(function*(p,f){return vf(p,f)})).apply(this,arguments)}function qn(p,f){return py.apply(this,arguments)}function py(){return(py=(0,b.Z)(function*(p,f){return vf(p,f)})).apply(this,arguments)}function DR(p,f){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,b.Z)(function*(p,f){return vf(p,f)})).apply(this,arguments)}function yf(){return(yf=(0,b.Z)(function*(p,f){return vf(p,f)})).apply(this,arguments)}function xf(){return(xf=(0,b.Z)(function*(p,f){return gt(p,"POST","/v1/accounts:signInWithEmailLink",De(p,f))})).apply(this,arguments)}function Ef(){return(Ef=(0,b.Z)(function*(p,f){return gt(p,"POST","/v1/accounts:signInWithEmailLink",De(p,f))})).apply(this,arguments)}class nh extends Lc{constructor(f,d,m,E=null){super("password",m),this._email=f,this._password=d,this._tenantId=E}static _fromEmailAndPassword(f,d){return new nh(f,d,"password")}static _fromEmailAndCode(f,d,m=null){return new nh(f,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const d="string"==typeof f?JSON.parse(f):f;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(f){var d=this;return(0,b.Z)(function*(){switch(d.signInMethod){case"password":return Z0(f,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",nn);case"emailLink":return function gy(p,f){return xf.apply(this,arguments)}(f,{email:d._email,oobCode:d._password});default:Sn(f,"internal-error")}})()}_linkToIdToken(f,d){var m=this;return(0,b.Z)(function*(){switch(m.signInMethod){case"password":return gf(f,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function SI(p,f){return Ef.apply(this,arguments)}(f,{idToken:d,email:m._email,oobCode:m._password});default:Sn(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Za(p,f){return my.apply(this,arguments)}function my(){return(my=(0,b.Z)(function*(p,f){return gt(p,"POST","/v1/accounts:signInWithIdp",De(p,f))})).apply(this,arguments)}class Aa extends Lc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const d=new Aa(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(d.idToken=f.idToken),f.accessToken&&(d.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(d.nonce=f.nonce),f.pendingToken&&(d.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(d.accessToken=f.oauthToken,d.secret=f.oauthTokenSecret):Sn("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const d="string"==typeof f?JSON.parse(f):f,{providerId:m,signInMethod:E}=d,A=(0,ar._T)(d,["providerId","signInMethod"]);if(!m||!E)return null;const L=new Aa(m,E);return L.idToken=A.idToken||void 0,L.accessToken=A.accessToken||void 0,L.secret=A.secret,L.nonce=A.nonce,L.pendingToken=A.pendingToken||null,L}_getIdTokenResponse(f){return Za(f,this.buildRequest())}_linkToIdToken(f,d){const m=this.buildRequest();return m.idToken=d,Za(f,m)}_getReauthenticationResolver(f){const d=this.buildRequest();return d.autoCreate=!1,Za(f,d)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),f.postBody=(0,fe.xO)(d)}return f}}function If(){return(If=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:sendVerificationCode",De(p,f))})).apply(this,arguments)}function X0(){return(X0=(0,b.Z)(function*(p,f){return gt(p,"POST","/v1/accounts:signInWithPhoneNumber",De(p,f))})).apply(this,arguments)}function J0(){return(J0=(0,b.Z)(function*(p,f){const d=yield gt(p,"POST","/v1/accounts:signInWithPhoneNumber",De(p,f));if(d.temporaryProof)throw ii(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const _y={USER_NOT_FOUND:"user-not-found"};function eg(){return(eg=(0,b.Z)(function*(p,f){return gt(p,"POST","/v1/accounts:signInWithPhoneNumber",De(p,Object.assign(Object.assign({},f),{operation:"REAUTH"})),_y)})).apply(this,arguments)}class ls extends Lc{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,d){return new ls({verificationId:f,verificationCode:d})}static _fromTokenResponse(f,d){return new ls({phoneNumber:f,temporaryProof:d})}_getIdTokenResponse(f){return function rh(p,f){return X0.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,d){return function DI(p,f){return J0.apply(this,arguments)}(f,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Mu(p,f){return eg.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:d,verificationId:m,verificationCode:E}=this.params;return f&&d?{temporaryProof:f,phoneNumber:d}:{sessionInfo:m,code:E}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:d,verificationCode:m,phoneNumber:E,temporaryProof:A}=f;return m||d||E||A?new ls({verificationId:d,verificationCode:m,phoneNumber:E,temporaryProof:A}):null}}class Fu{constructor(f){var d,m,E,A,L,Z;const xe=(0,fe.zd)((0,fe.pd)(f)),ze=null!==(d=xe.apiKey)&&void 0!==d?d:null,at=null!==(m=xe.oobCode)&&void 0!==m?m:null,rt=function bI(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=xe.mode)&&void 0!==E?E:null);Ae(ze&&at&&rt,"argument-error"),this.apiKey=ze,this.operation=rt,this.code=at,this.continueUrl=null!==(A=xe.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(L=xe.languageCode)&&void 0!==L?L:null,this.tenantId=null!==(Z=xe.tenantId)&&void 0!==Z?Z:null}static parseLink(f){const d=function Be(p){const f=(0,fe.zd)((0,fe.pd)(p)).link,d=f?(0,fe.zd)((0,fe.pd)(f)).deep_link_id:null,m=(0,fe.zd)((0,fe.pd)(p)).deep_link_id;return(m?(0,fe.zd)((0,fe.pd)(m)).link:null)||m||d||f||p}(f);try{return new Fu(d)}catch{return null}}}let Ou=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,m){return nh._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const E=Fu.parseLink(m);return Ae(E,"argument-error"),nh._fromEmailAndCode(d,E.code,E.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class vo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class $o extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Lu extends $o{static credentialFromJSON(f){const d="string"==typeof f?JSON.parse(f):f;return Ae("providerId"in d&&"signInMethod"in d,"argument-error"),Aa._fromParams(d)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ae(f.idToken||f.accessToken,"argument-error"),Aa._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Lu.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Lu.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:E,pendingToken:A,nonce:L,providerId:Z}=f;if(!m&&!E&&!d&&!A||!Z)return null;try{return new Lu(Z)._credential({idToken:d,accessToken:m,nonce:L,pendingToken:A})}catch{return null}}}let vy=(()=>{class p extends $o{constructor(){super("facebook.com")}static credential(d){return Aa._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),yy=(()=>{class p extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return Aa._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:E}=d;if(!m&&!E)return null;try{return p.credential(m,E)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Go=(()=>{class p extends $o{constructor(){super("github.com")}static credential(d){return Aa._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Di extends Lc{constructor(f,d){super(f,f),this.pendingToken=d}_getIdTokenResponse(f){return Za(f,this.buildRequest())}_linkToIdToken(f,d){const m=this.buildRequest();return m.idToken=d,Za(f,m)}_getReauthenticationResolver(f){const d=this.buildRequest();return d.autoCreate=!1,Za(f,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const d="string"==typeof f?JSON.parse(f):f,{providerId:m,signInMethod:E,pendingToken:A}=d;return m&&E&&A&&m===E?new Di(m,A):null}static _create(f,d){return new Di(f,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class cn extends vo{constructor(f){Ae(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return cn.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return cn.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const d=Di.fromJSON(f);return Ae(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:d,providerId:m}=f;if(!d||!m)return null;try{return Di._create(m,d)}catch{return null}}}let Tf=(()=>{class p extends $o{constructor(){super("twitter.com")}static credential(d,m){return Aa._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:E}=d;if(!m||!E)return null;try{return p.credential(m,E)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function sh(p,f){return Af.apply(this,arguments)}function Af(){return(Af=(0,b.Z)(function*(p,f){return gt(p,"POST","/v1/accounts:signUp",De(p,f))})).apply(this,arguments)}class Vs{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,d,m,E=!1){return(0,b.Z)(function*(){const A=yield ye._fromIdTokenResponse(f,m,E),L=zo(m);return new Vs({user:A,providerId:L,_tokenResponse:m,operationType:d})})()}static _forOperation(f,d,m){return(0,b.Z)(function*(){yield f._updateTokensIfNecessary(m,!0);const E=zo(m);return new Vs({user:f,providerId:E,_tokenResponse:m,operationType:d})})()}}function zo(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function oh(){return(oh=(0,b.Z)(function*(p){var f;const d=fr(p);if(yield d._initializationPromise,null!==(f=d.currentUser)&&void 0!==f&&f.isAnonymous)return new Vs({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield sh(d,{returnSecureToken:!0}),E=yield Vs._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(E.user),E})).apply(this,arguments)}class Sf extends fe.ZR{constructor(f,d,m,E){var A;super(d.code,d.message),this.operationType=m,this.user=E,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:f.name,tenantId:null!==(A=f.tenantId)&&void 0!==A?A:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(f,d,m,E){return new Sf(f,d,m,E)}}function ah(p,f,d,m){return("reauthenticate"===f?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?Sf._fromErrorAndOperation(p,A,f,m):A})}function tg(p){return new Set(p.map(({providerId:f})=>f).filter(f=>!!f))}function Vc(){return Vc=(0,b.Z)(function*(p,f){const d=(0,fe.m9)(p);yield lh(!0,d,f);const{providerUserInfo:m}=yield function ff(p,f){return as.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[f]}),E=tg(m||[]);return d.providerData=d.providerData.filter(A=>E.has(A.providerId)),E.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Vc.apply(this,arguments)}function ch(p,f){return uh.apply(this,arguments)}function uh(){return(uh=(0,b.Z)(function*(p,f,d=!1){const m=yield no(p,f._linkToIdToken(p.auth,yield p.getIdToken()),d);return Vs._forOperation(p,"link",m)})).apply(this,arguments)}function lh(p,f,d){return fh.apply(this,arguments)}function fh(){return(fh=(0,b.Z)(function*(p,f,d){yield Gi(f);const E=!1===p?"provider-already-linked":"no-such-provider";Ae(tg(f.providerData).has(d)===p,f.auth,E)})).apply(this,arguments)}function Ey(p,f){return ng.apply(this,arguments)}function ng(){return(ng=(0,b.Z)(function*(p,f,d=!1){const{auth:m}=p,E="reauthenticate";try{const A=yield no(p,ah(m,E,f,p),d);Ae(A.idToken,m,"internal-error");const L=Du(A.idToken);Ae(L,m,"internal-error");const{sub:Z}=L;return Ae(p.uid===Z,m,"user-mismatch"),Vs._forOperation(p,E,A)}catch(A){throw"auth/user-not-found"===A?.code&&Sn(m,"user-mismatch"),A}})).apply(this,arguments)}function ro(p,f){return rg.apply(this,arguments)}function rg(){return(rg=(0,b.Z)(function*(p,f,d=!1){const m="signIn",E=yield ah(p,m,f),A=yield Vs._fromIdTokenResponse(p,m,E);return d||(yield p._updateCurrentUser(A.user)),A})).apply(this,arguments)}function Df(p,f){return ig.apply(this,arguments)}function ig(){return(ig=(0,b.Z)(function*(p,f){return ro(fr(p),f)})).apply(this,arguments)}function wy(p,f){return sg.apply(this,arguments)}function sg(){return(sg=(0,b.Z)(function*(p,f){const d=(0,fe.m9)(p);return yield lh(!1,d,f.providerId),ch(d,f)})).apply(this,arguments)}function Iy(p,f){return dh.apply(this,arguments)}function dh(){return(dh=(0,b.Z)(function*(p,f){return Ey((0,fe.m9)(p),f)})).apply(this,arguments)}function og(){return(og=(0,b.Z)(function*(p,f){return gt(p,"POST","/v1/accounts:signInWithCustomToken",De(p,f))})).apply(this,arguments)}function Sr(){return Sr=(0,b.Z)(function*(p,f){const d=fr(p),m=yield function kI(p,f){return og.apply(this,arguments)}(d,{token:f,returnSecureToken:!0}),E=yield Vs._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(E.user),E}),Sr.apply(this,arguments)}class bf{constructor(f,d){this.factorId=f,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(f,d){return"phoneInfo"in d?ag._fromServerResponse(f,d):"totpInfo"in d?cg._fromServerResponse(f,d):Sn(f,"internal-error")}}class ag extends bf{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,d){return new ag(d)}}class cg extends bf{constructor(f){super("totp",f)}static _fromServerResponse(f,d){return new cg(d)}}function Wi(p,f,d){var m;Ae((null===(m=d.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),Ae(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),f.continueUrl=d.url,f.dynamicLinkDomain=d.dynamicLinkDomain,f.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(Ae(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),f.iOSBundleId=d.iOS.bundleId),d.android&&(Ae(d.android.packageName.length>0,p,"missing-android-pkg-name"),f.androidInstallApp=d.android.installApp,f.androidMinimumVersionCode=d.android.minimumVersion,f.androidPackageName=d.android.packageName)}function ug(p){return hh.apply(this,arguments)}function hh(){return(hh=(0,b.Z)(function*(p){const f=fr(p);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function bi(){return(bi=(0,b.Z)(function*(p,f,d){const m=fr(p),E={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};d&&Wi(m,E,d),yield Z0(m,E,"getOobCode",qn)})).apply(this,arguments)}function Gr(){return Gr=(0,b.Z)(function*(p,f,d){yield ly((0,fe.m9)(p),{oobCode:f,newPassword:d}).catch(function(){var m=(0,b.Z)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&ug(p),E});return function(E){return m.apply(this,arguments)}}())}),Gr.apply(this,arguments)}function Ya(){return Ya=(0,b.Z)(function*(p,f){yield function fy(p,f){return Y0.apply(this,arguments)}((0,fe.m9)(p),{oobCode:f})}),Ya.apply(this,arguments)}function fs(p,f){return ph.apply(this,arguments)}function ph(){return(ph=(0,b.Z)(function*(p,f){const d=(0,fe.m9)(p),m=yield ly(d,{oobCode:f}),E=m.requestType;switch(Ae(E,d,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(m.mfaInfo,d,"internal-error");default:Ae(m.email,d,"internal-error")}let A=null;return m.mfaInfo&&(A=bf._fromServerResponse(fr(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:A},operation:E}})).apply(this,arguments)}function Vu(){return(Vu=(0,b.Z)(function*(p,f){const{data:d}=yield fs((0,fe.m9)(p),f);return d.email})).apply(this,arguments)}function lg(){return(lg=(0,b.Z)(function*(p,f,d){const m=fr(p),L=yield Z0(m,{returnSecureToken:!0,email:f,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sh).catch(xe=>{throw"auth/password-does-not-meet-requirements"===xe.code&&ug(p),xe}),Z=yield Vs._fromIdTokenResponse(m,"signIn",L);return yield m._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function Mt(){return(Mt=(0,b.Z)(function*(p,f,d){const m=fr(p),E={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function A(L,Z){Ae(Z.handleCodeInApp,m,"argument-error"),Z&&Wi(m,L,Z)})(E,d),yield Z0(m,E,"getOobCode",DR)})).apply(this,arguments)}function Bc(){return(Bc=(0,b.Z)(function*(p,f,d){const m=(0,fe.m9)(p),E=Ou.credentialWithLink(f,d||jr());return Ae(E._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Df(m,E)})).apply(this,arguments)}function Qa(){return(Qa=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:createAuthUri",De(p,f))})).apply(this,arguments)}function qo(){return qo=(0,b.Z)(function*(p,f){const m={identifier:f,continueUri:Uo()?jr():"http://localhost"},{signinMethods:E}=yield function ki(p,f){return Qa.apply(this,arguments)}((0,fe.m9)(p),m);return E||[]}),qo.apply(this,arguments)}function bt(){return bt=(0,b.Z)(function*(p,f){const d=(0,fe.m9)(p),E={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};f&&Wi(d.auth,E,f);const{email:A}=yield function dy(p,f){return hy.apply(this,arguments)}(d.auth,E);A!==p.email&&(yield p.reload())}),bt.apply(this,arguments)}function gh(){return gh=(0,b.Z)(function*(p,f,d){const m=(0,fe.m9)(p),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:f};d&&Wi(m.auth,A,d);const{email:L}=yield function Q0(p,f){return yf.apply(this,arguments)}(m.auth,A);L!==p.email&&(yield p.reload())}),gh.apply(this,arguments)}function dr(){return(dr=(0,b.Z)(function*(p,f){return de(p,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xa(){return Xa=(0,b.Z)(function*(p,{displayName:f,photoURL:d}){if(void 0===f&&void 0===d)return;const m=(0,fe.m9)(p),A={idToken:yield m.getIdToken(),displayName:f,photoUrl:d,returnSecureToken:!0},L=yield no(m,function Uu(p,f){return dr.apply(this,arguments)}(m.auth,A));m.displayName=L.displayName||null,m.photoURL=L.photoUrl||null;const Z=m.providerData.find(({providerId:xe})=>"password"===xe);Z&&(Z.displayName=m.displayName,Z.photoURL=m.photoURL),yield m._updateTokensIfNecessary(L)}),Xa.apply(this,arguments)}function fg(p,f,d){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,b.Z)(function*(p,f,d){const{auth:m}=p,A={idToken:yield p.getIdToken(),returnSecureToken:!0};f&&(A.email=f),d&&(A.password=d);const L=yield no(p,gf(m,A));yield p._updateTokensIfNecessary(L,!0)})).apply(this,arguments)}class Yo{constructor(f,d,m={}){this.isNewUser=f,this.providerId=d,this.profile=m}}class ju extends Yo{constructor(f,d,m,E){super(f,d,m),this.username=E}}class rn extends Yo{constructor(f,d){super(f,"facebook.com",d)}}class kR extends ju{constructor(f,d){super(f,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class dg extends Yo{constructor(f,d){super(f,"google.com",d)}}class Ay extends ju{constructor(f,d,m){super(f,"twitter.com",d,m)}}function Qo(p){const{user:f,_tokenResponse:d}=p;return f.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function Ca(p){var f,d;if(!p)return null;const{providerId:m}=p,E=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},A=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const L=null===(d=null===(f=Du(p.idToken))||void 0===f?void 0:f.firebase)||void 0===d?void 0:d.sign_in_provider;if(L)return new Yo(A,"anonymous"!==L&&"custom"!==L?L:null)}if(!m)return null;switch(m){case"facebook.com":return new rn(A,E);case"github.com":return new kR(A,E);case"google.com":return new dg(A,E);case"twitter.com":return new Ay(A,E,p.screenName||null);case"custom":case"anonymous":return new Yo(A,null);default:return new Yo(A,m,E)}}(d)}class Uc{constructor(f,d,m){this.type=f,this.credential=d,this.user=m}static _fromIdtoken(f,d){return new Uc("enroll",f,d)}static _fromMfaPendingCredential(f){return new Uc("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var d,m;if(f?.multiFactorSession){if(null!==(d=f.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Uc._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.idToken)return Uc._fromIdtoken(f.multiFactorSession.idToken)}return null}}class gg{constructor(f,d,m){this.session=f,this.hints=d,this.signInResolver=m}static _fromError(f,d){const m=fr(f),E=d.customData._serverResponse,A=(E.mfaInfo||[]).map(Z=>bf._fromServerResponse(m,Z));Ae(E.mfaPendingCredential,m,"internal-error");const L=Uc._fromMfaPendingCredential(E.mfaPendingCredential);return new gg(L,A,function(){var Z=(0,b.Z)(function*(xe){const ze=yield xe._process(m,L);delete E.mfaInfo,delete E.mfaPendingCredential;const at=Object.assign(Object.assign({},E),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(d.operationType){case"signIn":const rt=yield Vs._fromIdTokenResponse(m,d.operationType,at);return yield m._updateCurrentUser(rt.user),rt;case"reauthenticate":return Ae(d.user,m,"internal-error"),Vs._forOperation(d.user,d.operationType,at);default:Sn(m,"internal-error")}});return function(xe){return Z.apply(this,arguments)}}())}resolveSignIn(f){var d=this;return(0,b.Z)(function*(){return d.signInResolver(f)})()}}class Sy{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>bf._fromServerResponse(f.auth,m)))})}static _fromUser(f){return new Sy(f)}getSession(){var f=this;return(0,b.Z)(function*(){return Uc._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,d){var m=this;return(0,b.Z)(function*(){const E=f,A=yield m.getSession(),L=yield no(m.user,E._process(m.user.auth,A,d));return yield m.user._updateTokensIfNecessary(L),m.user.reload()})()}unenroll(f){var d=this;return(0,b.Z)(function*(){const m="string"==typeof f?f:f.uid,E=yield d.user.getIdToken();try{const A=yield no(d.user,function MR(p,f){return de(p,"POST","/v2/accounts/mfaEnrollment:withdraw",De(p,f))}(d.user.auth,{idToken:E,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:L})=>L!==m),yield d.user._updateTokensIfNecessary(A),yield d.user.reload()}catch(A){throw A}})()}}const Dy=new WeakMap,mg="__sak";class FI{constructor(f,d){this.storageRetriever=f,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,d){return this.storage.setItem(f,JSON.stringify(d)),Promise.resolve()}_get(f){const d=this.storage.getItem(f);return Promise.resolve(d?JSON.parse(d):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ff=(()=>{class p extends FI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function OR(){const p=(0,fe.z$)();return oi(p)||Ne(p)}()&&function $r(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const E=this.storage.getItem(m),A=this.localCache[m];E!==A&&d(m,A,E)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((Z,xe,ze)=>{this.notifyListeners(Z,ze)});const E=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(E);if(d.newValue!==Z)null!==d.newValue?this.storage.setItem(E,d.newValue):this.storage.removeItem(E);else if(this.localCache[E]===d.newValue&&!m)return}const A=()=>{const Z=this.storage.getItem(E);!m&&this.localCache[E]===Z||this.notifyListeners(E,Z)},L=this.storage.getItem(E);!function Xt(){return(0,fe.w1)()&&10===document.documentMode}()||L===d.newValue||d.newValue===d.oldValue?A():setTimeout(A,10)}notifyListeners(d,m){this.localCache[d]=m;const E=this.listeners[d];if(E)for(const A of Array.from(E))A(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var E=()=>super._set,A=this;return(0,b.Z)(function*(){yield E().call(A,d,m),A.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,E=this;return(0,b.Z)(function*(){const A=yield m().call(E,d);return E.localCache[d]=JSON.stringify(A),A})()}_remove(d){var m=()=>super._remove,E=this;return(0,b.Z)(function*(){yield m().call(E,d),delete E.localCache[d]})()}}return p.type="LOCAL",p})(),jc=(()=>{class p extends FI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return p.type="SESSION",p})();let UR=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(A=>A.isListeningto(d));if(m)return m;const E=new p(d);return this.receivers.push(E),E}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,b.Z)(function*(){const E=d,{eventId:A,eventType:L,data:Z}=E.data,xe=m.handlersMap[L];if(!xe?.size)return;E.ports[0].postMessage({status:"ack",eventId:A,eventType:L});const ze=Array.from(xe).map(function(){var rt=(0,b.Z)(function*(Ln){return Ln(E.origin,Z)});return function(Ln){return rt.apply(this,arguments)}}()),at=yield function BR(p){return Promise.all(p.map(function(){var f=(0,b.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return f.apply(this,arguments)}}()))}(ze);E.ports[0].postMessage({status:"done",eventId:A,eventType:L,response:at})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function xo(p="",f=10){let d="";for(let m=0;m<f;m++)d+=Math.floor(10*Math.random());return p+d}class Ja{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,d,m=50){var E=this;return(0,b.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let L,Z;return new Promise((xe,ze)=>{const at=xo("",20);A.port1.start();const rt=setTimeout(()=>{ze(new Error("unsupported_event"))},m);Z={messageChannel:A,onMessage(Ln){const Io=Ln;if(Io.data.eventId===at)switch(Io.data.status){case"ack":clearTimeout(rt),L=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(L),xe(Io.data.response);break;default:clearTimeout(rt),clearTimeout(L),ze(new Error("invalid_response"))}}},E.handlers.add(Z),A.port1.addEventListener("message",Z.onMessage),E.target.postMessage({eventType:f,eventId:at,data:d},[A.port2])}).finally(()=>{Z&&E.removeMessageHandler(Z)})})()}}function zr(){return window}function qr(){return typeof zr().WorkerGlobalScope<"u"&&"function"==typeof zr().importScripts}function ps(){return(ps=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _g="firebaseLocalStorageDb",$u="firebaseLocalStorage",vg="fbase_key";class Hc{constructor(f){this.request=f}toPromise(){return new Promise((f,d)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Gu(p,f){return p.transaction([$u],f?"readwrite":"readonly").objectStore($u)}function vh(){const p=indexedDB.open(_g,1);return new Promise((f,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore($u,{keyPath:vg})}catch(E){d(E)}}),p.addEventListener("success",(0,b.Z)(function*(){const m=p.result;m.objectStoreNames.contains($u)?f(m):(m.close(),yield function Py(){const p=indexedDB.deleteDatabase(_g);return new Hc(p).toPromise()}(),f(yield vh()))}))})}function yg(p,f,d){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,b.Z)(function*(p,f,d){const m=Gu(p,!0).put({[vg]:f,value:d});return new Hc(m).toPromise()})).apply(this,arguments)}function ec(){return(ec=(0,b.Z)(function*(p,f){const d=Gu(p,!1).get(f),m=yield new Hc(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function xg(p,f){const d=Gu(p,!0).delete(f);return new Hc(d).toPromise()}const zu=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,b.Z)(function*(){return d.db||(d.db=yield vh()),d.db})()}_withRetries(d){var m=this;return(0,b.Z)(function*(){let E=0;for(;;)try{const A=yield m._openDb();return yield d(A)}catch(A){if(E++>3)throw A;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,b.Z)(function*(){return qr()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,b.Z)(function*(){d.receiver=UR._getInstance(function ky(){return qr()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,b.Z)(function*(E,A){return{keyProcessed:(yield d._poll()).includes(A.key)}});return function(E,A){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,b.Z)(function*(E,A){return["keyChanged"]});return function(E,A){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,b.Z)(function*(){var m,E;if(d.activeServiceWorker=yield function _h(){return ps.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Ja(d.activeServiceWorker);const A=yield d.sender._send("ping",{},800);A&&null!==(m=A[0])&&void 0!==m&&m.fulfilled&&null!==(E=A[0])&&void 0!==E&&E.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,b.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function by(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const d=yield vh();return yield yg(d,mg,"1"),yield xg(d,mg),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,b.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var E=this;return(0,b.Z)(function*(){return E._withPendingWrite((0,b.Z)(function*(){return yield E._withRetries(A=>yg(A,d,m)),E.localCache[d]=m,E.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,b.Z)(function*(){const E=yield m._withRetries(A=>function Of(p,f){return ec.apply(this,arguments)}(A,d));return m.localCache[d]=E,E})()}_remove(d){var m=this;return(0,b.Z)(function*(){return m._withPendingWrite((0,b.Z)(function*(){return yield m._withRetries(E=>xg(E,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,b.Z)(function*(){const m=yield d._withRetries(L=>{const Z=Gu(L,!1).getAll();return new Hc(Z).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const E=[],A=new Set;for(const{fbase_key:L,value:Z}of m)A.add(L),JSON.stringify(d.localCache[L])!==JSON.stringify(Z)&&(d.notifyListeners(L,Z),E.push(L));for(const L of Object.keys(d.localCache))d.localCache[L]&&!A.has(L)&&(d.notifyListeners(L,null),E.push(L));return E})()}notifyListeners(d,m){this.localCache[d]=m;const E=this.listeners[d];if(E)for(const A of Array.from(E))A(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),qu=1e12;class WR{constructor(f){this.auth=f,this.counter=qu,this._widgets=new Map}render(f,d){const m=this.counter;return this._widgets.set(m,new zR(f,this.auth.name,d||{})),this.counter++,m}reset(f){var d;const m=f||qu;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(f){var d;return(null===(d=this._widgets.get(f||qu))||void 0===d?void 0:d.getResponse())||""}execute(f){var d=this;return(0,b.Z)(function*(){var m;return null===(m=d._widgets.get(f||qu))||void 0===m||m.execute(),""})()}}class zR{constructor(f,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof f?document.getElementById(f):f;Ae(E,"argument-error",{appName:d}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function BI(p){const f=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)f.push(d.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":d}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yh=II("rcb"),My=new Ho(3e4,6e4);class jI{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=zr().grecaptcha)||void 0===f||!f.render)}load(f,d=""){return Ae(function HI(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),f,"argument-error"),this.shouldResolveImmediately(d)&&$i(zr().grecaptcha)?Promise.resolve(zr().grecaptcha):new Promise((m,E)=>{const A=zr().setTimeout(()=>{E(zn(f,"network-request-failed"))},My.get());zr()[yh]=()=>{zr().clearTimeout(A),delete zr()[yh];const Z=zr().grecaptcha;if(!Z||!$i(Z))return void E(zn(f,"internal-error"));const xe=Z.render;Z.render=(ze,at)=>{const rt=xe(ze,at);return this.counter++,rt},this.hostLanguage=d,m(Z)},Ta(`https://www.google.com/recaptcha/api.js??${(0,fe.xO)({onload:yh,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(A),E(zn(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var d;return!(null===(d=zr().grecaptcha)||void 0===d||!d.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fy{load(f){return(0,b.Z)(function*(){return new WR(f)})()}clearedOneInstance(){}}const Oy="recaptcha",Ly={theme:"light",type:"image"};class $I{constructor(f,d,m=Object.assign({},Ly)){this.parameters=m,this.type=Oy,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(f),this.isInvisible="invisible"===this.parameters.size,Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof d?document.getElementById(d):d;Ae(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fy:new jI,this.validateStartingState()}verify(){var f=this;return(0,b.Z)(function*(){f.assertNotDestroyed();const d=yield f.render(),m=f.getAssertedRecaptcha();return m.getResponse(d)||new Promise(A=>{const L=Z=>{Z&&(f.tokenChangeListeners.delete(L),A(Z))};f.tokenChangeListeners.add(L),f.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof f)f(d);else if("string"==typeof f){const m=zr()[f];"function"==typeof m&&m(d)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,b.Z)(function*(){if(yield f.init(),!f.widgetId){let d=f.container;if(!f.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}f.widgetId=f.getAssertedRecaptcha().render(d,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,b.Z)(function*(){Ae(Uo()&&!qr(),f.auth,"internal-error"),yield function qR(){let p=null;return new Promise(f=>{"complete"!==document.readyState?(p=()=>f(),window.addEventListener("load",p)):f()}).catch(f=>{throw p&&window.removeEventListener("load",p),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const d=yield function uf(p){return Ea.apply(this,arguments)}(f.auth);Ae(d,f.auth,"internal-error"),f.parameters.sitekey=d})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wg{constructor(f,d){this.verificationId=f,this.onConfirmation=d}confirm(f){const d=ls._fromVerification(this.verificationId,f);return this.onConfirmation(d)}}function xh(){return(xh=(0,b.Z)(function*(p,f,d){const m=fr(p),E=yield wh(m,f,(0,fe.m9)(d));return new wg(E,A=>Df(m,A))})).apply(this,arguments)}function Ig(){return(Ig=(0,b.Z)(function*(p,f,d){const m=(0,fe.m9)(p);yield lh(!1,m,"phone");const E=yield wh(m.auth,f,(0,fe.m9)(d));return new wg(E,A=>wy(m,A))})).apply(this,arguments)}function Eh(){return(Eh=(0,b.Z)(function*(p,f,d){const m=(0,fe.m9)(p),E=yield wh(m.auth,f,(0,fe.m9)(d));return new wg(E,A=>Iy(m,A))})).apply(this,arguments)}function wh(p,f,d){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,b.Z)(function*(p,f,d){var m;const E=yield d.verify();try{let A;if(Ae("string"==typeof E,p,"argument-error"),Ae(d.type===Oy,p,"argument-error"),A="string"==typeof f?{phoneNumber:f}:f,"session"in A){const L=A.session;if("phoneNumber"in A)return Ae("enroll"===L.type,p,"internal-error"),(yield function NI(p,f){return de(p,"POST","/v2/accounts/mfaEnrollment:start",De(p,f))}(p,{idToken:L.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{Ae("signin"===L.type,p,"internal-error");const Z=(null===(m=A.multiFactorHint)||void 0===m?void 0:m.uid)||A.multiFactorUid;return Ae(Z,p,"missing-multi-factor-info"),(yield function LI(p,f){return de(p,"POST","/v2/accounts/mfaSignIn:start",De(p,f))}(p,{mfaPendingCredential:L.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:L}=yield function wf(p,f){return If.apply(this,arguments)}(p,{phoneNumber:A.phoneNumber,recaptchaToken:E});return L}}finally{d._reset()}}),Lf.apply(this,arguments)}function so(){return(so=(0,b.Z)(function*(p,f){yield ch((0,fe.m9)(p),f)})).apply(this,arguments)}let Ku=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=fr(d)}verifyPhoneNumber(d,m){return wh(this.auth,d,(0,fe.m9)(m))}static credential(d,m){return ls._fromVerification(d,m)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:E}=d;return m&&E?ls._fromTokenResponse(m,E):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function tc(p,f){return f?me(f):(Ae(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Rn extends Lc{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Za(f,this._buildIdpRequest())}_linkToIdToken(f,d){return Za(f,this._buildIdpRequest(d))}_getReauthenticationResolver(f){return Za(f,this._buildIdpRequest())}_buildIdpRequest(f){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(d.idToken=f),d}}function Tg(p){return ro(p.auth,new Rn(p),p.bypassAuthState)}function Ih(p){const{auth:f,user:d}=p;return Ae(d,f,"internal-error"),Ey(d,new Rn(p),p.bypassAuthState)}function gs(p){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,b.Z)(function*(p){const{auth:f,user:d}=p;return Ae(d,f,"internal-error"),ch(d,new Rn(p),p.bypassAuthState)})).apply(this,arguments)}class Cg{constructor(f,d,m,E,A=!1){this.auth=f,this.resolver=m,this.user=E,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var f=this;return new Promise(function(){var d=(0,b.Z)(function*(m,E){f.pendingPromise={resolve:m,reject:E};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(A){f.reject(A)}});return function(m,E){return d.apply(this,arguments)}}())}onAuthEvent(f){var d=this;return(0,b.Z)(function*(){const{urlResponse:m,sessionId:E,postBody:A,tenantId:L,error:Z,type:xe}=f;if(Z)return void d.reject(Z);const ze={auth:d.auth,requestUri:m,sessionId:E,tenantId:L||void 0,postBody:A||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(xe)(ze))}catch(at){d.reject(at)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Tg;case"linkViaPopup":case"linkViaRedirect":return gs;case"reauthViaPopup":case"reauthViaRedirect":return Ih;default:Sn(this.auth,"internal-error")}}resolve(f){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zu=new Ho(2e3,1e4);function Sg(){return(Sg=(0,b.Z)(function*(p,f,d){const m=fr(p);$t(p,f,vo);const E=tc(m,d);return new bg(m,"signInViaPopup",f,E).executeNotNull()})).apply(this,arguments)}function Dg(){return(Dg=(0,b.Z)(function*(p,f,d){const m=(0,fe.m9)(p);$t(m.auth,f,vo);const E=tc(m.auth,d);return new bg(m.auth,"reauthViaPopup",f,E,m).executeNotNull()})).apply(this,arguments)}function Th(){return(Th=(0,b.Z)(function*(p,f,d){const m=(0,fe.m9)(p);$t(m.auth,f,vo);const E=tc(m.auth,d);return new bg(m.auth,"linkViaPopup",f,E,m).executeNotNull()})).apply(this,arguments)}let bg=(()=>{class p extends Cg{constructor(d,m,E,A,L){super(d,m,A,L),this.provider=E,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,b.Z)(function*(){const m=yield d.execute();return Ae(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,b.Z)(function*(){er(1===d.filter.length,"Popup operations only handle one event");const m=xo();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(E=>{d.reject(E)}),d.resolver._isIframeWebStorageSupported(d.auth,E=>{E||d.reject(zn(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,E;this.pollId=null!==(E=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Zu.get())};d()}}return p.currentPopupAction=null,p})();const By="pendingRedirect",Yu=new Map;class Uy extends Cg{constructor(f,d,m=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var f=()=>super.execute,d=this;return(0,b.Z)(function*(){let m=Yu.get(d.auth._key());if(!m){try{const A=(yield function qI(p,f){return wt.apply(this,arguments)}(d.resolver,d.auth))?yield f().call(d):null;m=()=>Promise.resolve(A)}catch(E){m=()=>Promise.reject(E)}Yu.set(d.auth._key(),m)}return d.bypassAuthState||Yu.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(f){var d=()=>super.onAuthEvent,m=this;return(0,b.Z)(function*(){if("signInViaRedirect"===f.type)return d().call(m,f);if("unknown"!==f.type){if(f.eventId){const E=yield m.auth._redirectUserForId(f.eventId);if(E)return m.user=E,d().call(m,f);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function wt(){return(wt=(0,b.Z)(function*(p,f){const d=Rg(f),m=Hy(p);if(!(yield m._isAvailable()))return!1;const E="true"===(yield m._get(d));return yield m._remove(d),E})).apply(this,arguments)}function Ah(p,f){return jy.apply(this,arguments)}function jy(){return(jy=(0,b.Z)(function*(p,f){return Hy(p)._set(Rg(f),"true")})).apply(this,arguments)}function kg(p,f){Yu.set(p._key(),f)}function Hy(p){return me(p._redirectPersistence)}function Rg(p){return Qt(By,p.config.apiKey,p.name)}function Qu(p,f,d){return function ZI(p,f,d){return Pg.apply(this,arguments)}(p,f,d)}function Pg(){return(Pg=(0,b.Z)(function*(p,f,d){const m=fr(p);$t(p,f,vo),yield m._initializationPromise;const E=tc(m,d);return yield Ah(E,m),E._openRedirect(m,f,"signInViaRedirect")})).apply(this,arguments)}function YI(p,f,d){return function QI(p,f,d){return Ng.apply(this,arguments)}(p,f,d)}function Ng(){return(Ng=(0,b.Z)(function*(p,f,d){const m=(0,fe.m9)(p);$t(m.auth,f,vo),yield m.auth._initializationPromise;const E=tc(m.auth,d);yield Ah(E,m.auth);const A=yield Eo(m);return E._openRedirect(m.auth,f,"reauthViaRedirect",A)})).apply(this,arguments)}function be(p,f,d){return function mn(p,f,d){return Sa.apply(this,arguments)}(p,f,d)}function Sa(){return(Sa=(0,b.Z)(function*(p,f,d){const m=(0,fe.m9)(p);$t(m.auth,f,vo),yield m.auth._initializationPromise;const E=tc(m.auth,d);yield lh(!1,m,f.providerId),yield Ah(E,m.auth);const A=yield Eo(m);return E._openRedirect(m.auth,f,"linkViaRedirect",A)})).apply(this,arguments)}function Kr(){return(Kr=(0,b.Z)(function*(p,f){return yield fr(p)._initializationPromise,Vf(p,f,!1)})).apply(this,arguments)}function Vf(p,f){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,b.Z)(function*(p,f,d=!1){const m=fr(p),E=tc(m,f),L=yield new Uy(m,E,d).execute();return L&&!d&&(delete L.user._redirectEventId,yield m._persistUserIfCurrent(L.user),yield m._setRedirectUser(null,f)),L})).apply(this,arguments)}function Eo(p){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,b.Z)(function*(p){const f=xo(`${p.uid}:::`);return p._redirectEventId=f,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),f})).apply(this,arguments)}class $y{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(f,m)&&(d=!0,this.sendToConsumer(f,m),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function qi(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fg(p);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=f,d=!0)),d}sendToConsumer(f,d){var m;if(f.error&&!Fg(f)){const E=(null===(m=f.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(zn(this.auth,E))}else d.onAuthEvent(f)}isEventForConsumer(f,d){const m=null===d.eventId||!!f.eventId&&f.eventId===d.eventId;return d.filter.includes(f.type)&&m}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(XI(f))}saveEventToCache(f){this.cachedEventUids.add(XI(f)),this.lastProcessedEventTime=Date.now()}}function XI(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(f=>f).join("-")}function Fg({type:p,error:f}){return"unknown"===p&&"auth/no-auth-event"===f?.code}function Jo(p){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,b.Z)(function*(p,f={}){return de(p,"GET","/v1/projects",f)})).apply(this,arguments)}const Xu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Da=/^https?/;function Sh(){return(Sh=(0,b.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:f}=yield Jo(p);for(const d of f)try{if(eT(d))return}catch{}Sn(p,"unauthorized-domain")})).apply(this,arguments)}function eT(p){const f=jr(),{protocol:d,hostname:m}=new URL(f);if(p.startsWith("chrome-extension://")){const L=new URL(p);return""===L.hostname&&""===m?"chrome-extension:"===d&&p.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===d&&L.hostname===m}if(!Da.test(d))return!1;if(Xu.test(p))return m===p;const E=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(m)}const tT=new Ho(3e4,6e4);function Dh(){const p=zr().___jsl;if(p?.H)for(const f of Object.keys(p.H))if(p.H[f].r=p.H[f].r||[],p.H[f].L=p.H[f].L||[],p.H[f].r=[...p.H[f].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let Uf=null;const nT=new Ho(5e3,15e3),Gy="__/auth/iframe",Vg="emulator/auth/iframe",Wy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qy(p){const f=p.config;Ae(f.authDomain,p,"auth-domain-config-required");const d=f.emulator?se(f,Vg):`https://${p.config.authDomain}/${Gy}`,m={apiKey:f.apiKey,appName:p.name,v:St.SDK_VERSION},E=zy.get(p.config.apiHost);E&&(m.eid=E);const A=p._getFrameworks();return A.length&&(m.fw=A.join(",")),`${d}?${(0,fe.xO)(m).slice(1)}`}function jf(){return jf=(0,b.Z)(function*(p){const f=yield function Lg(p){return Uf=Uf||function Og(p){return new Promise((f,d)=>{var m,E,A;function L(){Dh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dh(),d(zn(p,"network-request-failed"))},timeout:tT.get()})}if(null!==(E=null===(m=zr().gapi)||void 0===m?void 0:m.iframes)&&void 0!==E&&E.Iframe)f(gapi.iframes.getContext());else{if(null===(A=zr().gapi)||void 0===A||!A.load){const Z=II("iframefcb");return zr()[Z]=()=>{gapi.load?L():d(zn(p,"network-request-failed"))},Ta(`https://apis.google.com/js/api.js?onload=${Z}`).catch(xe=>d(xe))}L()}}).catch(f=>{throw Uf=null,f})}(p),Uf}(p),d=zr().gapi;return Ae(d,p,"internal-error"),f.open({where:document.body,url:qy(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wy,dontclear:!0},m=>new Promise(function(){var E=(0,b.Z)(function*(A,L){yield m.restyle({setHideOnLeave:!1});const Z=zn(p,"network-request-failed"),xe=zr().setTimeout(()=>{L(Z)},nT.get());function ze(){zr().clearTimeout(xe),A(m)}m.ping(ze).then(ze,()=>{L(Z)})});return function(A,L){return E.apply(this,arguments)}}()))}),jf.apply(this,arguments)}const rT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zy{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const aT="__/auth/handler",Yy="emulator/auth/handler",Qy=encodeURIComponent("fac");function Ju(p,f,d,m,E,A){return ea.apply(this,arguments)}function ea(){return(ea=(0,b.Z)(function*(p,f,d,m,E,A){Ae(p.config.authDomain,p,"auth-domain-config-required"),Ae(p.config.apiKey,p,"invalid-api-key");const L={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:m,v:St.SDK_VERSION,eventId:E};if(f instanceof vo){f.setDefaultLanguage(p.languageCode),L.providerId=f.providerId||"",(0,fe.xb)(f.getCustomParameters())||(L.customParameters=JSON.stringify(f.getCustomParameters()));for(const[at,rt]of Object.entries(A||{}))L[at]=rt}if(f instanceof $o){const at=f.getScopes().filter(rt=>""!==rt);at.length>0&&(L.scopes=at.join(","))}p.tenantId&&(L.tid=p.tenantId);const Z=L;for(const at of Object.keys(Z))void 0===Z[at]&&delete Z[at];const xe=yield p._getAppCheckToken(),ze=xe?`#${Qy}=${encodeURIComponent(xe)}`:"";return`${function cT({config:p}){return p.emulator?se(p,Yy):`https://${p.authDomain}/${aT}`}(p)}?${(0,fe.xO)(Z).slice(1)}${ze}`})).apply(this,arguments)}const el="webStorageSupport",Hf=class bh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jc,this._completeRedirectFn=Vf,this._overrideRedirectResult=kg}_openPopup(f,d,m,E){var A=this;return(0,b.Z)(function*(){var L;er(null===(L=A.eventManagers[f._key()])||void 0===L?void 0:L.manager,"_initialize() not called before _openPopup()");const Z=yield Ju(f,d,m,jr(),E);return function sT(p,f,d,m=500,E=600){const A=Math.max((window.screen.availHeight-E)/2,0).toString(),L=Math.max((window.screen.availWidth-m)/2,0).toString();let Z="";const xe=Object.assign(Object.assign({},rT),{width:m.toString(),height:E.toString(),top:A,left:L}),ze=(0,fe.z$)().toLowerCase();d&&(Z=On(ze)?"_blank":d),ht(ze)&&(f=f||"http://localhost",xe.scrollbars="yes");const at=Object.entries(xe).reduce((Ln,[Io,Qg])=>`${Ln}${Io}=${Qg},`,"");if(function Lt(p=(0,fe.z$)()){var f;return Ne(p)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ze)&&"_self"!==Z)return function oT(p,f){const d=document.createElement("a");d.href=p,d.target=f;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(f||"",Z),new Zy(null);const rt=window.open(f||"",Z,at);Ae(rt,p,"popup-blocked");try{rt.focus()}catch{}return new Zy(rt)}(f,Z,xo())})()}_openRedirect(f,d,m,E){var A=this;return(0,b.Z)(function*(){return yield A._originValidation(f),function jR(p){zr().location.href=p}(yield Ju(f,d,m,jr(),E)),new Promise(()=>{})})()}_initialize(f){const d=f._key();if(this.eventManagers[d]){const{manager:E,promise:A}=this.eventManagers[d];return E?Promise.resolve(E):(er(A,"If manager is not set, promise should be"),A)}const m=this.initAndGetManager(f);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(f){var d=this;return(0,b.Z)(function*(){const m=yield function Ky(p){return jf.apply(this,arguments)}(f),E=new $y(f);return m.register("authEvent",A=>(Ae(A?.authEvent,f,"invalid-auth-event"),{status:E.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[f._key()]={manager:E},d.iframes[f._key()]=m,E})()}_isIframeWebStorageSupported(f,d){this.iframes[f._key()].send(el,{type:el},E=>{var A;const L=null===(A=E?.[0])||void 0===A?void 0:A[el];void 0!==L&&d(!!L),Sn(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const d=f._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function JI(p){return Sh.apply(this,arguments)}(f)),this.originValidationPromises[d]}get _shouldInitProactively(){return ge()||oi()||Ne()}};class Bg{constructor(f){this.factorId=f}_process(f,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(f,d.credential,m);case"signin":return this._finalizeSignIn(f,d.credential);default:return cr("unexpected MultiFactorSessionType")}}}class kh extends Bg{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new kh(f)}_finalizeEnroll(f,d,m){return function MI(p,f){return de(p,"POST","/v2/accounts/mfaEnrollment:finalize",De(p,f))}(f,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,d){return function GR(p,f){return de(p,"POST","/v2/accounts/mfaSignIn:finalize",De(p,f))}(f,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xy=(()=>{class p{constructor(){}static assertion(d){return kh._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var uT="@firebase/auth";class ZR{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var d=this;return(0,b.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const d=this.auth.onIdTokenChanged(m=>{f(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,d),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const d=this.internalListeners.get(f);d&&(this.internalListeners.delete(f),d(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wo(){return window}(0,fe.Pz)("authIdTokenMaxAge"),function fT(p){(0,St._registerComponent)(new Er.wA("auth",(f,{options:d})=>{const m=f.getProvider("app").getImmediate(),E=f.getProvider("heartbeat"),A=f.getProvider("app-check-internal"),{apiKey:L,authDomain:Z}=m.options;Ae(L&&!L.includes(":"),"invalid-api-key",{appName:m.name});const xe={apiKey:L,authDomain:Z,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lt(p)},ze=new Os(m,E,A,xe);return function SR(p,f){const d=f?.persistence||[],m=(Array.isArray(d)?d:[d]).map(me);f?.errorMap&&p._updateErrorMap(f.errorMap),p._initializeWithPersistence(m,f?.popupRedirectResolver)}(ze,d),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,d,m)=>{f.getProvider("auth-internal").initialize()})),(0,St._registerComponent)(new Er.wA("auth-internal",f=>{const d=fr(f.getProvider("auth").getImmediate());return new ZR(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,St.registerVersion)(uT,"1.3.2",function lT(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,St.registerVersion)(uT,"1.3.2","esm2017")}("Browser");function Jy(){return Jy=(0,b.Z)(function*(p,f,d){var m;const{BuildInfo:E}=wo();er(f.sessionId,"AuthEvent did not contain a session ID");const A=yield function Hg(p){return Lh.apply(this,arguments)}(f.sessionId),L={};return Ne()?L.ibi=E.packageName:Oc()?L.apn=E.packageName:Sn(p,"operation-not-supported-in-this-environment"),E.displayName&&(L.appDisplayName=E.displayName),L.sessionId=A,Ju(p,d,f.type,void 0,null!==(m=f.eventId)&&void 0!==m?m:void 0,L)}),Jy.apply(this,arguments)}function Fh(){return(Fh=(0,b.Z)(function*(p){const{BuildInfo:f}=wo(),d={};Ne()?d.iosBundleId=f.packageName:Oc()?d.androidPackageName=f.packageName:Sn(p,"operation-not-supported-in-this-environment"),yield Jo(p,d)})).apply(this,arguments)}function jg(){return(jg=(0,b.Z)(function*(p,f,d){const{cordova:m}=wo();let E=()=>{};try{yield new Promise((A,L)=>{let Z=null;function xe(){var rt;A();const Ln=null===(rt=m.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Ln&&Ln(),"function"==typeof d?.close&&d.close()}function ze(){Z||(Z=window.setTimeout(()=>{L(zn(p,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===document?.visibilityState&&ze()}f.addPassiveListener(xe),document.addEventListener("resume",ze,!1),Oc()&&document.addEventListener("visibilitychange",at,!1),E=()=>{f.removePassiveListener(xe),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",at,!1),Z&&window.clearTimeout(Z)}})}finally{E()}})).apply(this,arguments)}function Lh(){return(Lh=(0,b.Z)(function*(p){const f=function Vh(p){if(er(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const f=new ArrayBuffer(p.length),d=new Uint8Array(f);for(let m=0;m<p.length;m++)d[m]=p.charCodeAt(m);return d}(p),d=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(d)).map(E=>E.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class hT extends $y{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(f)),super.onEvent(f)}initialized(){var f=this;return(0,b.Z)(function*(){yield f.initPromise})()}}function Gg(p){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,b.Z)(function*(p){const f=yield ba()._get(Wg(p));return f&&(yield ba()._remove(Wg(p))),f})).apply(this,arguments)}function Uh(){const p=[];for(let d=0;d<20;d++){const m=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return p.join("")}function ba(){return me(Ff)}function Wg(p){return Qt("authEvent",p.config.apiKey,p.name)}function ic(p){if(!p?.includes("?"))return{};const[f,...d]=p.split("?");return(0,fe.zd)(d.join("?"))}const mT=class Zi{constructor(){this._redirectPersistence=jc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vf,this._overrideRedirectResult=kg}_initialize(f){var d=this;return(0,b.Z)(function*(){const m=f._key();let E=d.eventManagers.get(m);return E||(E=new hT(f),d.eventManagers.set(m,E),d.attachCallbackListeners(f,E)),E})()}_openPopup(f){Sn(f,"operation-not-supported-in-this-environment")}_openRedirect(f,d,m,E){var A=this;return(0,b.Z)(function*(){!function Oh(p){var f,d,m,E,A,L,Z,xe,ze,at;const rt=wo();Ae("function"==typeof(null===(f=rt?.universalLinks)||void 0===f?void 0:f.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(typeof(null===(d=rt?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(A=null===(E=null===(m=rt?.cordova)||void 0===m?void 0:m.plugins)||void 0===E?void 0:E.browsertab)||void 0===A?void 0:A.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(xe=null===(Z=null===(L=rt?.cordova)||void 0===L?void 0:L.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===xe?void 0:xe.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(at=null===(ze=rt?.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===at?void 0:at.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const L=yield A._initialize(f);yield L.initialized(),L.resetRedirect(),function KI(){Yu.clear()}(),yield A._originValidation(f);const Z=function t1(p,f,d=null){return{type:f,eventId:d,urlResponse:null,sessionId:Uh(),postBody:null,tenantId:p.tenantId,error:zn(p,"no-auth-event")}}(f,m,E);yield function n1(p,f){return ba()._set(Wg(p),f)}(f,Z);const xe=yield function Mh(p,f,d){return Jy.apply(this,arguments)}(f,Z,d),ze=yield function dT(p){const{cordova:f}=wo();return new Promise(d=>{f.plugins.browsertab.isAvailable(m=>{let E=null;m?f.plugins.browsertab.openUrl(p):E=f.InAppBrowser.open(p,function mt(p=(0,fe.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(E)})})}(xe);return function ta(p,f,d){return jg.apply(this,arguments)}(f,L,ze)})()}_isIframeWebStorageSupported(f,d){throw new Error("Method not implemented.")}_originValidation(f){const d=f._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function e1(p){return Fh.apply(this,arguments)}(f)),this.originValidationPromises[d]}attachCallbackListeners(f,d){const{universalLinks:m,handleOpenURL:E,BuildInfo:A}=wo(),L=setTimeout((0,b.Z)(function*(){yield Gg(f),d.onEvent(ai())}),500),Z=function(){var at=(0,b.Z)(function*(rt){clearTimeout(L);const Ln=yield Gg(f);let Io=null;Ln&&rt?.url&&(Io=function pT(p,f){var d,m;const E=function i1(p){const f=ic(p),d=f.link?decodeURIComponent(f.link):void 0,m=ic(d).link,E=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ic(E).link||E||m||d||p}(f);if(E.includes("/__/auth/callback")){const A=ic(E),L=A.firebaseError?function r1(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(A.firebaseError)):null,Z=null===(m=null===(d=L?.code)||void 0===d?void 0:d.split("auth/"))||void 0===m?void 0:m[1],xe=Z?zn(Z):null;return xe?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:E,postBody:null}}return null}(Ln,rt.url)),d.onEvent(Io||ai())});return function(Ln){return at.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,Z);const xe=E,ze=`${A.packageName.toLowerCase()}://`;wo().handleOpenURL=function(){var at=(0,b.Z)(function*(rt){if(rt.toLowerCase().startsWith(ze)&&Z({url:rt}),"function"==typeof xe)try{xe(rt)}catch(Ln){console.error(Ln)}});return function(rt){return at.apply(this,arguments)}}()}};function ai(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zn("no-auth-event")}}function na(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function zc(p=(0,fe.z$)()){return!("file:"!==na()&&"ionic:"!==na()&&"capacitor:"!==na()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function a1(){try{const p=self.localStorage,f=xo();if(p)return p.setItem(f,"1"),p.removeItem(f),!function JR(p=(0,fe.z$)()){return function qg(){return(0,fe.w1)()&&11===document?.documentMode}()||function rl(p=(0,fe.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,fe.hl)()}catch{return c1()&&(0,fe.hl)()}return!1}function c1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function u1(){return(function nl(){return"http:"===na()||"https:"===na()}()||(0,fe.ru)()||zc())&&!function o1(){return(0,fe.b$)()||(0,fe.UG)()}()&&a1()&&!c1()}function vT(){return zc()&&typeof document<"u"}function l1(){return(l1=(0,b.Z)(function*(){return!!vT()&&new Promise(p=>{const f=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),p(!0)})})})).apply(this,arguments)}const ci={LOCAL:"local",NONE:"none",SESSION:"session"},Gf=Ae,f1="persistence";function Kg(p){return qc.apply(this,arguments)}function qc(){return(qc=(0,b.Z)(function*(p){yield p._initializationPromise;const f=Us(),d=Qt(f1,p.config.apiKey,p.name);f&&f.setItem(d,p._getPersistence())})).apply(this,arguments)}function Us(){var p;try{return(null===(p=function tP(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const il=Ae;class ka{constructor(){this.browserResolver=me(Hf),this.cordovaResolver=me(mT),this.underlyingResolver=null,this._redirectPersistence=jc,this._completeRedirectFn=Vf,this._overrideRedirectResult=kg}_initialize(f){var d=this;return(0,b.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,d,m,E){var A=this;return(0,b.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(f,d,m,E)})()}_openRedirect(f,d,m,E){var A=this;return(0,b.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(f,d,m,E)})()}_isIframeWebStorageSupported(f,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,d)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return vT()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return il(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,b.Z)(function*(){if(f.underlyingResolver)return;const d=yield function eP(){return l1.apply(this,arguments)}();f.underlyingResolver=d?f.cordovaResolver:f.browserResolver})()}}function Wf(p){return p.unwrap()}function xT(p){return d1(p)}function d1(p){const{_tokenResponse:f}=p instanceof fe.ZR?p.customData:p;if(!f)return null;if(!(p instanceof fe.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ku.credentialFromResult(p);const d=f.providerId;if(!d||d===en.PASSWORD)return null;let m;switch(d){case en.GOOGLE:m=yy;break;case en.FACEBOOK:m=vy;break;case en.GITHUB:m=Go;break;case en.TWITTER:m=Tf;break;default:const{oauthIdToken:E,oauthAccessToken:A,oauthTokenSecret:L,pendingToken:Z,nonce:xe}=f;return A||L||E||Z?Z?d.startsWith("saml.")?Di._create(d,Z):Aa._fromParams({providerId:d,signInMethod:d,pendingToken:Z,idToken:E,accessToken:A}):new Lu(d).credential({idToken:E,accessToken:A,rawNonce:xe}):null}return p instanceof fe.ZR?m.credentialFromError(p):m.credentialFromResult(p)}function js(p,f){return f.catch(d=>{throw d instanceof fe.ZR&&function nP(p,f){var d;const m=null===(d=f.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new sl(p,function PR(p,f){var d;const m=(0,fe.m9)(p),E=f;return Ae(f.customData.operationType,m,"argument-error"),Ae(null===(d=E.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),gg._fromError(m,E)}(p,f));else if(m){const E=d1(f),A=f;E&&(A.credential=E,A.tenantId=m.tenantId||void 0,A.email=m.email||void 0,A.phoneNumber=m.phoneNumber||void 0)}}(p,d),d}).then(d=>{const E=d.user;return{operationType:d.operationType,credential:xT(d),additionalUserInfo:Qo(d),user:sc.getOrCreate(E)}})}function Yi(p,f){return qf.apply(this,arguments)}function qf(){return(qf=(0,b.Z)(function*(p,f){const d=yield f;return{verificationId:d.verificationId,confirm:m=>js(p,d.confirm(m))}})).apply(this,arguments)}class sl{constructor(f,d){this.resolver=d,this.auth=function zf(p){return p.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return js(Wf(this.auth),this.resolver.resolveSignIn(f))}}class sc{constructor(f){this._delegate=f,this.multiFactor=function FR(p){const f=(0,fe.m9)(p);return Dy.has(f)||Dy.set(f,Sy._fromUser(f)),Dy.get(f)}(f)}static getOrCreate(f){return sc.USER_MAP.has(f)||sc.USER_MAP.set(f,new sc(f)),sc.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var d=this;return(0,b.Z)(function*(){return js(d.auth,wy(d._delegate,f))})()}linkWithPhoneNumber(f,d){var m=this;return(0,b.Z)(function*(){return Yi(m.auth,function GI(p,f,d){return Ig.apply(this,arguments)}(m._delegate,f,d))})()}linkWithPopup(f){var d=this;return(0,b.Z)(function*(){return js(d.auth,function nc(p,f,d){return Th.apply(this,arguments)}(d._delegate,f,ka))})()}linkWithRedirect(f){var d=this;return(0,b.Z)(function*(){return yield Kg(fr(d.auth)),be(d._delegate,f,ka)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var d=this;return(0,b.Z)(function*(){return js(d.auth,Iy(d._delegate,f))})()}reauthenticateWithPhoneNumber(f,d){return Yi(this.auth,function Vy(p,f,d){return Eh.apply(this,arguments)}(this._delegate,f,d))}reauthenticateWithPopup(f){return js(this.auth,function zI(p,f,d){return Dg.apply(this,arguments)}(this._delegate,f,ka))}reauthenticateWithRedirect(f){var d=this;return(0,b.Z)(function*(){return yield Kg(fr(d.auth)),YI(d._delegate,f,ka)})()}sendEmailVerification(f){return function Bu(p,f){return bt.apply(this,arguments)}(this._delegate,f)}unlink(f){var d=this;return(0,b.Z)(function*(){return yield function xy(p,f){return Vc.apply(this,arguments)}(d._delegate,f),d})()}updateEmail(f){return function Ko(p,f){return fg((0,fe.m9)(p),f,null)}(this._delegate,f)}updatePassword(f){return function Pf(p,f){return fg((0,fe.m9)(p),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function WI(p,f){return so.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Rf(p,f){return Xa.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,d){return function kf(p,f,d){return gh.apply(this,arguments)}(this._delegate,f,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sc.USER_MAP=new WeakMap;const ol=Ae;let h1=(()=>{class p{constructor(d,m){if(this.app=d,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:E}=d.options;ol(E,"invalid-api-key",{appName:d.name}),ol(E,"invalid-api-key",{appName:d.name});const A=typeof window<"u"?ka:void 0;this._delegate=m.initialize({options:{persistence:ET(E,d.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(vi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,m){!function yt(p,f,d){const m=fr(p);Ae(m._canInitEmulator,m,"emulator-config-failed"),Ae(/^https?:\/\//.test(f),m,"invalid-emulator-scheme");const E=!!d?.disableWarnings,A=AI(f),{host:L,port:Z}=function Ls(p){const f=AI(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(f.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(m);if(E){const A=E[1];return{host:A,port:pf(m.substr(A.length+1))}}{const[A,L]=m.split(":");return{host:A,port:pf(L)}}}(f);m.config.emulator={url:`${A}//${L}${null===Z?"":`:${Z}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:L,port:Z,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function CI(){function p(){const f=document.createElement("p"),d=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,m)}applyActionCode(d){return function zi(p,f){return Ya.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return fs(this._delegate,d)}confirmPasswordReset(d,m){return function gn(p,f,d){return Gr.apply(this,arguments)}(this._delegate,d,m)}createUserWithEmailAndPassword(d,m){var E=this;return(0,b.Z)(function*(){return js(E._delegate,function PI(p,f,d){return lg.apply(this,arguments)}(E._delegate,d,m))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Dr(p,f){return qo.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function nr(p,f){const d=Fu.parseLink(f);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,b.Z)(function*(){ol(u1(),d._delegate,"operation-not-supported-in-this-environment");const m=yield function $c(p,f){return Kr.apply(this,arguments)}(d._delegate,ka);return m?js(d._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function zg(p,f){fr(p)._logFramework(f)}(this._delegate,d)}onAuthStateChanged(d,m,E){const{next:A,error:L,complete:Z}=p1(d,m,E);return this._delegate.onAuthStateChanged(A,L,Z)}onIdTokenChanged(d,m,E){const{next:A,error:L,complete:Z}=p1(d,m,E);return this._delegate.onIdTokenChanged(A,L,Z)}sendSignInLinkToEmail(d,m){return function Je(p,f,d){return Mt.apply(this,arguments)}(this._delegate,d,m)}sendPasswordResetEmail(d,m){return function Dt(p,f,d){return bi.apply(this,arguments)}(this._delegate,d,m||void 0)}setPersistence(d){var m=this;return(0,b.Z)(function*(){let E;switch(function Zr(p,f){Gf(Object.values(ci).includes(f),p,"invalid-persistence-type"),(0,fe.b$)()?Gf(f!==ci.SESSION,p,"unsupported-persistence-type"):(0,fe.UG)()?Gf(f===ci.NONE,p,"unsupported-persistence-type"):c1()?Gf(f===ci.NONE||f===ci.LOCAL&&(0,fe.hl)(),p,"unsupported-persistence-type"):Gf(f===ci.NONE||a1(),p,"unsupported-persistence-type")}(m._delegate,d),d){case ci.SESSION:E=jc;break;case ci.LOCAL:E=(yield me(zu)._isAvailable())?zu:Ff;break;case ci.NONE:E=yn;break;default:return Sn("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(E)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return js(this._delegate,function Cf(p){return oh.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return js(this._delegate,Df(this._delegate,d))}signInWithCustomToken(d){return js(this._delegate,function RI(p,f){return Sr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,m){return js(this._delegate,function wr(p,f,d){return Df((0,fe.m9)(p),Ou.credential(f,d)).catch(function(){var m=(0,b.Z)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&ug(p),E});return function(E){return m.apply(this,arguments)}}())}(this._delegate,d,m))}signInWithEmailLink(d,m){return js(this._delegate,function yo(p,f,d){return Bc.apply(this,arguments)}(this._delegate,d,m))}signInWithPhoneNumber(d,m){return Yi(this._delegate,function io(p,f,d){return xh.apply(this,arguments)}(this._delegate,d,m))}signInWithPopup(d){var m=this;return(0,b.Z)(function*(){return ol(u1(),m._delegate,"operation-not-supported-in-this-environment"),js(m._delegate,function Bs(p,f,d){return Sg.apply(this,arguments)}(m._delegate,d,ka))})()}signInWithRedirect(d){var m=this;return(0,b.Z)(function*(){return ol(u1(),m._delegate,"operation-not-supported-in-this-environment"),yield Kg(m._delegate),Qu(m._delegate,d,ka)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Ty(p,f){return Vu.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=ci,p})();function p1(p,f,d){let m=p;"function"!=typeof p&&({next:m,error:f,complete:d}=p);const E=m;return{next:L=>E(L&&sc.getOrCreate(L)),error:f,complete:d}}function ET(p,f){const d=function yT(p,f){const d=Us();if(!d)return[];const m=Qt(f1,p,f);switch(d.getItem(m)){case ci.NONE:return[yn];case ci.LOCAL:return[zu,jc];case ci.SESSION:return[jc];default:return[]}}(p,f);if(typeof self<"u"&&!d.includes(zu)&&d.push(zu),typeof window<"u")for(const m of[Ff,jc])d.includes(m)||d.push(m);return d.includes(yn)||d.push(yn),d}class Zg{constructor(){this.providerId="phone",this._delegate=new Ku(Wf(Tt.Z.auth()))}static credential(f,d){return Ku.credential(f,d)}verifyPhoneNumber(f,d){return this._delegate.verifyPhoneNumber(f,d)}unwrap(){return this._delegate}}Zg.PHONE_SIGN_IN_METHOD=Ku.PHONE_SIGN_IN_METHOD,Zg.PROVIDER_ID=Ku.PROVIDER_ID;const wT=Ae;class IT{constructor(f,d,m=Tt.Z.app()){var E;wT(null===(E=m.options)||void 0===E?void 0:E.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new $I(m.auth(),f,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Hh(p){p.INTERNAL.registerComponent(new Er.wA("auth-compat",f=>{const d=f.getProvider("app-compat").getImmediate(),m=f.getProvider("auth");return new h1(d,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ou,FacebookAuthProvider:vy,GithubAuthProvider:Go,GoogleAuthProvider:yy,OAuthProvider:Lu,SAMLAuthProvider:cn,PhoneAuthProvider:Zg,PhoneMultiFactorGenerator:Xy,RecaptchaVerifier:IT,TwitterAuthProvider:Tf,Auth:h1,AuthCredential:Lc,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.8")}(Tt.Z)},861:(xa,mi,Ot)=>{function b(fe,St,En,ar,Er,_i,en){try{var Ce=fe[_i](en),Oe=Ce.value}catch(ut){return void En(ut)}Ce.done?St(Oe):Promise.resolve(Oe).then(ar,Er)}function Tt(fe){return function(){var St=this,En=arguments;return new Promise(function(ar,Er){var _i=fe.apply(St,En);function en(Oe){b(_i,ar,Er,en,Ce,"next",Oe)}function Ce(Oe){b(_i,ar,Er,en,Ce,"throw",Oe)}en(void 0)})}}Ot.d(mi,{Z:()=>Tt})},582:(xa,mi,Ot)=>{function St(se,ue){var he={};for(var Ee in se)Object.prototype.hasOwnProperty.call(se,Ee)&&ue.indexOf(Ee)<0&&(he[Ee]=se[Ee]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(Ee=Object.getOwnPropertySymbols(se);De<Ee.length;De++)ue.indexOf(Ee[De])<0&&Object.prototype.propertyIsEnumerable.call(se,Ee[De])&&(he[Ee[De]]=se[Ee[De]])}return he}function ut(se,ue,he,Ee){return new(he||(he=Promise))(function(de,tt){function an(vn){try{gt(Ee.next(vn))}catch(ur){tt(ur)}}function dt(vn){try{gt(Ee.throw(vn))}catch(ur){tt(ur)}}function gt(vn){vn.done?de(vn.value):function De(de){return de instanceof he?de:new he(function(tt){tt(de)})}(vn.value).then(an,dt)}gt((Ee=Ee.apply(se,ue||[])).next())})}function Jn(se){return this instanceof Jn?(this.v=se,this):new Jn(se)}function Sn(se,ue,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Ee=he.apply(se,ue||[]),de=[];return De={},tt("next"),tt("throw"),tt("return"),De[Symbol.asyncIterator]=function(){return this},De;function tt(Zn){Ee[Zn]&&(De[Zn]=function(Ai){return new Promise(function(ii,$i){de.push([Zn,Ai,ii,$i])>1||an(Zn,Ai)})})}function an(Zn,Ai){try{!function dt(Zn){Zn.value instanceof Jn?Promise.resolve(Zn.value.v).then(gt,vn):ur(de[0][2],Zn)}(Ee[Zn](Ai))}catch(ii){ur(de[0][3],ii)}}function gt(Zn){an("next",Zn)}function vn(Zn){an("throw",Zn)}function ur(Zn,Ai){Zn(Ai),de.shift(),de.length&&an(de[0][0],de[0][1])}}function ss(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ue=se[Symbol.asyncIterator];return ue?ue.call(se):(se=function Cn(se){var ue="function"==typeof Symbol&&Symbol.iterator,he=ue&&se[ue],Ee=0;if(he)return he.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Ee>=se.length&&(se=void 0),{value:se&&se[Ee++],done:!se}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),he={},Ee("next"),Ee("throw"),Ee("return"),he[Symbol.asyncIterator]=function(){return this},he);function Ee(de){he[de]=se[de]&&function(tt){return new Promise(function(an,dt){!function De(de,tt,an,dt){Promise.resolve(dt).then(function(gt){de({value:gt,done:an})},tt)}(an,dt,(tt=se[de](tt)).done,tt.value)})}}}Ot.d(mi,{FC:()=>Sn,KL:()=>ss,_T:()=>St,mG:()=>ut,qq:()=>Jn}),"function"==typeof SuppressedError&&SuppressedError}},xa=>{xa(xa.s=528)}]);